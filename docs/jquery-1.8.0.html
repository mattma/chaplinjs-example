<!DOCTYPE html>  <html> <head>   <title>jquery-1.8.0.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               jquery-1.8.0.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*!</span>
<span class="cm"> * jQuery JavaScript Library v1.8.0</span>
<span class="cm"> * http://jquery.com/</span>
<span class="cm"> *</span>
<span class="cm"> * Includes Sizzle.js</span>
<span class="cm"> * http://sizzlejs.com/</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2012 jQuery Foundation and other contributors</span>
<span class="cm"> * Released under the MIT license</span>
<span class="cm"> * http://jquery.org/license</span>
<span class="cm"> *</span>
<span class="cm"> * Date: Thu Aug 09 2012 16:24:48 GMT-0400 (Eastern Daylight Time)</span>
<span class="cm"> */</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nb">window</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>A central reference to the root jQuery(document)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rootjQuery</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>The deferred used on DOM ready</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">readyList</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Use the correct document accordingly with window argument (sandbox)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nb">document</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span>
	<span class="nx">location</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span>
	<span class="nx">navigator</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">navigator</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Map over jQuery in case of overwrite</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_jQuery</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Map over the $ in case of overwrite</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">$</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Save a reference to some core methods</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">core_push</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">,</span>
	<span class="nx">core_slice</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">,</span>
	<span class="nx">core_indexOf</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">,</span>
	<span class="nx">core_toString</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span>
	<span class="nx">core_hasOwn</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">,</span>
	<span class="nx">core_trim</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Define a local copy of jQuery</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>The jQuery object is actually just the init constructor 'enhanced'</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuery</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Used for matching numbers</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">core_pnum</span> <span class="o">=</span> <span class="sr">/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Used for detecting and trimming whitespace</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">core_rnotwhite</span> <span class="o">=</span> <span class="sr">/\S/</span><span class="p">,</span>
	<span class="nx">core_rspace</span> <span class="o">=</span> <span class="sr">/\s+/</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>IE doesn't match non-breaking spaces with \s</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rtrim</span> <span class="o">=</span> <span class="nx">core_rnotwhite</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;\xA0&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="sr">/^[\s\xA0]+|[\s\xA0]+$/g</span><span class="p">)</span> <span class="o">:</span> <span class="sr">/^\s+|\s+$/g</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>A simple way to check for HTML strings
Prioritize #id over <tag> to avoid XSS via location.hash (#9521)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rquickExpr</span> <span class="o">=</span> <span class="sr">/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Match a standalone tag</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rsingleTag</span> <span class="o">=</span> <span class="sr">/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>JSON RegExp</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rvalidchars</span> <span class="o">=</span> <span class="sr">/^[\],:{}\s]*$/</span><span class="p">,</span>
	<span class="nx">rvalidbraces</span> <span class="o">=</span> <span class="sr">/(?:^|:|,)(?:\s*\[)+/g</span><span class="p">,</span>
	<span class="nx">rvalidescape</span> <span class="o">=</span> <span class="sr">/\\(?:[&quot;\\\/bfnrt]|u[\da-fA-F]{4})/g</span><span class="p">,</span>
	<span class="nx">rvalidtokens</span> <span class="o">=</span> <span class="sr">/&quot;[^&quot;\\\r\n]*&quot;|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Matches dashed string for camelizing</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rmsPrefix</span> <span class="o">=</span> <span class="sr">/^-ms-/</span><span class="p">,</span>
	<span class="nx">rdashAlpha</span> <span class="o">=</span> <span class="sr">/-([\da-z])/gi</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Used by jQuery.camelCase as callback to replace()</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">fcamelCase</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">all</span><span class="p">,</span> <span class="nx">letter</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span> <span class="nx">letter</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>The ready event handler and self cleanup method</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">DOMContentLoaded</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span> <span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s2">&quot;complete&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>we're here because readyState === "complete" in oldIE
which is good enough for us to call the dom ready!</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">document</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span> <span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span> <span class="p">);</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>[[Class]] -> type pairs</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">class2type</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">constructor</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">,</span>
	<span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuery</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">match</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">doc</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Handle $(""), $(null), $(undefined), $(false)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Handle $(DOMElement)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodeType</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Handle HTML strings</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&gt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Assume that strings that start and end with &lt;> are HTML and skip the regex check</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">match</span> <span class="o">=</span> <span class="p">[</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">null</span> <span class="p">];</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">match</span> <span class="o">=</span> <span class="nx">rquickExpr</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Match html or make sure no context is specified for #id</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="o">!</span><span class="nx">context</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>HANDLE: $(html) -> $(array)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">?</span> <span class="nx">context</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">:</span> <span class="nx">context</span><span class="p">;</span>
					<span class="nx">doc</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">context</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">?</span> <span class="nx">context</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nx">context</span> <span class="o">:</span> <span class="nb">document</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>scripts is true for back-compat</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">selector</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">parseHTML</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">doc</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">rsingleTag</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
					<span class="p">}</span>

					<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>HANDLE: $(#id)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">elem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Check parentNode to catch when Blackberry 4.6 returns
nodes that are no longer in the document #6963</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Handle the case where IE and Opera return items
by name instead of ID</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="nx">rootjQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Otherwise, we inject the element directly into the jQuery object</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
						<span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>
					<span class="p">}</span>

					<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
					<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>HANDLE: $(expr, $(...))</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">context</span> <span class="o">||</span> <span class="nx">context</span><span class="p">.</span><span class="nx">jquery</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span> <span class="nx">context</span> <span class="o">||</span> <span class="nx">rootjQuery</span> <span class="p">).</span><span class="nx">find</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>HANDLE: $(expr, context)
(which is just equivalent to: $(context).find(expr)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span> <span class="nx">context</span> <span class="p">).</span><span class="nx">find</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>HANDLE: $(function)
Shortcut for document ready</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">rootjQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">selector</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">selector</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>Start with an empty selector</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">selector</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>The current version of jQuery being used</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jquery</span><span class="o">:</span> <span class="s2">&quot;1.8.0&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>The default length of a jQuery object is 0</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">length</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>The number of elements contained in the matched element set</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">size</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">toArray</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>Get the Nth element in the matched element set OR
Get the whole matched element set as a clean array</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">num</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">num</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Return a 'clean' array</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">this</span><span class="p">.</span><span class="nx">toArray</span><span class="p">()</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>Return just the object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">(</span> <span class="nx">num</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="k">this</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">num</span> <span class="p">]</span> <span class="o">:</span> <span class="k">this</span><span class="p">[</span> <span class="nx">num</span> <span class="p">]</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>Take an array of elements and push it onto the stack
(returning the new matched element set)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">pushStack</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>Build a new jQuery matched element set</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(),</span> <span class="nx">elems</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <p>Add the old object onto the stack (as a reference)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">ret</span><span class="p">.</span><span class="nx">prevObject</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

		<span class="nx">ret</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;find&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">+</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">selector</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">selector</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p>Return the newly-formed element set</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>Execute a callback for every element in the matched set.
(You can seed the arguments with an array of args, but this is
only used internally.)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">each</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">ready</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>Add the callback</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">.</span><span class="nx">promise</span><span class="p">().</span><span class="nx">done</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">);</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">eq</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="o">+</span><span class="nx">i</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">i</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">first</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">last</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">slice</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">),</span>
			<span class="s2">&quot;slice&quot;</span><span class="p">,</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">map</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
		<span class="p">}));</span>
	<span class="p">},</span>

	<span class="nx">end</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <p>For internal use only.
Behaves like an Array's method, not like a jQuery method.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">push</span><span class="o">:</span> <span class="nx">core_push</span><span class="p">,</span>
	<span class="nx">sort</span><span class="o">:</span> <span class="p">[].</span><span class="nx">sort</span><span class="p">,</span>
	<span class="nx">splice</span><span class="o">:</span> <span class="p">[].</span><span class="nx">splice</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>Give the init function the jQuery prototype for later instantiation</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">copy</span><span class="p">,</span> <span class="nx">copyIsArray</span><span class="p">,</span> <span class="nx">clone</span><span class="p">,</span>
		<span class="nx">target</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="p">{},</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="nx">length</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
		<span class="nx">deep</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Handle a deep copy situation</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">target</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">deep</span> <span class="o">=</span> <span class="nx">target</span><span class="p">;</span>
		<span class="nx">target</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <p>skip the boolean and the target</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>Handle case when target is a string or something (possible in deep copy)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">target</span> <span class="o">!==</span> <span class="s2">&quot;object&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">target</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">target</span> <span class="o">=</span> <span class="p">{};</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>extend jQuery itself if only one argument is passed</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">length</span> <span class="o">===</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">target</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
		<span class="o">--</span><span class="nx">i</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>Only deal with non-null/undefined values</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span> <span class="nx">i</span> <span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <p>Extend the base object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">src</span> <span class="o">=</span> <span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
				<span class="nx">copy</span> <span class="o">=</span> <span class="nx">options</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <p>Prevent never-ending loop</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">target</span> <span class="o">===</span> <span class="nx">copy</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">continue</span><span class="p">;</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <p>Recurse if we're merging plain objects or arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">deep</span> <span class="o">&amp;&amp;</span> <span class="nx">copy</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">copy</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">copyIsArray</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">copy</span><span class="p">))</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">copyIsArray</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">copyIsArray</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
						<span class="nx">clone</span> <span class="o">=</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="o">?</span> <span class="nx">src</span> <span class="o">:</span> <span class="p">[];</span>

					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">clone</span> <span class="o">=</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="o">?</span> <span class="nx">src</span> <span class="o">:</span> <span class="p">{};</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <p>Never move original objects, clone them</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">deep</span><span class="p">,</span> <span class="nx">clone</span><span class="p">,</span> <span class="nx">copy</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <p>Don't bring in undefined values</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">copy</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">copy</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <p>Return the modified object</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">target</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">noConflict</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">deep</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">===</span> <span class="nx">jQuery</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nx">_$</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">deep</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">===</span> <span class="nx">jQuery</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="nx">_jQuery</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <p>Is the DOM ready to be used? Set to true once it occurs.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">isReady</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <p>A counter to track how many items to wait for before
the ready event fires. See #6781</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">readyWait</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <p>Hold (or release) the ready event</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">holdReady</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">hold</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">hold</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span> <span class="kc">true</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <p>Handle when the DOM is ready</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">ready</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">wait</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>Abort if there are pending holds or we're already ready</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">wait</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">?</span> <span class="o">--</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <p>Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <p>Remember that the DOM is ready</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <p>If a normal DOM Ready event fired, decrement, and wait if need be</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">wait</span> <span class="o">!==</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="o">--</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <p>If there are functions bound, to execute</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">readyList</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nb">document</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jQuery</span> <span class="p">]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-70">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-70">&#182;</a>               </div>               <p>Trigger any bound ready events</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">trigger</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">(</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">).</span><span class="nx">off</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-71">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-71">&#182;</a>               </div>               <p>See test/unit/core.js for details concerning isFunction.
Since version 1.3, DOM methods and functions like alert
aren't supported. They return false on IE (#2968).</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">isFunction</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">isArray</span><span class="o">:</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;array&quot;</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">isWindow</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">obj</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span> <span class="o">==</span> <span class="nx">obj</span><span class="p">.</span><span class="nb">window</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">isNumeric</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">type</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">obj</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
			<span class="nb">String</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="o">:</span>
			<span class="nx">class2type</span><span class="p">[</span> <span class="nx">core_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;object&quot;</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">isPlainObject</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-72">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-72">&#182;</a>               </div>               <p>Must be an Object.
Because of IE, we also have to check the presence of the constructor property.
Make sure that DOM nodes and window objects don't pass through, as well</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">obj</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">!==</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">try</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-73">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-73">&#182;</a>               </div>               <p>Not own constructor property must be Object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">&amp;&amp;</span>
				<span class="o">!</span><span class="nx">core_hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&quot;constructor&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="o">!</span><span class="nx">core_hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="s2">&quot;isPrototypeOf&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-74">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-74">&#182;</a>               </div>               <p>IE8,9 Will throw exceptions on certain host objects #9897</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-75">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-75">&#182;</a>               </div>               <p>Own properties are enumerated firstly, so to speed up,
if last one is own, then all properties are own.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{}</span>

		<span class="k">return</span> <span class="nx">key</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">core_hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">key</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">isEmptyObject</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">name</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">msg</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span> <span class="nx">msg</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-76">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-76">&#182;</a>               </div>               <p>data: string of html
context (optional): If specified, the fragment will be created in this context, defaults to document
scripts (optional): If true, will include scripts passed in the html string</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">parseHTML</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">scripts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">parsed</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">data</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">scripts</span> <span class="o">=</span> <span class="nx">context</span><span class="p">;</span>
			<span class="nx">context</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-77">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-77">&#182;</a>               </div>               <p>Single tag</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">parsed</span> <span class="o">=</span> <span class="nx">rsingleTag</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">data</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">[</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="nx">parsed</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="nx">parsed</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">buildFragment</span><span class="p">(</span> <span class="p">[</span> <span class="nx">data</span> <span class="p">],</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">scripts</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="p">[]</span> <span class="p">);</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="p">[],</span>
			<span class="p">(</span><span class="nx">parsed</span><span class="p">.</span><span class="nx">cacheable</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">fragment</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">parsed</span><span class="p">.</span><span class="nx">fragment</span><span class="p">).</span><span class="nx">childNodes</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">parseJSON</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">data</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-78">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-78">&#182;</a>               </div>               <p>Make sure leading/trailing whitespace is removed (IE can't handle it)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-79">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-79">&#182;</a>               </div>               <p>Attempt to parse using the native JSON parser first</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-80">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-80">&#182;</a>               </div>               <p>Make sure the incoming data is actual JSON
Logic borrowed from http://json.org/json2.js</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">rvalidchars</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">data</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rvalidescape</span><span class="p">,</span> <span class="s2">&quot;@&quot;</span> <span class="p">)</span>
			<span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rvalidtokens</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span> <span class="p">)</span>
			<span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rvalidbraces</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">return</span> <span class="p">(</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span> <span class="s2">&quot;return &quot;</span> <span class="o">+</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">)();</span>

		<span class="p">}</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="s2">&quot;Invalid JSON: &quot;</span> <span class="o">+</span> <span class="nx">data</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-81">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-81">&#182;</a>               </div>               <p>Cross-browser xml parsing</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">parseXML</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">xml</span><span class="p">,</span> <span class="nx">tmp</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">data</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">try</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">DOMParser</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// Standard</span>
				<span class="nx">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DOMParser</span><span class="p">();</span>
				<span class="nx">xml</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">.</span><span class="nx">parseFromString</span><span class="p">(</span> <span class="nx">data</span> <span class="p">,</span> <span class="s2">&quot;text/xml&quot;</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// IE</span>
				<span class="nx">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span> <span class="s2">&quot;Microsoft.XMLDOM&quot;</span> <span class="p">);</span>
				<span class="nx">xml</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span><span class="p">;</span>
				<span class="nx">xml</span><span class="p">.</span><span class="nx">loadXML</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">xml</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">xml</span> <span class="o">||</span> <span class="o">!</span><span class="nx">xml</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">||</span> <span class="nx">xml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="s2">&quot;parsererror&quot;</span> <span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="s2">&quot;Invalid XML: &quot;</span> <span class="o">+</span> <span class="nx">data</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">xml</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">noop</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span></pre></div>             </td>           </tr>                               <tr id="section-82">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-82">&#182;</a>               </div>               <p>Evaluates a script in a global context
Workarounds based on findings by Jim Driscoll
http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">globalEval</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="o">&amp;&amp;</span> <span class="nx">core_rnotwhite</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-83">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-83">&#182;</a>               </div>               <p>We use execScript on Internet Explorer
We use an anonymous function so that context is window
rather than jQuery in Firefox</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">execScript</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nb">window</span><span class="p">[</span> <span class="s2">&quot;eval&quot;</span> <span class="p">].</span><span class="nx">call</span><span class="p">(</span> <span class="nb">window</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span>
			<span class="p">}</span> <span class="p">)(</span> <span class="nx">data</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-84">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-84">&#182;</a>               </div>               <p>Convert dashed to camelCase; used by the css and data modules
Microsoft forgot to hump their vendor prefix (#9572)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">camelCase</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">string</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">string</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rmsPrefix</span><span class="p">,</span> <span class="s2">&quot;ms-&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rdashAlpha</span><span class="p">,</span> <span class="nx">fcamelCase</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">nodeName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">===</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-85">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-85">&#182;</a>               </div>               <p>args is for internal usage only</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">each</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">name</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">isObj</span> <span class="o">=</span> <span class="nx">length</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">args</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">isObj</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">args</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">break</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">],</span> <span class="nx">args</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">break</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-86">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-86">&#182;</a>               </div>               <p>A special, fast, case for the most common use of each</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">isObj</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">break</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">]</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">break</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-87">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-87">&#182;</a>               </div>               <p>Use native String.trim function wherever possible</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">trim</span><span class="o">:</span> <span class="nx">core_trim</span> <span class="o">?</span>
		<span class="kd">function</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">text</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
				<span class="s2">&quot;&quot;</span> <span class="o">:</span>
				<span class="nx">core_trim</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">text</span> <span class="p">);</span>
		<span class="p">}</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-88">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-88">&#182;</a>               </div>               <p>Otherwise use our own trimming functionality</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">function</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">text</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
				<span class="s2">&quot;&quot;</span> <span class="o">:</span>
				<span class="nx">text</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rtrim</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-89">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-89">&#182;</a>               </div>               <p>results is for internal usage only</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">makeArray</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">arr</span><span class="p">,</span> <span class="nx">results</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">type</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">results</span> <span class="o">||</span> <span class="p">[];</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">arr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-90">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-90">&#182;</a>               </div>               <p>The window, strings (and functions) also have 'length'
Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">type</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span> <span class="nx">arr</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;regexp&quot;</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">arr</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">core_push</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">arr</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">arr</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">inArray</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">arr</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">len</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">arr</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">core_indexOf</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">core_indexOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arr</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="nx">len</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">?</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">+</span> <span class="nx">i</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">i</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-91">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-91">&#182;</a>               </div>               <p>Skip accessing in sparse arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">arr</span> <span class="o">&amp;&amp;</span> <span class="nx">arr</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">===</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">merge</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">first</span><span class="p">,</span> <span class="nx">second</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">second</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="nx">first</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">l</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">first</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">second</span><span class="p">[</span> <span class="nx">j</span> <span class="p">];</span>
			<span class="p">}</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">while</span> <span class="p">(</span> <span class="nx">second</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">first</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">second</span><span class="p">[</span> <span class="nx">j</span><span class="o">++</span> <span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">first</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>

		<span class="k">return</span> <span class="nx">first</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">grep</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">inv</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">retVal</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="nx">inv</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">inv</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-92">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-92">&#182;</a>               </div>               <p>Go through the array, only saving the items
that pass the validator function</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">retVal</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">callback</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span> <span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">inv</span> <span class="o">!==</span> <span class="nx">retVal</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-93">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-93">&#182;</a>               </div>               <p>arg is for internal usage only</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">map</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">arg</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-94">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-94">&#182;</a>               </div>               <p>jquery objects are treated as arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">isArray</span> <span class="o">=</span> <span class="nx">elems</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">||</span> <span class="nx">length</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">length</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">elems</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">length</span> <span class="o">-</span><span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">elems</span> <span class="p">)</span> <span class="p">)</span> <span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-95">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-95">&#182;</a>               </div>               <p>Go through the array, translating each of the items to their</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">isArray</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">arg</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">ret</span><span class="p">[</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-96">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-96">&#182;</a>               </div>               <p>Go through every key on the object,</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">elems</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">key</span> <span class="p">],</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">arg</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">ret</span><span class="p">[</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-97">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-97">&#182;</a>               </div>               <p>Flatten any nested arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">concat</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="p">[],</span> <span class="nx">ret</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-98">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-98">&#182;</a>               </div>               <p>A global GUID counter for objects</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">guid</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-99">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-99">&#182;</a>               </div>               <p>Bind a function to a context, optionally partially applying any
arguments.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">proxy</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">tmp</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">proxy</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">tmp</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">[</span> <span class="nx">context</span> <span class="p">];</span>
			<span class="nx">context</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-100">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-100">&#182;</a>               </div>               <p>Quick check to determine if target is callable, in the spec
this throws a TypeError, but we will just return undefined.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-101">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-101">&#182;</a>               </div>               <p>Simulated bind</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">args</span> <span class="o">=</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
		<span class="nx">proxy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
		<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-102">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-102">&#182;</a>               </div>               <p>Set the guid of unique handler to the same of original handler, so it can be removed</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">proxy</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="nx">proxy</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">;</span>

		<span class="k">return</span> <span class="nx">proxy</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-103">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-103">&#182;</a>               </div>               <p>Multifunctional method to get and set values of a collection
The value/s can optionally be executed if it's a function</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">access</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">chainable</span><span class="p">,</span> <span class="nx">emptyGet</span><span class="p">,</span> <span class="nx">pass</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">exec</span><span class="p">,</span>
			<span class="nx">bulk</span> <span class="o">=</span> <span class="nx">key</span> <span class="o">==</span> <span class="kc">null</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-104">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-104">&#182;</a>               </div>               <p>Sets many values</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">key</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">key</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">key</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">emptyGet</span><span class="p">,</span> <span class="nx">value</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">chainable</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-105">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-105">&#182;</a>               </div>               <p>Sets one value</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-106">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-106">&#182;</a>               </div>               <p>Optionally, function values get executed if exec is true</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">exec</span> <span class="o">=</span> <span class="nx">pass</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">bulk</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-107">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-107">&#182;</a>               </div>               <p>Bulk operations only iterate when executing function values</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">exec</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">exec</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
					<span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">),</span> <span class="nx">value</span> <span class="p">);</span>
					<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-108">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-108">&#182;</a>               </div>               <p>Otherwise they run against the entire set</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">value</span> <span class="p">);</span>
					<span class="nx">fn</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">fn</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">exec</span> <span class="o">?</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">fn</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">pass</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="nx">chainable</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">chainable</span> <span class="o">?</span>
			<span class="nx">elems</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-109">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-109">&#182;</a>               </div>               <p>Gets</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">bulk</span> <span class="o">?</span>
				<span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elems</span> <span class="p">)</span> <span class="o">:</span>
				<span class="nx">length</span> <span class="o">?</span> <span class="nx">fn</span><span class="p">(</span> <span class="nx">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">key</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">emptyGet</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">now</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">).</span><span class="nx">getTime</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">.</span><span class="nx">promise</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">readyList</span> <span class="p">)</span> <span class="p">{</span>

		<span class="nx">readyList</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-110">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-110">&#182;</a>               </div>               <p>Catch cases where $(document).ready() is called after the
browser event has already occurred.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s2">&quot;complete&quot;</span> <span class="o">||</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!==</span> <span class="s2">&quot;loading&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-111">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-111">&#182;</a>               </div>               <p>Handle it asynchronously to allow scripts the opportunity to delay ready</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">setTimeout</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-112">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-112">&#182;</a>               </div>               <p>Standards-based browsers support DOMContentLoaded</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-113">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-113">&#182;</a>               </div>               <p>Use the handy event callback</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span> <span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-114">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-114">&#182;</a>               </div>               <p>A fallback to window.onload, that will always work</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span> <span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-115">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-115">&#182;</a>               </div>               <p>If IE event model is used</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-116">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-116">&#182;</a>               </div>               <p>Ensure firing before onload, maybe late but safe also for iframes</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">document</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span> <span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-117">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-117">&#182;</a>               </div>               <p>A fallback to window.onload, that will always work</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span> <span class="s2">&quot;onload&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-118">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-118">&#182;</a>               </div>               <p>If IE and not a frame
continually check to see if the document is ready</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

			<span class="k">try</span> <span class="p">{</span>
				<span class="nx">top</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">frameElement</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">top</span> <span class="o">&amp;&amp;</span> <span class="nx">top</span><span class="p">.</span><span class="nx">doScroll</span> <span class="p">)</span> <span class="p">{</span>
				<span class="p">(</span><span class="kd">function</span> <span class="nx">doScrollCheck</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span> <span class="p">)</span> <span class="p">{</span>

						<span class="k">try</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-119">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-119">&#182;</a>               </div>               <p>Use the trick by Diego Perini
http://javascript.nwbox.com/IEContentLoaded/</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="nx">top</span><span class="p">.</span><span class="nx">doScroll</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">);</span>
						<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span> <span class="nx">doScrollCheck</span><span class="p">,</span> <span class="mi">50</span> <span class="p">);</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-120">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-120">&#182;</a>               </div>               <p>and execute any waiting functions</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
					<span class="p">}</span>
				<span class="p">})();</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">readyList</span><span class="p">.</span><span class="nx">promise</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">);</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-121">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-121">&#182;</a>               </div>               <p>Populate the class2type map</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="s2">&quot;Boolean Number String Function Array Date RegExp Object&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">class2type</span><span class="p">[</span> <span class="s2">&quot;[object &quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-122">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-122">&#182;</a>               </div>               <p>All jQuery objects should point back to these</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">rootjQuery</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-123">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-123">&#182;</a>               </div>               <p>String to Object options format cache</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">optionsCache</span> <span class="o">=</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-124">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-124">&#182;</a>               </div>               <p>Convert String-formatted options into Object-formatted ones and store in cache</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">createOptions</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="nx">optionsCache</span><span class="p">[</span> <span class="nx">options</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">),</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">flag</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">object</span><span class="p">[</span> <span class="nx">flag</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">});</span>
	<span class="k">return</span> <span class="nx">object</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Create a callback list using the following parameters:</span>
<span class="cm"> *</span>
<span class="cm"> *	options: an optional list of space-separated options that will change how</span>
<span class="cm"> *			the callback list behaves or a more traditional option object</span>
<span class="cm"> *</span>
<span class="cm"> * By default a callback list will act like an event callback list and can be</span>
<span class="cm"> * &quot;fired&quot; multiple times.</span>
<span class="cm"> *</span>
<span class="cm"> * Possible options:</span>
<span class="cm"> *</span>
<span class="cm"> *	once:			will ensure the callback list can only be fired once (like a Deferred)</span>
<span class="cm"> *</span>
<span class="cm"> *	memory:			will keep track of previous values and will call any callback added</span>
<span class="cm"> *					after the list has been fired right away with the latest &quot;memorized&quot;</span>
<span class="cm"> *					values (like a Deferred)</span>
<span class="cm"> *</span>
<span class="cm"> *	unique:			will ensure a callback can only be added once (no duplicate in the list)</span>
<span class="cm"> *</span>
<span class="cm"> *	stopOnFalse:	interrupt callings when a callback returns false</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-125">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-125">&#182;</a>               </div>               <p>Convert options from String-formatted to Object-formatted if needed
(we check in cache first)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">options</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">options</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span>
		<span class="p">(</span> <span class="nx">optionsCache</span><span class="p">[</span> <span class="nx">options</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">createOptions</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">)</span> <span class="o">:</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">options</span> <span class="p">);</span>

	<span class="kd">var</span> <span class="c1">// Last fire value (for non-forgettable lists)</span>
		<span class="nx">memory</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-126">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-126">&#182;</a>               </div>               <p>Flag to know if list was already fired</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">fired</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-127">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-127">&#182;</a>               </div>               <p>Flag to know if list is currently firing</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">firing</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-128">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-128">&#182;</a>               </div>               <p>First callback to fire (used internally by add and fireWith)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">firingStart</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-129">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-129">&#182;</a>               </div>               <p>End of the loop when firing</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">firingLength</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-130">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-130">&#182;</a>               </div>               <p>Index of currently firing callback (modified by remove if needed)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">firingIndex</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-131">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-131">&#182;</a>               </div>               <p>Actual callback list</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">list</span> <span class="o">=</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-132">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-132">&#182;</a>               </div>               <p>Stack of fire calls for repeatable lists</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">stack</span> <span class="o">=</span> <span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">once</span> <span class="o">&amp;&amp;</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-133">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-133">&#182;</a>               </div>               <p>Fire callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">fire</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">memory</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">memory</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">;</span>
			<span class="nx">fired</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="nx">firingIndex</span> <span class="o">=</span> <span class="nx">firingStart</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">firingStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">firingLength</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">firing</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">list</span> <span class="o">&amp;&amp;</span> <span class="nx">firingIndex</span> <span class="o">&lt;</span> <span class="nx">firingLength</span><span class="p">;</span> <span class="nx">firingIndex</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span><span class="p">[</span> <span class="nx">firingIndex</span> <span class="p">].</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">data</span><span class="p">[</span> <span class="mi">0</span> <span class="p">],</span> <span class="nx">data</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">&amp;&amp;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">stopOnFalse</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">memory</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// To prevent further calls using add</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="nx">firing</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">stack</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">fire</span><span class="p">(</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">shift</span><span class="p">()</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">memory</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">list</span> <span class="o">=</span> <span class="p">[];</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">self</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-134">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-134">&#182;</a>               </div>               <p>Actual Callbacks object</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">self</span> <span class="o">=</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-135">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-135">&#182;</a>               </div>               <p>Add a callback or a collection of callbacks to the list</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">add</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-136">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-136">&#182;</a>               </div>               <p>First, we save the current length</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
					<span class="p">(</span><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span> <span class="nx">args</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">arg</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">arg</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">unique</span> <span class="o">||</span> <span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span> <span class="nx">arg</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">list</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">arg</span> <span class="p">);</span>
							<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">arg</span> <span class="o">&amp;&amp;</span> <span class="nx">arg</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-137">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-137">&#182;</a>               </div>               <p>Inspect recursively</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="nx">add</span><span class="p">(</span> <span class="nx">arg</span> <span class="p">);</span>
							<span class="p">}</span>
						<span class="p">});</span>
					<span class="p">})(</span> <span class="nx">arguments</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-138">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-138">&#182;</a>               </div>               <p>Do we need to add the callbacks to the
current firing batch?</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">firing</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">firingLength</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-139">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-139">&#182;</a>               </div>               <p>With memory, if we're not firing then
we should call right away</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">memory</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">firingStart</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>
						<span class="nx">fire</span><span class="p">(</span> <span class="nx">memory</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-140">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-140">&#182;</a>               </div>               <p>Remove a callback from the list</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">remove</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">arguments</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">arg</span> <span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">index</span><span class="p">;</span>
						<span class="k">while</span><span class="p">(</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">arg</span><span class="p">,</span> <span class="nx">list</span><span class="p">,</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">list</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">index</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-141">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-141">&#182;</a>               </div>               <p>Handle firing indexes</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="k">if</span> <span class="p">(</span> <span class="nx">firing</span> <span class="p">)</span> <span class="p">{</span>
								<span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&lt;=</span> <span class="nx">firingLength</span> <span class="p">)</span> <span class="p">{</span>
									<span class="nx">firingLength</span><span class="o">--</span><span class="p">;</span>
								<span class="p">}</span>
								<span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&lt;=</span> <span class="nx">firingIndex</span> <span class="p">)</span> <span class="p">{</span>
									<span class="nx">firingIndex</span><span class="o">--</span><span class="p">;</span>
								<span class="p">}</span>
							<span class="p">}</span>
						<span class="p">}</span>
					<span class="p">});</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-142">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-142">&#182;</a>               </div>               <p>Control if a given callback is in the list</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">has</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">list</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-143">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-143">&#182;</a>               </div>               <p>Remove all callbacks from the list</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">empty</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">list</span> <span class="o">=</span> <span class="p">[];</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-144">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-144">&#182;</a>               </div>               <p>Have the list do nothing anymore</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">disable</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">list</span> <span class="o">=</span> <span class="nx">stack</span> <span class="o">=</span> <span class="nx">memory</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-145">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-145">&#182;</a>               </div>               <p>Is it disabled?</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">disabled</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">return</span> <span class="o">!</span><span class="nx">list</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-146">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-146">&#182;</a>               </div>               <p>Lock the list in its current state</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">lock</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">stack</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">memory</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">self</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-147">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-147">&#182;</a>               </div>               <p>Is it locked?</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">locked</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">return</span> <span class="o">!</span><span class="nx">stack</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-148">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-148">&#182;</a>               </div>               <p>Call all callbacks with the given context and arguments</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fireWith</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">args</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">args</span> <span class="o">=</span> <span class="nx">args</span> <span class="o">||</span> <span class="p">[];</span>
				<span class="nx">args</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">slice</span> <span class="o">?</span> <span class="nx">args</span><span class="p">.</span><span class="nx">slice</span><span class="p">()</span> <span class="o">:</span> <span class="nx">args</span> <span class="p">];</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fired</span> <span class="o">||</span> <span class="nx">stack</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">firing</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">args</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">fire</span><span class="p">(</span> <span class="nx">args</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-149">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-149">&#182;</a>               </div>               <p>Call all the callbacks with the given arguments</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fire</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">self</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-150">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-150">&#182;</a>               </div>               <p>To know if the callbacks have already been called at least once</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fired</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">return</span> <span class="o">!!</span><span class="nx">fired</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">};</span>

	<span class="k">return</span> <span class="nx">self</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

	<span class="nx">Deferred</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">func</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">tuples</span> <span class="o">=</span> <span class="p">[</span></pre></div>             </td>           </tr>                               <tr id="section-151">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-151">&#182;</a>               </div>               <p>action, add listener, listener list, final state</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">[</span> <span class="s2">&quot;resolve&quot;</span><span class="p">,</span> <span class="s2">&quot;done&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span> <span class="s2">&quot;resolved&quot;</span> <span class="p">],</span>
				<span class="p">[</span> <span class="s2">&quot;reject&quot;</span><span class="p">,</span> <span class="s2">&quot;fail&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span> <span class="s2">&quot;rejected&quot;</span> <span class="p">],</span>
				<span class="p">[</span> <span class="s2">&quot;notify&quot;</span><span class="p">,</span> <span class="s2">&quot;progress&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;memory&quot;</span><span class="p">)</span> <span class="p">]</span>
			<span class="p">],</span>
			<span class="nx">state</span> <span class="o">=</span> <span class="s2">&quot;pending&quot;</span><span class="p">,</span>
			<span class="nx">promise</span> <span class="o">=</span> <span class="p">{</span>
				<span class="nx">state</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
				<span class="p">},</span>
				<span class="nx">always</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="nx">deferred</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">).</span><span class="nx">fail</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">);</span>
					<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
				<span class="p">},</span>
				<span class="nx">then</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="cm">/* fnDone, fnFail, fnProgress */</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">fns</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span>
					<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">newDefer</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">tuples</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">tuple</span> <span class="p">)</span> <span class="p">{</span>
							<span class="kd">var</span> <span class="nx">action</span> <span class="o">=</span> <span class="nx">tuple</span><span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
								<span class="nx">fn</span> <span class="o">=</span> <span class="nx">fns</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-152">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-152">&#182;</a>               </div>               <p>deferred[ done | fail | progress ] for forwarding actions to newDefer</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="nx">deferred</span><span class="p">[</span> <span class="nx">tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">](</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="o">?</span>
								<span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
									<span class="kd">var</span> <span class="nx">returned</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
									<span class="k">if</span> <span class="p">(</span> <span class="nx">returned</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">returned</span><span class="p">.</span><span class="nx">promise</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
										<span class="nx">returned</span><span class="p">.</span><span class="nx">promise</span><span class="p">()</span>
											<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="nx">newDefer</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">)</span>
											<span class="p">.</span><span class="nx">fail</span><span class="p">(</span> <span class="nx">newDefer</span><span class="p">.</span><span class="nx">reject</span> <span class="p">)</span>
											<span class="p">.</span><span class="nx">progress</span><span class="p">(</span> <span class="nx">newDefer</span><span class="p">.</span><span class="nx">notify</span> <span class="p">);</span>
									<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
										<span class="nx">newDefer</span><span class="p">[</span> <span class="nx">action</span> <span class="o">+</span> <span class="s2">&quot;With&quot;</span> <span class="p">](</span> <span class="k">this</span> <span class="o">===</span> <span class="nx">deferred</span> <span class="o">?</span> <span class="nx">newDefer</span> <span class="o">:</span> <span class="k">this</span><span class="p">,</span> <span class="p">[</span> <span class="nx">returned</span> <span class="p">]</span> <span class="p">);</span>
									<span class="p">}</span>
								<span class="p">}</span> <span class="o">:</span>
								<span class="nx">newDefer</span><span class="p">[</span> <span class="nx">action</span> <span class="p">]</span>
							<span class="p">);</span>
						<span class="p">});</span>
						<span class="nx">fns</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
					<span class="p">}).</span><span class="nx">promise</span><span class="p">();</span>
				<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-153">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-153">&#182;</a>               </div>               <p>Get a promise for this deferred
If obj is provided, the promise aspect is added to the object</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">promise</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="k">typeof</span> <span class="nx">obj</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">promise</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">promise</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">},</span>
			<span class="nx">deferred</span> <span class="o">=</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-154">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-154">&#182;</a>               </div>               <p>Keep pipe for back-compat</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">promise</span><span class="p">.</span><span class="nx">pipe</span> <span class="o">=</span> <span class="nx">promise</span><span class="p">.</span><span class="nx">then</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-155">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-155">&#182;</a>               </div>               <p>Add list-specific methods</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">tuples</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">tuple</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">tuple</span><span class="p">[</span> <span class="mi">2</span> <span class="p">],</span>
				<span class="nx">stateString</span> <span class="o">=</span> <span class="nx">tuple</span><span class="p">[</span> <span class="mi">3</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-156">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-156">&#182;</a>               </div>               <p>promise[ done | fail | progress ] = list.add</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">promise</span><span class="p">[</span> <span class="nx">tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">add</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-157">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-157">&#182;</a>               </div>               <p>Handle state</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">stateString</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">list</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-158">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-158">&#182;</a>               </div>               <p>state = [ resolved | rejected ]</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">state</span> <span class="o">=</span> <span class="nx">stateString</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-159">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-159">&#182;</a>               </div>               <p>[ reject<em>list | resolve</em>list ].disable; progress_list.lock</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">},</span> <span class="nx">tuples</span><span class="p">[</span> <span class="nx">i</span> <span class="o">^</span> <span class="mi">1</span> <span class="p">][</span> <span class="mi">2</span> <span class="p">].</span><span class="nx">disable</span><span class="p">,</span> <span class="nx">tuples</span><span class="p">[</span> <span class="mi">2</span> <span class="p">][</span> <span class="mi">2</span> <span class="p">].</span><span class="nx">lock</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-160">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-160">&#182;</a>               </div>               <p>deferred[ resolve | reject | notify ] = list.fire</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">deferred</span><span class="p">[</span> <span class="nx">tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">fire</span><span class="p">;</span>
			<span class="nx">deferred</span><span class="p">[</span> <span class="nx">tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;With&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">;</span>
		<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-161">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-161">&#182;</a>               </div>               <p>Make the deferred a promise</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">promise</span><span class="p">.</span><span class="nx">promise</span><span class="p">(</span> <span class="nx">deferred</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-162">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-162">&#182;</a>               </div>               <p>Call given func if any</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">func</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">deferred</span><span class="p">,</span> <span class="nx">deferred</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-163">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-163">&#182;</a>               </div>               <p>All done!</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">deferred</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-164">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-164">&#182;</a>               </div>               <p>Deferred helper</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">when</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">subordinate</span> <span class="cm">/* , ..., subordinateN */</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">resolveValues</span> <span class="o">=</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">),</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">resolveValues</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-165">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-165">&#182;</a>               </div>               <p>the count of uncompleted subordinates</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">remaining</span> <span class="o">=</span> <span class="nx">length</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">subordinate</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">subordinate</span><span class="p">.</span><span class="nx">promise</span> <span class="p">)</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">length</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-166">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-166">&#182;</a>               </div>               <p>the master Deferred. If resolveValues consist of only a single Deferred, just use that.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">deferred</span> <span class="o">=</span> <span class="nx">remaining</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">subordinate</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span></pre></div>             </td>           </tr>                               <tr id="section-167">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-167">&#182;</a>               </div>               <p>Update function for both resolve and progress values</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">updateFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">,</span> <span class="nx">values</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">contexts</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
					<span class="nx">values</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">value</span><span class="p">;</span>
					<span class="k">if</span><span class="p">(</span> <span class="nx">values</span> <span class="o">===</span> <span class="nx">progressValues</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">deferred</span><span class="p">.</span><span class="nx">notifyWith</span><span class="p">(</span> <span class="nx">contexts</span><span class="p">,</span> <span class="nx">values</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="o">--</span><span class="nx">remaining</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">deferred</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">contexts</span><span class="p">,</span> <span class="nx">values</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">};</span>
			<span class="p">},</span>

			<span class="nx">progressValues</span><span class="p">,</span> <span class="nx">progressContexts</span><span class="p">,</span> <span class="nx">resolveContexts</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-168">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-168">&#182;</a>               </div>               <p>add listeners to Deferred subordinates; treat others as resolved</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">progressValues</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span> <span class="nx">length</span> <span class="p">);</span>
			<span class="nx">progressContexts</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span> <span class="nx">length</span> <span class="p">);</span>
			<span class="nx">resolveContexts</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span> <span class="nx">length</span> <span class="p">);</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">resolveValues</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">resolveValues</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">promise</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">resolveValues</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">promise</span><span class="p">()</span>
						<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="nx">updateFunc</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">resolveContexts</span><span class="p">,</span> <span class="nx">resolveValues</span> <span class="p">)</span> <span class="p">)</span>
						<span class="p">.</span><span class="nx">fail</span><span class="p">(</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">reject</span> <span class="p">)</span>
						<span class="p">.</span><span class="nx">progress</span><span class="p">(</span> <span class="nx">updateFunc</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">progressContexts</span><span class="p">,</span> <span class="nx">progressValues</span> <span class="p">)</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="o">--</span><span class="nx">remaining</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-169">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-169">&#182;</a>               </div>               <p>if we're not waiting on anything, resolve the master</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">remaining</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">deferred</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">resolveContexts</span><span class="p">,</span> <span class="nx">resolveValues</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">support</span><span class="p">,</span>
		<span class="nx">all</span><span class="p">,</span>
		<span class="nx">a</span><span class="p">,</span>
		<span class="nx">select</span><span class="p">,</span>
		<span class="nx">opt</span><span class="p">,</span>
		<span class="nx">input</span><span class="p">,</span>
		<span class="nx">fragment</span><span class="p">,</span>
		<span class="nx">eventName</span><span class="p">,</span>
		<span class="nx">i</span><span class="p">,</span>
		<span class="nx">isSupported</span><span class="p">,</span>
		<span class="nx">clickFn</span><span class="p">,</span>
		<span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-170">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-170">&#182;</a>               </div>               <p>Preliminary tests</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">div</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;className&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span> <span class="p">);</span>
	<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href=&#39;/a&#39;&gt;a&lt;/a&gt;&lt;input type=&#39;checkbox&#39;/&gt;&quot;</span><span class="p">;</span>

	<span class="nx">all</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">);</span>
	<span class="nx">a</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)[</span> <span class="mi">0</span> <span class="p">];</span>
	<span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&quot;top:1px;float:left;opacity:.5&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-171">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-171">&#182;</a>               </div>               <p>Can't get basic test support</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">all</span> <span class="o">||</span> <span class="o">!</span><span class="nx">all</span><span class="p">.</span><span class="nx">length</span> <span class="o">||</span> <span class="o">!</span><span class="nx">a</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{};</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-172">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-172">&#182;</a>               </div>               <p>First batch of supports tests</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">select</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">);</span>
	<span class="nx">opt</span> <span class="o">=</span> <span class="nx">select</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;option&quot;</span><span class="p">)</span> <span class="p">);</span>
	<span class="nx">input</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)[</span> <span class="mi">0</span> <span class="p">];</span>

	<span class="nx">support</span> <span class="o">=</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-173">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-173">&#182;</a>               </div>               <p>IE strips leading whitespace when .innerHTML is used</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">leadingWhitespace</span><span class="o">:</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-174">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-174">&#182;</a>               </div>               <p>Make sure that tbody elements aren't automatically inserted
IE will insert them into empty tables</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">tbody</span><span class="o">:</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;tbody&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-175">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-175">&#182;</a>               </div>               <p>Make sure that link elements get serialized correctly by innerHTML
This requires a wrapper element in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">htmlSerialize</span><span class="o">:</span> <span class="o">!!</span><span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-176">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-176">&#182;</a>               </div>               <p>Get the style information from getAttribute
(IE uses .cssText instead)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">style</span><span class="o">:</span> <span class="sr">/top/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">)</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-177">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-177">&#182;</a>               </div>               <p>Make sure that URLs aren't manipulated
(IE normalizes it by default)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">hrefNormalized</span><span class="o">:</span> <span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;/a&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-178">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-178">&#182;</a>               </div>               <p>Make sure that element opacity exists
(IE uses filter instead)
Use a regex to work around a WebKit issue. See #5145</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">opacity</span><span class="o">:</span> <span class="sr">/^0.5/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-179">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-179">&#182;</a>               </div>               <p>Verify style float existence
(IE uses styleFloat instead of cssFloat)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">cssFloat</span><span class="o">:</span> <span class="o">!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssFloat</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-180">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-180">&#182;</a>               </div>               <p>Make sure that if no value is specified for a checkbox
that it defaults to "on".
(WebKit defaults to "" instead)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">checkOn</span><span class="o">:</span> <span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;on&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-181">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-181">&#182;</a>               </div>               <p>Make sure that a selected-by-default option has a working selected property.
(WebKit defaults to false instead of true, IE too, if it's in an optgroup)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">optSelected</span><span class="o">:</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">selected</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-182">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-182">&#182;</a>               </div>               <p>Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">getSetAttribute</span><span class="o">:</span> <span class="nx">div</span><span class="p">.</span><span class="nx">className</span> <span class="o">!==</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-183">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-183">&#182;</a>               </div>               <p>Tests for enctype support on a form(#6743)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">enctype</span><span class="o">:</span> <span class="o">!!</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;form&quot;</span><span class="p">).</span><span class="nx">enctype</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-184">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-184">&#182;</a>               </div>               <p>Makes sure cloning an html5 element does not cause problems
Where outerHTML is undefined, this still works</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">html5Clone</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;nav&quot;</span><span class="p">).</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">).</span><span class="nx">outerHTML</span> <span class="o">!==</span> <span class="s2">&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-185">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-185">&#182;</a>               </div>               <p>jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">boxModel</span><span class="o">:</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">compatMode</span> <span class="o">===</span> <span class="s2">&quot;CSS1Compat&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-186">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-186">&#182;</a>               </div>               <p>Will be defined later</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">submitBubbles</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">changeBubbles</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">focusinBubbles</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
		<span class="nx">deleteExpando</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">noCloneEvent</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">inlineBlockNeedsLayout</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
		<span class="nx">shrinkWrapBlocks</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
		<span class="nx">reliableMarginRight</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">boxSizingReliable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">pixelPosition</span><span class="o">:</span> <span class="kc">false</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-187">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-187">&#182;</a>               </div>               <p>Make sure checked status is properly cloned</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">input</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="nx">support</span><span class="p">.</span><span class="nx">noCloneChecked</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">).</span><span class="nx">checked</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-188">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-188">&#182;</a>               </div>               <p>Make sure that the options inside disabled selects aren't marked as disabled
(WebKit marks them as disabled)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">select</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="nx">support</span><span class="p">.</span><span class="nx">optDisabled</span> <span class="o">=</span> <span class="o">!</span><span class="nx">opt</span><span class="p">.</span><span class="nx">disabled</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-189">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-189">&#182;</a>               </div>               <p>Test to see if it's possible to delete an expando from an element
Fails in Internet Explorer</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">try</span> <span class="p">{</span>
		<span class="k">delete</span> <span class="nx">div</span><span class="p">.</span><span class="nx">test</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="o">&amp;&amp;</span> <span class="nx">div</span><span class="p">.</span><span class="nx">attachEvent</span> <span class="o">&amp;&amp;</span> <span class="nx">div</span><span class="p">.</span><span class="nx">fireEvent</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span> <span class="s2">&quot;onclick&quot;</span><span class="p">,</span> <span class="nx">clickFn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-190">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-190">&#182;</a>               </div>               <p>Cloning a node shouldn't copy over any
bound event handlers (IE does this)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">support</span><span class="p">.</span><span class="nx">noCloneEvent</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">});</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">).</span><span class="nx">fireEvent</span><span class="p">(</span><span class="s2">&quot;onclick&quot;</span><span class="p">);</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span> <span class="s2">&quot;onclick&quot;</span><span class="p">,</span> <span class="nx">clickFn</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-191">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-191">&#182;</a>               </div>               <p>Check if a radio maintains its value
after being appended to the DOM</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">);</span>
	<span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;t&quot;</span><span class="p">;</span>
	<span class="nx">input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;radio&quot;</span> <span class="p">);</span>
	<span class="nx">support</span><span class="p">.</span><span class="nx">radioValue</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;t&quot;</span><span class="p">;</span>

	<span class="nx">input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;checked&quot;</span><span class="p">,</span> <span class="s2">&quot;checked&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-192">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-192">&#182;</a>               </div>               <h1>11217 - WebKit loses check when the name is after the checked attribute</h1>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span> <span class="p">);</span>

	<span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
	<span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>
	<span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">lastChild</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-193">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-193">&#182;</a>               </div>               <p>WebKit doesn't clone checked state correctly in fragments</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">support</span><span class="p">.</span><span class="nx">checkClone</span> <span class="o">=</span> <span class="nx">fragment</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">).</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">).</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-194">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-194">&#182;</a>               </div>               <p>Check if a disconnected checkbox will retain its checked
value of true after appended to the DOM (IE6/7)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">support</span><span class="p">.</span><span class="nx">appendChecked</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span>

	<span class="nx">fragment</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
	<span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-195">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-195">&#182;</a>               </div>               <p>Technique from Juriy Zaytsev
http://perfectionkills.com/detecting-event-support-without-browser-sniffing/
We only care about the case where non-standard event systems
are used, namely in IE. Short-circuiting here helps us to
avoid an eval call (in setAttribute) which can cause CSP
to go haywire. See: https://developer.mozilla.org/en/Security/CSP</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">attachEvent</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">{</span>
			<span class="nx">submit</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
			<span class="nx">change</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
			<span class="nx">focusin</span><span class="o">:</span> <span class="kc">true</span>
		<span class="p">})</span> <span class="p">{</span>
			<span class="nx">eventName</span> <span class="o">=</span> <span class="s2">&quot;on&quot;</span> <span class="o">+</span> <span class="nx">i</span><span class="p">;</span>
			<span class="nx">isSupported</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">eventName</span> <span class="k">in</span> <span class="nx">div</span> <span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isSupported</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">div</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="nx">eventName</span><span class="p">,</span> <span class="s2">&quot;return;&quot;</span> <span class="p">);</span>
				<span class="nx">isSupported</span> <span class="o">=</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">div</span><span class="p">[</span> <span class="nx">eventName</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">support</span><span class="p">[</span> <span class="nx">i</span> <span class="o">+</span> <span class="s2">&quot;Bubbles&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">isSupported</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-196">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-196">&#182;</a>               </div>               <p>Run tests that need a body at doc ready</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">container</span><span class="p">,</span> <span class="nx">div</span><span class="p">,</span> <span class="nx">tds</span><span class="p">,</span> <span class="nx">marginDiv</span><span class="p">,</span>
			<span class="nx">divReset</span> <span class="o">=</span> <span class="s2">&quot;padding:0;margin:0;border:0;display:block;overflow:hidden;&quot;</span><span class="p">,</span>
			<span class="nx">body</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">body</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-197">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-197">&#182;</a>               </div>               <p>Return for frameset docs that don't have a body</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
		<span class="nx">container</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&quot;visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px&quot;</span><span class="p">;</span>
		<span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">container</span><span class="p">,</span> <span class="nx">body</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-198">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-198">&#182;</a>               </div>               <p>Construct the test element</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
		<span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-199">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-199">&#182;</a>               </div>               <p>Check if table cells still have offsetWidth/Height when they are set
to display:none and there are still other visible table cells in a
table row; if so, offsetWidth/Height are not reliable for use when
determining if an element has been hidden directly using
display:none (it is still safe to use offsets if a parent element is
hidden; don safety goggles and see bug #4512 for more information).
(only IE 8 fails this test)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;</span><span class="p">;</span>
		<span class="nx">tds</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;td&quot;</span><span class="p">);</span>
		<span class="nx">tds</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&quot;padding:0;margin:0;border:0;display:none&quot;</span><span class="p">;</span>
		<span class="nx">isSupported</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">tds</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">offsetHeight</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">);</span>

		<span class="nx">tds</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
		<span class="nx">tds</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-200">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-200">&#182;</a>               </div>               <p>Check if empty table cells still have offsetWidth/Height
(IE &lt;= 8 fail this test)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">support</span><span class="p">.</span><span class="nx">reliableHiddenOffsets</span> <span class="o">=</span> <span class="nx">isSupported</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">tds</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">offsetHeight</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-201">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-201">&#182;</a>               </div>               <p>Check box-sizing and margin behavior</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&quot;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;&quot;</span><span class="p">;</span>
		<span class="nx">support</span><span class="p">.</span><span class="nx">boxSizing</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">===</span> <span class="mi">4</span> <span class="p">);</span>
		<span class="nx">support</span><span class="p">.</span><span class="nx">doesNotIncludeMarginInBodyOffset</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">body</span><span class="p">.</span><span class="nx">offsetTop</span> <span class="o">!==</span> <span class="mi">1</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-202">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-202">&#182;</a>               </div>               <p>NOTE: To any future maintainer, window.getComputedStyle was used here
instead of getComputedStyle because it gave a better gzip size.
The difference between window.getComputedStyle and getComputedStyle is
7 bytes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">support</span><span class="p">.</span><span class="nx">pixelPosition</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span> <span class="nx">div</span><span class="p">,</span> <span class="kc">null</span> <span class="p">)</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">).</span><span class="nx">top</span> <span class="o">!==</span> <span class="s2">&quot;1%&quot;</span><span class="p">;</span>
			<span class="nx">support</span><span class="p">.</span><span class="nx">boxSizingReliable</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span> <span class="nx">div</span><span class="p">,</span> <span class="kc">null</span> <span class="p">)</span> <span class="o">||</span> <span class="p">{</span> <span class="nx">width</span><span class="o">:</span> <span class="s2">&quot;4px&quot;</span> <span class="p">}</span> <span class="p">).</span><span class="nx">width</span> <span class="o">===</span> <span class="s2">&quot;4px&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-203">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-203">&#182;</a>               </div>               <p>Check if div with explicit width and no margin-right incorrectly
gets computed margin-right based on width of container. For more
info see bug #3333
Fails in WebKit before Feb 2011 nightlies
WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">marginDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
			<span class="nx">marginDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="nx">divReset</span><span class="p">;</span>
			<span class="nx">marginDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginRight</span> <span class="o">=</span> <span class="nx">marginDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">&quot;1px&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">marginDiv</span> <span class="p">);</span>
			<span class="nx">support</span><span class="p">.</span><span class="nx">reliableMarginRight</span> <span class="o">=</span>
				<span class="o">!</span><span class="nb">parseFloat</span><span class="p">(</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span> <span class="nx">marginDiv</span><span class="p">,</span> <span class="kc">null</span> <span class="p">)</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">).</span><span class="nx">marginRight</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-204">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-204">&#182;</a>               </div>               <p>Check if natively block-level elements act like inline-block
elements when setting their display to 'inline' and giving
them layout
(IE &lt; 8 does this)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="nx">divReset</span> <span class="o">+</span> <span class="s2">&quot;width:1px;padding:1px;display:inline;zoom:1&quot;</span><span class="p">;</span>
			<span class="nx">support</span><span class="p">.</span><span class="nx">inlineBlockNeedsLayout</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">===</span> <span class="mi">3</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-205">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-205">&#182;</a>               </div>               <p>Check if elements with layout shrink-wrap their children
(IE 6 does this)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&quot;block&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="s2">&quot;visible&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span class="p">;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="s2">&quot;5px&quot;</span><span class="p">;</span>
			<span class="nx">support</span><span class="p">.</span><span class="nx">shrinkWrapBlocks</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">!==</span> <span class="mi">3</span> <span class="p">);</span>

			<span class="nx">container</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-206">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-206">&#182;</a>               </div>               <p>Null elements to avoid leaks in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">container</span> <span class="p">);</span>
		<span class="nx">container</span> <span class="o">=</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">tds</span> <span class="o">=</span> <span class="nx">marginDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
	<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-207">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-207">&#182;</a>               </div>               <p>Null elements to avoid leaks in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">fragment</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span>
	<span class="nx">all</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">select</span> <span class="o">=</span> <span class="nx">opt</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nx">div</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

	<span class="k">return</span> <span class="nx">support</span><span class="p">;</span>
<span class="p">})();</span>
<span class="kd">var</span> <span class="nx">rbrace</span> <span class="o">=</span> <span class="sr">/^(?:\{.*\}|\[.*\])$/</span><span class="p">,</span>
	<span class="nx">rmultiDash</span> <span class="o">=</span> <span class="sr">/([A-Z])/g</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">cache</span><span class="o">:</span> <span class="p">{},</span>

	<span class="nx">deletedIds</span><span class="o">:</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-208">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-208">&#182;</a>               </div>               <p>Please use with caution</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">uuid</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-209">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-209">&#182;</a>               </div>               <p>Unique for each copy of jQuery on the page
Non-digits removed to match rinlinejQuery</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">expando</span><span class="o">:</span> <span class="s2">&quot;jQuery&quot;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/\D/g</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-210">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-210">&#182;</a>               </div>               <p>The following elements throw uncatchable exceptions if you
attempt to add expando properties to them.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">noData</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;embed&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-211">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-211">&#182;</a>               </div>               <p>Ban all objects except for Flash (which handle expandos)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="s2">&quot;object&quot;</span><span class="o">:</span> <span class="s2">&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;</span><span class="p">,</span>
		<span class="s2">&quot;applet&quot;</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">},</span>

	<span class="nx">hasData</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cache</span><span class="p">[</span> <span class="nx">elem</span><span class="p">[</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span><span class="p">]</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">];</span>
		<span class="k">return</span> <span class="o">!!</span><span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">isEmptyDataObject</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">data</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">pvt</span> <span class="cm">/* Internal Use Only */</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">thisCache</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span>
			<span class="nx">internalKey</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span><span class="p">,</span>
			<span class="nx">getByName</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-212">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-212">&#182;</a>               </div>               <p>We have to handle DOM nodes and JS objects differently because IE6-7
can't GC object references properly across the DOM-JS boundary</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">isNode</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-213">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-213">&#182;</a>               </div>               <p>Only DOM nodes need the global jQuery cache; JS object data is
attached directly to the object so GC can occur automatically</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">cache</span> <span class="o">=</span> <span class="nx">isNode</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cache</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-214">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-214">&#182;</a>               </div>               <p>Only defining an ID for JS objects if its cache already exists allows
the code to shortcut on the same path as a DOM node with no cache</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">id</span> <span class="o">=</span> <span class="nx">isNode</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">internalKey</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-215">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-215">&#182;</a>               </div>               <p>Avoid doing any more work than we need to when trying to get data on an
object that has no data at all</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">!</span><span class="nx">id</span> <span class="o">||</span> <span class="o">!</span><span class="nx">cache</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">||</span> <span class="p">(</span><span class="o">!</span><span class="nx">pvt</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">cache</span><span class="p">[</span><span class="nx">id</span><span class="p">].</span><span class="nx">data</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">getByName</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">id</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-216">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-216">&#182;</a>               </div>               <p>Only DOM nodes need a new unique ID for each element since their data
ends up in the global cache</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">isNode</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">deletedIds</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="o">||</span> <span class="o">++</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">uuid</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">id</span> <span class="o">=</span> <span class="nx">internalKey</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-217">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-217">&#182;</a>               </div>               <p>Avoids exposing jQuery metadata on plain JS objects when the object
is serialized using JSON.stringify</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isNode</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">].</span><span class="nx">toJSON</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noop</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-218">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-218">&#182;</a>               </div>               <p>An object can be passed to jQuery.data instead of a key/value pair; this gets
shallow copied over onto the existing cache</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">pvt</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">],</span> <span class="nx">name</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">].</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">].</span><span class="nx">data</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">thisCache</span> <span class="o">=</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-219">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-219">&#182;</a>               </div>               <p>jQuery data() is stored in a separate object inside the object's internal data
cache in order to avoid key collisions between internal data and user-defined
data.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">pvt</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">thisCache</span><span class="p">.</span><span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">thisCache</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
			<span class="p">}</span>

			<span class="nx">thisCache</span> <span class="o">=</span> <span class="nx">thisCache</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">thisCache</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-220">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-220">&#182;</a>               </div>               <p>Check for both converted-to-camel and non-converted data property names
If a data property was specified</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">getByName</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-221">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-221">&#182;</a>               </div>               <p>First Try to find as-is property data</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">thisCache</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-222">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-222">&#182;</a>               </div>               <p>Test for null|undefined property data</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-223">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-223">&#182;</a>               </div>               <p>Try to find the camelCased property</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">thisCache</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">thisCache</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">removeData</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">pvt</span> <span class="cm">/* Internal Use Only */</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">thisCache</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span>

			<span class="nx">isNode</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-224">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-224">&#182;</a>               </div>               <p>See jQuery.data for more information</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">cache</span> <span class="o">=</span> <span class="nx">isNode</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cache</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">,</span>
			<span class="nx">id</span> <span class="o">=</span> <span class="nx">isNode</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-225">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-225">&#182;</a>               </div>               <p>If there is already no cache entry for this object, there is no
purpose in continuing</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">thisCache</span> <span class="o">=</span> <span class="nx">pvt</span> <span class="o">?</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">].</span><span class="nx">data</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">thisCache</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-226">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-226">&#182;</a>               </div>               <p>Support array or space separated string names for data keys</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-227">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-227">&#182;</a>               </div>               <p>try the string as a key before any manipulation</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">thisCache</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">name</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-228">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-228">&#182;</a>               </div>               <p>split the camel cased version by spaces unless a key with the spaces exists</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">thisCache</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">name</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
						<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
							<span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>

				<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">delete</span> <span class="nx">thisCache</span><span class="p">[</span> <span class="nx">name</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">];</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-229">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-229">&#182;</a>               </div>               <p>If there is no data left in the cache, we want to continue
and let the cache object itself get destroyed</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="nx">pvt</span> <span class="o">?</span> <span class="nx">isEmptyDataObject</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isEmptyObject</span> <span class="p">)(</span> <span class="nx">thisCache</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-230">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-230">&#182;</a>               </div>               <p>See jQuery.data for more information</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">pvt</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">delete</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">].</span><span class="nx">data</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-231">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-231">&#182;</a>               </div>               <p>Don't destroy the parent cache unless the internal data object
had been the only thing left in it</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isEmptyDataObject</span><span class="p">(</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-232">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-232">&#182;</a>               </div>               <p>Destroy the cache</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">isNode</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">],</span> <span class="kc">true</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-233">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-233">&#182;</a>               </div>               <p>Use delete when supported for expandos or <code>cache</code> is not a window per isWindow (#10080)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span> <span class="o">||</span> <span class="nx">cache</span> <span class="o">!=</span> <span class="nx">cache</span><span class="p">.</span><span class="nb">window</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">delete</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-234">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-234">&#182;</a>               </div>               <p>When all else fails, null</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-235">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-235">&#182;</a>               </div>               <p>For internal use only.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_data</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-236">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-236">&#182;</a>               </div>               <p>A method for determining if a DOM node can handle the data expando</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">acceptData</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">noData</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noData</span><span class="p">[</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-237">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-237">&#182;</a>               </div>               <p>nodes accept data unless otherwise specified; rejection can be conditional</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="o">!</span><span class="nx">noData</span> <span class="o">||</span> <span class="nx">noData</span> <span class="o">!==</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;classid&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="nx">noData</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">data</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">parts</span><span class="p">,</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">attr</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span>
			<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-238">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-238">&#182;</a>               </div>               <p>Gets all values</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">key</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;parsedAttrs&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">attr</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">attributes</span><span class="p">;</span>
					<span class="k">for</span> <span class="p">(</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">name</span> <span class="o">=</span> <span class="nx">attr</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>

						<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s2">&quot;data-&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">);</span>

							<span class="nx">dataAttr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;parsedAttrs&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-239">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-239">&#182;</a>               </div>               <p>Sets multiple values</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">key</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">key</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="nx">parts</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
		<span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">?</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
		<span class="nx">part</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span><span class="p">;</span>

		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span> <span class="s2">&quot;getData&quot;</span> <span class="o">+</span> <span class="nx">part</span><span class="p">,</span> <span class="p">[</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-240">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-240">&#182;</a>               </div>               <p>Try to fetch any internally stored data first</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span> <span class="p">);</span>
					<span class="nx">data</span> <span class="o">=</span> <span class="nx">dataAttr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">?</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">:</span>
					<span class="nx">data</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>

				<span class="nx">self</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span> <span class="s2">&quot;setData&quot;</span> <span class="o">+</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">parts</span> <span class="p">);</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="p">);</span>
				<span class="nx">self</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span> <span class="s2">&quot;changeData&quot;</span> <span class="o">+</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">parts</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">},</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">removeData</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">key</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">dataAttr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-241">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-241">&#182;</a>               </div>               <p>If nothing was found internally, try to fetch any
data from the HTML5 data-* attribute</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;data-&quot;</span> <span class="o">+</span> <span class="nx">key</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rmultiDash</span><span class="p">,</span> <span class="s2">&quot;-$1&quot;</span> <span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>

		<span class="nx">data</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">data</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">try</span> <span class="p">{</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span> <span class="o">===</span> <span class="s2">&quot;true&quot;</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span>
				<span class="nx">data</span> <span class="o">===</span> <span class="s2">&quot;false&quot;</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span>
				<span class="nx">data</span> <span class="o">===</span> <span class="s2">&quot;null&quot;</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-242">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-242">&#182;</a>               </div>               <p>Only convert to a number if it doesn't change the string</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="o">+</span><span class="nx">data</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="o">===</span> <span class="nx">data</span> <span class="o">?</span> <span class="o">+</span><span class="nx">data</span> <span class="o">:</span>
				<span class="nx">rbrace</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">:</span>
					<span class="nx">data</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-243">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-243">&#182;</a>               </div>               <p>Make sure we set the data so it isn't changed later</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-244">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-244">&#182;</a>               </div>               <p>checks a cache object for emptiness</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">isEmptyDataObject</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">name</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-245">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-245">&#182;</a>               </div>               <p>if the public data object is empty, the private is still empty</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;data&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="o">!==</span> <span class="s2">&quot;toJSON&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">queue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">queue</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;queue&quot;</span><span class="p">;</span>
			<span class="nx">queue</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-246">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-246">&#182;</a>               </div>               <p>Speed up dequeue by getting out quickly if this is just a lookup</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">queue</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">queue</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">queue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">queue</span> <span class="o">||</span> <span class="p">[];</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">dequeue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">queue</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">),</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">queue</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span>
			<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_queueHooks</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">),</span>
			<span class="nx">next</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span>
			<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-247">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-247">&#182;</a>               </div>               <p>If the fx queue is dequeued, always remove the progress sentinel</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="o">===</span> <span class="s2">&quot;inprogress&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">queue</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-248">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-248">&#182;</a>               </div>               <p>Add a progress sentinel to prevent the fx queue from being
automatically dequeued</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;fx&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">queue</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="s2">&quot;inprogress&quot;</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-249">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-249">&#182;</a>               </div>               <p>clear up the last queue stop function</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">delete</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">stop</span><span class="p">;</span>
			<span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">next</span><span class="p">,</span> <span class="nx">hooks</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">queue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">hooks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">empty</span><span class="p">.</span><span class="nx">fire</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-250">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-250">&#182;</a>               </div>               <p>not intended for public consumption - generates a queueHooks object, or returns the current one</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_queueHooks</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot;queueHooks&quot;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="p">{</span>
			<span class="nx">empty</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot;queue&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
			<span class="p">})</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">queue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">setter</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;fx&quot;</span><span class="p">;</span>
			<span class="nx">setter</span><span class="o">--</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">setter</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">type</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">?</span>
			<span class="k">this</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">queue</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-251">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-251">&#182;</a>               </div>               <p>ensure a hooks for this queue</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_queueHooks</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;fx&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!==</span> <span class="s2">&quot;inprogress&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>
	<span class="p">},</span>
	<span class="nx">dequeue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-252">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-252">&#182;</a>               </div>               <p>Based off of the plugin by Clint Helfers, with permission.
http://blindsignals.com/index.php/2009/07/jquery-delay/</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">delay</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">time</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">[</span> <span class="nx">time</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">time</span> <span class="o">:</span> <span class="nx">time</span><span class="p">;</span>
		<span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span><span class="p">;</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">next</span><span class="p">,</span> <span class="nx">hooks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span> <span class="nx">next</span><span class="p">,</span> <span class="nx">time</span> <span class="p">);</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">clearTimeout</span><span class="p">(</span> <span class="nx">timeout</span> <span class="p">);</span>
			<span class="p">};</span>
		<span class="p">});</span>
	<span class="p">},</span>
	<span class="nx">clearQueue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span><span class="p">,</span> <span class="p">[]</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-253">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-253">&#182;</a>               </div>               <p>Get a promise resolved when queues of a certain type
are emptied (fx is the type by default)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">promise</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">tmp</span><span class="p">,</span>
			<span class="nx">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="nx">defer</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span>
			<span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">resolve</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="o">--</span><span class="nx">count</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">defer</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="p">[</span> <span class="nx">elements</span> <span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">};</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">obj</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span><span class="p">;</span>

		<span class="k">while</span><span class="p">(</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">tmp</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elements</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot;queueHooks&quot;</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">tmp</span><span class="p">.</span><span class="nx">empty</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">count</span><span class="o">++</span><span class="p">;</span>
				<span class="nx">tmp</span><span class="p">.</span><span class="nx">empty</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">resolve</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="nx">resolve</span><span class="p">();</span>
		<span class="k">return</span> <span class="nx">defer</span><span class="p">.</span><span class="nx">promise</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">nodeHook</span><span class="p">,</span> <span class="nx">boolHook</span><span class="p">,</span> <span class="nx">fixSpecified</span><span class="p">,</span>
	<span class="nx">rclass</span> <span class="o">=</span> <span class="sr">/[\t\r\n]/g</span><span class="p">,</span>
	<span class="nx">rreturn</span> <span class="o">=</span> <span class="sr">/\r/g</span><span class="p">,</span>
	<span class="nx">rtype</span> <span class="o">=</span> <span class="sr">/^(?:button|input)$/i</span><span class="p">,</span>
	<span class="nx">rfocusable</span> <span class="o">=</span> <span class="sr">/^(?:button|input|object|select|textarea)$/i</span><span class="p">,</span>
	<span class="nx">rclickable</span> <span class="o">=</span> <span class="sr">/^a(?:rea|)$/i</span><span class="p">,</span>
	<span class="nx">rboolean</span> <span class="o">=</span> <span class="sr">/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i</span><span class="p">,</span>
	<span class="nx">getSetAttribute</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">getSetAttribute</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">attr</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">attr</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">removeAttr</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">prop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">removeProp</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">name</span><span class="p">;</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-254">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-254">&#182;</a>               </div>               <p>try/catch handles cases where IE balks (such as removing a property on window)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">try</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
				<span class="k">delete</span> <span class="k">this</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
			<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">addClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">classNames</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span>
			<span class="nx">setClass</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">cl</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">j</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">addClass</span><span class="p">(</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">classNames</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">);</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">&amp;&amp;</span> <span class="nx">classNames</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>

					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">setClass</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>

						<span class="k">for</span> <span class="p">(</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">cl</span> <span class="o">=</span> <span class="nx">classNames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">c</span> <span class="o">&lt;</span> <span class="nx">cl</span><span class="p">;</span> <span class="nx">c</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="o">!~</span><span class="nx">setClass</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">classNames</span><span class="p">[</span> <span class="nx">c</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">setClass</span> <span class="o">+=</span> <span class="nx">classNames</span><span class="p">[</span> <span class="nx">c</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>
							<span class="p">}</span>
						<span class="p">}</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">setClass</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">removeClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">removes</span><span class="p">,</span> <span class="nx">className</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">cl</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">l</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">j</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">removes</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">);</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="p">)</span> <span class="p">{</span>

					<span class="nx">className</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rclass</span><span class="p">,</span> <span class="s2">&quot; &quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-255">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-255">&#182;</a>               </div>               <p>loop over each item in the removal list</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">for</span> <span class="p">(</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">cl</span> <span class="o">=</span> <span class="nx">removes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">c</span> <span class="o">&lt;</span> <span class="nx">cl</span><span class="p">;</span> <span class="nx">c</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-256">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-256">&#182;</a>               </div>               <p>Remove until there is nothing to remove,</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">while</span> <span class="p">(</span> <span class="nx">className</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">removes</span><span class="p">[</span> <span class="nx">c</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">removes</span><span class="p">[</span> <span class="nx">c</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="p">,</span> <span class="s2">&quot; &quot;</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">className</span> <span class="p">)</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">toggleClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">stateVal</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">value</span><span class="p">,</span>
			<span class="nx">isBool</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">stateVal</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">,</span> <span class="nx">stateVal</span><span class="p">),</span> <span class="nx">stateVal</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-257">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-257">&#182;</a>               </div>               <p>toggle individual class names</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">className</span><span class="p">,</span>
					<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
					<span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">),</span>
					<span class="nx">state</span> <span class="o">=</span> <span class="nx">stateVal</span><span class="p">,</span>
					<span class="nx">classNames</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">);</span>

				<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">classNames</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">])</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-258">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-258">&#182;</a>               </div>               <p>check each className given, space separated list</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">state</span> <span class="o">=</span> <span class="nx">isBool</span> <span class="o">?</span> <span class="nx">state</span> <span class="o">:</span> <span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span> <span class="nx">className</span> <span class="p">);</span>
					<span class="nx">self</span><span class="p">[</span> <span class="nx">state</span> <span class="o">?</span> <span class="s2">&quot;addClass&quot;</span> <span class="o">:</span> <span class="s2">&quot;removeClass&quot;</span> <span class="p">](</span> <span class="nx">className</span> <span class="p">);</span>
				<span class="p">}</span>

			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-259">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-259">&#182;</a>               </div>               <p>store className if set</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;__className__&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="p">);</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-260">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-260">&#182;</a>               </div>               <p>toggle whole className</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">||</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;__className__&quot;</span> <span class="p">)</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">hasClass</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">selector</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rclass</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">className</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">val</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">hooks</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">isFunction</span><span class="p">,</span>
			<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>

				<span class="k">return</span> <span class="k">typeof</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-261">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-261">&#182;</a>               </div>               <p>handle most common string cases</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">ret</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rreturn</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-262">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-262">&#182;</a>               </div>               <p>handle cases where value is null/undef or number</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">ret</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">isFunction</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">val</span><span class="p">,</span>
				<span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">isFunction</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">self</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-263">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-263">&#182;</a>               </div>               <p>Treat null/undefined as ""; convert numbers to string</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">val</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">+=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">value</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
				<span class="p">});</span>
			<span class="p">}</span>

			<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-264">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-264">&#182;</a>               </div>               <p>If set returns undefined, fall back to normal setting</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">hooks</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">hooks</span><span class="p">)</span> <span class="o">||</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">val</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">valHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">option</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-265">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-265">&#182;</a>               </div>               <p>attributes.value is undefined in Blackberry 4.7 but
uses .value. See #6932</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
				<span class="k">return</span> <span class="o">!</span><span class="nx">val</span> <span class="o">||</span> <span class="nx">val</span><span class="p">.</span><span class="nx">specified</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">},</span>
		<span class="nx">select</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">option</span><span class="p">,</span>
					<span class="nx">index</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">,</span>
					<span class="nx">values</span> <span class="o">=</span> <span class="p">[],</span>
					<span class="nx">options</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span>
					<span class="nx">one</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;select-one&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-266">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-266">&#182;</a>               </div>               <p>Nothing was selected</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-267">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-267">&#182;</a>               </div>               <p>Loop through all the selected options</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">i</span> <span class="o">=</span> <span class="nx">one</span> <span class="o">?</span> <span class="nx">index</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
				<span class="nx">max</span> <span class="o">=</span> <span class="nx">one</span> <span class="o">?</span> <span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">max</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">option</span> <span class="o">=</span> <span class="nx">options</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-268">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-268">&#182;</a>               </div>               <p>Don't return options that are disabled or in a disabled optgroup</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">option</span><span class="p">.</span><span class="nx">selected</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">optDisabled</span> <span class="o">?</span> <span class="o">!</span><span class="nx">option</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">:</span> <span class="nx">option</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
							<span class="p">(</span><span class="o">!</span><span class="nx">option</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">option</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span> <span class="s2">&quot;optgroup&quot;</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-269">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-269">&#182;</a>               </div>               <p>Get the specific value for the option</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">value</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">option</span> <span class="p">).</span><span class="nx">val</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-270">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-270">&#182;</a>               </div>               <p>We don't need an array for one selects</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">one</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-271">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-271">&#182;</a>               </div>               <p>Multi-Selects return an array</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">values</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-272">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-272">&#182;</a>               </div>               <p>Fixes Bug #2551 -- select.val() broken in IE after form.reset()</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">one</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">options</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="p">).</span><span class="nx">val</span><span class="p">();</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">values</span><span class="p">;</span>
			<span class="p">},</span>

			<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>

				<span class="nx">jQuery</span><span class="p">(</span><span class="nx">elem</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;option&quot;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="nx">values</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">});</span>

				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">selectedIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="nx">values</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-273">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-273">&#182;</a>               </div>               <p>Unused in 1.8, left in so attrFn-stabbers won't die; remove in 1.9</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">attrFn</span><span class="o">:</span> <span class="p">{},</span>

	<span class="nx">attr</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">pass</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">,</span> <span class="nx">notxml</span><span class="p">,</span>
			<span class="nx">nType</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-274">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-274">&#182;</a>               </div>               <p>don't get/set attributes on text, comment and attribute nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">8</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">pass</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)[</span> <span class="nx">name</span> <span class="p">](</span> <span class="nx">value</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-275">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-275">&#182;</a>               </div>               <p>Fallback to prop when attributes are not supported</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">notxml</span> <span class="o">=</span> <span class="nx">nType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-276">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-276">&#182;</a>               </div>               <p>All attributes are lowercase
Grab necessary hook if one is defined</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">notxml</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
			<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">rboolean</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">boolHook</span> <span class="o">:</span> <span class="nx">nodeHook</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
				<span class="k">return</span><span class="p">;</span>

			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="nx">notxml</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
			<span class="p">}</span>

		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="nx">notxml</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-277">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-277">&#182;</a>               </div>               <p>Non-existent attributes return null, we normalize to undefined</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">ret</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">?</span>
				<span class="kc">undefined</span> <span class="o">:</span>
				<span class="nx">ret</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">removeAttr</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">propName</span><span class="p">,</span> <span class="nx">attrNames</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">isBool</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">attrNames</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">);</span>

			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">attrNames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">name</span> <span class="o">=</span> <span class="nx">attrNames</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">propName</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">name</span><span class="p">;</span>
					<span class="nx">isBool</span> <span class="o">=</span> <span class="nx">rboolean</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-278">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-278">&#182;</a>               </div>               <p>See #9699 for explanation of this approach (setting first, then removal)
Do not do this for boolean attributes (see #10870)</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isBool</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span> <span class="nx">getSetAttribute</span> <span class="o">?</span> <span class="nx">name</span> <span class="o">:</span> <span class="nx">propName</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-279">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-279">&#182;</a>               </div>               <p>Set corresponding property to false for boolean attributes</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">isBool</span> <span class="o">&amp;&amp;</span> <span class="nx">propName</span> <span class="k">in</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">[</span> <span class="nx">propName</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">attrHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">type</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-280">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-280">&#182;</a>               </div>               <p>We can't allow the type property to be changed (since it causes problems in IE)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">rtype</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="s2">&quot;type property can&#39;t be changed&quot;</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">radioValue</span> <span class="o">&amp;&amp;</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;radio&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-281">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-281">&#182;</a>               </div>               <p>Setting the type on a radio button after the value resets the value in IE6-9
Reset value to it's default in case type is set after value
This is for element creation</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nx">value</span> <span class="p">);</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-282">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-282">&#182;</a>               </div>               <p>Use the value property for back compat
Use the nodeHook for button elements in IE6/7 (#1954)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">value</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeHook</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;button&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">nodeHook</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">elem</span> <span class="o">?</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">:</span>
					<span class="kc">null</span><span class="p">;</span>
			<span class="p">},</span>
			<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeHook</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;button&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">nodeHook</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-283">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-283">&#182;</a>               </div>               <p>Does not return so that setAttribute is also used</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">elem</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">propFix</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">tabindex</span><span class="o">:</span> <span class="s2">&quot;tabIndex&quot;</span><span class="p">,</span>
		<span class="nx">readonly</span><span class="o">:</span> <span class="s2">&quot;readOnly&quot;</span><span class="p">,</span>
		<span class="s2">&quot;for&quot;</span><span class="o">:</span> <span class="s2">&quot;htmlFor&quot;</span><span class="p">,</span>
		<span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="s2">&quot;className&quot;</span><span class="p">,</span>
		<span class="nx">maxlength</span><span class="o">:</span> <span class="s2">&quot;maxLength&quot;</span><span class="p">,</span>
		<span class="nx">cellspacing</span><span class="o">:</span> <span class="s2">&quot;cellSpacing&quot;</span><span class="p">,</span>
		<span class="nx">cellpadding</span><span class="o">:</span> <span class="s2">&quot;cellPadding&quot;</span><span class="p">,</span>
		<span class="nx">rowspan</span><span class="o">:</span> <span class="s2">&quot;rowSpan&quot;</span><span class="p">,</span>
		<span class="nx">colspan</span><span class="o">:</span> <span class="s2">&quot;colSpan&quot;</span><span class="p">,</span>
		<span class="nx">usemap</span><span class="o">:</span> <span class="s2">&quot;useMap&quot;</span><span class="p">,</span>
		<span class="nx">frameborder</span><span class="o">:</span> <span class="s2">&quot;frameBorder&quot;</span><span class="p">,</span>
		<span class="nx">contenteditable</span><span class="o">:</span> <span class="s2">&quot;contentEditable&quot;</span>
	<span class="p">},</span>

	<span class="nx">prop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">,</span> <span class="nx">notxml</span><span class="p">,</span>
			<span class="nx">nType</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-284">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-284">&#182;</a>               </div>               <p>don't get/set properties on text, comment and attribute nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">8</span> <span class="o">||</span> <span class="nx">nType</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">notxml</span> <span class="o">=</span> <span class="nx">nType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">notxml</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-285">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-285">&#182;</a>               </div>               <p>Fix name and attach hooks</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">name</span><span class="p">;</span>
			<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span> <span class="p">);</span>
			<span class="p">}</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">propHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">tabIndex</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-286">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-286">&#182;</a>               </div>               <p>elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">attributeNode</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;tabindex&quot;</span><span class="p">);</span>

				<span class="k">return</span> <span class="nx">attributeNode</span> <span class="o">&amp;&amp;</span> <span class="nx">attributeNode</span><span class="p">.</span><span class="nx">specified</span> <span class="o">?</span>
					<span class="nb">parseInt</span><span class="p">(</span> <span class="nx">attributeNode</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="mi">10</span> <span class="p">)</span> <span class="o">:</span>
					<span class="nx">rfocusable</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">rclickable</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">href</span> <span class="o">?</span>
						<span class="mi">0</span> <span class="o">:</span>
						<span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-287">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-287">&#182;</a>               </div>               <p>Hook for boolean attributes</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">boolHook</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-288">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-288">&#182;</a>               </div>               <p>Align boolean attributes with corresponding properties
Fall back to attribute presence where some booleans are not supported</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">attrNode</span><span class="p">,</span>
			<span class="nx">property</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="k">return</span> <span class="nx">property</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">property</span> <span class="o">!==</span> <span class="s2">&quot;boolean&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">attrNode</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">attrNode</span><span class="p">.</span><span class="nx">nodeValue</span> <span class="o">!==</span> <span class="kc">false</span> <span class="o">?</span>
			<span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">:</span>
			<span class="kc">undefined</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">propName</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-289">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-289">&#182;</a>               </div>               <p>Remove boolean attributes when set to false</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-290">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-290">&#182;</a>               </div>               <p>value is true since we know at this point it's type boolean and not false
Set boolean attributes to the same name and set the DOM property</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">propName</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">name</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">propName</span> <span class="k">in</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-291">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-291">&#182;</a>               </div>               <p>Only set the IDL specifically if it already exists on the element</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">elem</span><span class="p">[</span> <span class="nx">propName</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">elem</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">name</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-292">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-292">&#182;</a>               </div>               <p>IE6/7 do not support getting/setting some attributes with get/setAttribute</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">getSetAttribute</span> <span class="p">)</span> <span class="p">{</span>

	<span class="nx">fixSpecified</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">name</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">id</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">coords</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-293">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-293">&#182;</a>               </div>               <p>Use this for any attribute in IE6/7
This fixes almost every IE6/7 issue</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">nodeHook</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">.</span><span class="nx">button</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">ret</span><span class="p">;</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">ret</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">fixSpecified</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">?</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">value</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">specified</span> <span class="p">)</span> <span class="o">?</span>
				<span class="nx">ret</span><span class="p">.</span><span class="nx">value</span> <span class="o">:</span>
				<span class="kc">undefined</span><span class="p">;</span>
		<span class="p">},</span>
		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-294">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-294">&#182;</a>               </div>               <p>Set the existing or create a new attribute node</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">ret</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createAttribute</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">setAttributeNode</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="p">(</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-295">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-295">&#182;</a>               </div>               <p>Set width and height to auto instead of 0 on empty string( Bug #8150 )
This is for removals</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="p">{</span>
			<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span> <span class="p">);</span>
					<span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-296">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-296">&#182;</a>               </div>               <p>Set contenteditable to false on removals(#10429)
Setting to empty string throws an error as an invalid value</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">contenteditable</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="nx">nodeHook</span><span class="p">.</span><span class="nx">get</span><span class="p">,</span>
		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">nodeHook</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-297">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-297">&#182;</a>               </div>               <p>Some attributes require a special call on IE</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">hrefNormalized</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">ret</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">undefined</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">style</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-298">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-298">&#182;</a>               </div>               <p>Return undefined in the case of empty string
Normalize to lowercase since IE uppercases css property names</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">||</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">},</span>
		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-299">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-299">&#182;</a>               </div>               <p>Safari mis-reports the default selected property of an option
Accessing the parent's selectedIndex property fixes it</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">optSelected</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">selected</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">parent</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">parent</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-300">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-300">&#182;</a>               </div>               <p>Make sure that it also works with optgroups, see #5701</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">parent</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-301">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-301">&#182;</a>               </div>               <p>IE6/7 call enctype encoding</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">enctype</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">propFix</span><span class="p">.</span><span class="nx">enctype</span> <span class="o">=</span> <span class="s2">&quot;encoding&quot;</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-302">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-302">&#182;</a>               </div>               <p>Radios and checkboxes getter/setter</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkOn</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;radio&quot;</span><span class="p">,</span> <span class="s2">&quot;checkbox&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="k">this</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-303">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-303">&#182;</a>               </div>               <p>Handle the case where in Webkit "" is returned instead of "on" if a value isn't specified</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">?</span> <span class="s2">&quot;on&quot;</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">};</span>
	<span class="p">});</span>
<span class="p">}</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;radio&quot;</span><span class="p">,</span> <span class="s2">&quot;checkbox&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="k">this</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span> <span class="k">this</span> <span class="p">],</span> <span class="p">{</span>
		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">elem</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">rformElems</span> <span class="o">=</span> <span class="sr">/^(?:textarea|input|select)$/i</span><span class="p">,</span>
	<span class="nx">rtypenamespace</span> <span class="o">=</span> <span class="sr">/^([^\.]*|)(?:\.(.+)|)$/</span><span class="p">,</span>
	<span class="nx">rhoverHack</span> <span class="o">=</span> <span class="sr">/(?:^|\s)hover(\.\S+|)\b/</span><span class="p">,</span>
	<span class="nx">rkeyEvent</span> <span class="o">=</span> <span class="sr">/^key/</span><span class="p">,</span>
	<span class="nx">rmouseEvent</span> <span class="o">=</span> <span class="sr">/^(?:mouse|contextmenu)|click/</span><span class="p">,</span>
	<span class="nx">rfocusMorph</span> <span class="o">=</span> <span class="sr">/^(?:focusinfocus|focusoutblur)$/</span><span class="p">,</span>
	<span class="nx">hoverHack</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">hover</span> <span class="o">?</span> <span class="nx">events</span> <span class="o">:</span> <span class="nx">events</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rhoverHack</span><span class="p">,</span> <span class="s2">&quot;mouseenter$1 mouseleave$1&quot;</span> <span class="p">);</span>
	<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Helper functions for managing events -- not part of the public interface.</span>
<span class="cm"> * Props to Dean Edwards&#39; addEvent library for many of the ideas.</span>
<span class="cm"> */</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span> <span class="o">=</span> <span class="p">{</span>

	<span class="nx">add</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">elemData</span><span class="p">,</span> <span class="nx">eventHandle</span><span class="p">,</span> <span class="nx">events</span><span class="p">,</span>
			<span class="nx">t</span><span class="p">,</span> <span class="nx">tns</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">handleObj</span><span class="p">,</span>
			<span class="nx">handleObjIn</span><span class="p">,</span> <span class="nx">handlers</span><span class="p">,</span> <span class="nx">special</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-304">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-304">&#182;</a>               </div>               <p>Don't attach events to noData or text/comment nodes (allow plain objects tho)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">8</span> <span class="o">||</span> <span class="o">!</span><span class="nx">types</span> <span class="o">||</span> <span class="o">!</span><span class="nx">handler</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="nx">elemData</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-305">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-305">&#182;</a>               </div>               <p>Caller can pass in an object of custom data in lieu of the handler</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">handler</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleObjIn</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
			<span class="nx">handler</span> <span class="o">=</span> <span class="nx">handleObjIn</span><span class="p">.</span><span class="nx">handler</span><span class="p">;</span>
			<span class="nx">selector</span> <span class="o">=</span> <span class="nx">handleObjIn</span><span class="p">.</span><span class="nx">selector</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-306">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-306">&#182;</a>               </div>               <p>Make sure that the handler has a unique ID, used to find/remove it later</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-307">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-307">&#182;</a>               </div>               <p>Init the element's event structure and main handler, if this is the first</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">events</span> <span class="o">=</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">events</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elemData</span><span class="p">.</span><span class="nx">events</span> <span class="o">=</span> <span class="nx">events</span> <span class="o">=</span> <span class="p">{};</span>
		<span class="p">}</span>
		<span class="nx">eventHandle</span> <span class="o">=</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">handle</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">eventHandle</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elemData</span><span class="p">.</span><span class="nx">handle</span> <span class="o">=</span> <span class="nx">eventHandle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-308">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-308">&#182;</a>               </div>               <p>Discard the second event of a jQuery.event.trigger() and
when an event is called after a page has unloaded</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="k">typeof</span> <span class="nx">jQuery</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">e</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span> <span class="o">!==</span> <span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="o">?</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">eventHandle</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">)</span> <span class="o">:</span>
					<span class="kc">undefined</span><span class="p">;</span>
			<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-309">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-309">&#182;</a>               </div>               <p>Add elem as a property of the handle fn to prevent a memory leak with IE non-native events</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">eventHandle</span><span class="p">.</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-310">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-310">&#182;</a>               </div>               <p>Handle multiple events separated by a space
jQuery(...).bind("mouseover mouseout", fn);</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">types</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">hoverHack</span><span class="p">(</span><span class="nx">types</span><span class="p">)</span> <span class="p">).</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">t</span> <span class="o">&lt;</span> <span class="nx">types</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">t</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">tns</span> <span class="o">=</span> <span class="nx">rtypenamespace</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">types</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[];</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">tns</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="nx">namespaces</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">tns</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&quot;.&quot;</span> <span class="p">).</span><span class="nx">sort</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-311">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-311">&#182;</a>               </div>               <p>If event changes its type, use the special event handlers for the changed type</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-312">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-312">&#182;</a>               </div>               <p>If selector defined, determine special event api type, otherwise given type</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">type</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">selector</span> <span class="o">?</span> <span class="nx">special</span><span class="p">.</span><span class="nx">delegateType</span> <span class="o">:</span> <span class="nx">special</span><span class="p">.</span><span class="nx">bindType</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">type</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-313">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-313">&#182;</a>               </div>               <p>Update special based on newly reset type</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-314">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-314">&#182;</a>               </div>               <p>handleObj is passed to all event handlers</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
				<span class="nx">type</span><span class="o">:</span> <span class="nx">type</span><span class="p">,</span>
				<span class="nx">origType</span><span class="o">:</span> <span class="nx">tns</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
				<span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
				<span class="nx">handler</span><span class="o">:</span> <span class="nx">handler</span><span class="p">,</span>
				<span class="nx">guid</span><span class="o">:</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span><span class="p">,</span>
				<span class="nx">selector</span><span class="o">:</span> <span class="nx">selector</span><span class="p">,</span>
				<span class="nx">namespace</span><span class="o">:</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
			<span class="p">},</span> <span class="nx">handleObjIn</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-315">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-315">&#182;</a>               </div>               <p>Init the event handler queue if we're the first</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">handlers</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">handlers</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">handlers</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
				<span class="nx">handlers</span><span class="p">.</span><span class="nx">delegateCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-316">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-316">&#182;</a>               </div>               <p>Only use addEventListener/attachEvent if the special events handler returns false</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">special</span><span class="p">.</span><span class="nx">setup</span> <span class="o">||</span> <span class="nx">special</span><span class="p">.</span><span class="nx">setup</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">eventHandle</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-317">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-317">&#182;</a>               </div>               <p>Bind the global event handler to the element</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">eventHandle</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span>

					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">attachEvent</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span> <span class="s2">&quot;on&quot;</span> <span class="o">+</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">eventHandle</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">.</span><span class="nx">add</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">special</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">handleObj</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-318">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-318">&#182;</a>               </div>               <p>Add to the element's handler list, delegates in front</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">handlers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">handlers</span><span class="p">.</span><span class="nx">delegateCount</span><span class="o">++</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">handleObj</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">handlers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">handleObj</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-319">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-319">&#182;</a>               </div>               <p>Keep track of which events have ever been used, for event optimization</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">global</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-320">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-320">&#182;</a>               </div>               <p>Nullify elem to prevent memory leaks in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">elem</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">global</span><span class="o">:</span> <span class="p">{},</span></pre></div>             </td>           </tr>                               <tr id="section-321">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-321">&#182;</a>               </div>               <p>Detach an event or set of events from an element</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">remove</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">mappedTypes</span> <span class="p">)</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">tns</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">origType</span><span class="p">,</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">origCount</span><span class="p">,</span>
			<span class="nx">j</span><span class="p">,</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">special</span><span class="p">,</span> <span class="nx">eventType</span><span class="p">,</span> <span class="nx">handleObj</span><span class="p">,</span>
			<span class="nx">elemData</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">hasData</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elemData</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="nx">events</span> <span class="o">=</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">events</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-322">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-322">&#182;</a>               </div>               <p>Once for each type.namespace in types; type may be omitted</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">types</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">hoverHack</span><span class="p">(</span> <span class="nx">types</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">t</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">t</span> <span class="o">&lt;</span> <span class="nx">types</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">t</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">tns</span> <span class="o">=</span> <span class="nx">rtypenamespace</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">types</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[];</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">origType</span> <span class="o">=</span> <span class="nx">tns</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="nx">namespaces</span> <span class="o">=</span> <span class="nx">tns</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-323">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-323">&#182;</a>               </div>               <p>Unbind all events (on this namespace, if provided) for the element</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="o">+</span> <span class="nx">types</span><span class="p">[</span> <span class="nx">t</span> <span class="p">],</span> <span class="nx">handler</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{};</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">selector</span><span class="o">?</span> <span class="nx">special</span><span class="p">.</span><span class="nx">delegateType</span> <span class="o">:</span> <span class="nx">special</span><span class="p">.</span><span class="nx">bindType</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">type</span><span class="p">;</span>
			<span class="nx">eventType</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">[];</span>
			<span class="nx">origCount</span> <span class="o">=</span> <span class="nx">eventType</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">namespaces</span> <span class="o">=</span> <span class="nx">namespaces</span> <span class="o">?</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(^|\\.)&quot;</span> <span class="o">+</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">).</span><span class="nx">sort</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\\.(?:.*\\.|)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;(\\.|$)&quot;</span><span class="p">)</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-324">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-324">&#182;</a>               </div>               <p>Remove matching events</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">eventType</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">eventType</span><span class="p">[</span> <span class="nx">j</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">mappedTypes</span> <span class="o">||</span> <span class="nx">origType</span> <span class="o">===</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">origType</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
					 <span class="p">(</span> <span class="o">!</span><span class="nx">handler</span> <span class="o">||</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span> <span class="o">===</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">guid</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
					 <span class="p">(</span> <span class="o">!</span><span class="nx">namespaces</span> <span class="o">||</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">namespace</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
					 <span class="p">(</span> <span class="o">!</span><span class="nx">selector</span> <span class="o">||</span> <span class="nx">selector</span> <span class="o">===</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span> <span class="o">||</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;**&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">eventType</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">j</span><span class="o">--</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">eventType</span><span class="p">.</span><span class="nx">delegateCount</span><span class="o">--</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">.</span><span class="nx">remove</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">special</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">handleObj</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-325">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-325">&#182;</a>               </div>               <p>Remove generic event handler if we removed something and no more handlers exist
(avoids potential for endless recursion during removal of special event handlers)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">eventType</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">origCount</span> <span class="o">!==</span> <span class="nx">eventType</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">special</span><span class="p">.</span><span class="nx">teardown</span> <span class="o">||</span> <span class="nx">special</span><span class="p">.</span><span class="nx">teardown</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">handle</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeEvent</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">handle</span> <span class="p">);</span>
				<span class="p">}</span>

				<span class="k">delete</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-326">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-326">&#182;</a>               </div>               <p>Remove the expando if it's no longer used</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span> <span class="nx">events</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">delete</span> <span class="nx">elemData</span><span class="p">.</span><span class="nx">handle</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-327">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-327">&#182;</a>               </div>               <p>removeData also checks for emptiness and clears the expando if empty
so use it instead of delete</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-328">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-328">&#182;</a>               </div>               <p>Events that are safe to short-circuit if no handlers are attached.
Native DOM events should not be added, they may have inline handlers.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">customEvent</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;getData&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;setData&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;changeData&quot;</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">},</span>

	<span class="nx">trigger</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">onlyHandlers</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-329">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-329">&#182;</a>               </div>               <p>Don't do events on text and comment nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">8</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-330">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-330">&#182;</a>               </div>               <p>Event object or event type</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">cache</span><span class="p">,</span> <span class="nx">exclusive</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">old</span><span class="p">,</span> <span class="nx">ontype</span><span class="p">,</span> <span class="nx">special</span><span class="p">,</span> <span class="nx">handle</span><span class="p">,</span> <span class="nx">eventPath</span><span class="p">,</span> <span class="nx">bubbleType</span><span class="p">,</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">event</span><span class="p">,</span>
			<span class="nx">namespaces</span> <span class="o">=</span> <span class="p">[];</span></pre></div>             </td>           </tr>                               <tr id="section-331">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-331">&#182;</a>               </div>               <p>focus/blur morphs to focusin/out; ensure we're not firing them right now</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">rfocusMorph</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">type</span> <span class="o">+</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s2">&quot;!&quot;</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-332">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-332">&#182;</a>               </div>               <p>Exclusive events trigger only for the exact event (no namespaces)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
			<span class="nx">exclusive</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s2">&quot;.&quot;</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-333">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-333">&#182;</a>               </div>               <p>Namespaced trigger; create a regexp to match event type in handle()</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">namespaces</span> <span class="o">=</span> <span class="nx">type</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
			<span class="nx">namespaces</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">!</span><span class="nx">elem</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">customEvent</span><span class="p">[</span> <span class="nx">type</span> <span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">global</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-334">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-334">&#182;</a>               </div>               <p>No jQuery handlers for this event type, and it can't have inline handlers</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-335">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-335">&#182;</a>               </div>               <p>Caller can pass in an Event, Object, or just an event type string</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">event</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">event</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-336">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-336">&#182;</a>               </div>               <p>jQuery.Event object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">event</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">]</span> <span class="o">?</span> <span class="nx">event</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-337">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-337">&#182;</a>               </div>               <p>Object literal</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">event</span> <span class="p">)</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-338">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-338">&#182;</a>               </div>               <p>Just the event type (string)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span> <span class="nx">type</span> <span class="p">);</span>

		<span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">isTrigger</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">exclusive</span> <span class="o">=</span> <span class="nx">exclusive</span><span class="p">;</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">namespace</span> <span class="o">=</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s2">&quot;.&quot;</span> <span class="p">);</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">namespace_re</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">namespace</span><span class="o">?</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(^|\\.)&quot;</span> <span class="o">+</span> <span class="nx">namespaces</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\\.(?:.*\\.|)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;(\\.|$)&quot;</span><span class="p">)</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
		<span class="nx">ontype</span> <span class="o">=</span> <span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="s2">&quot;:&quot;</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s2">&quot;on&quot;</span> <span class="o">+</span> <span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-339">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-339">&#182;</a>               </div>               <p>Handle a global trigger</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-340">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-340">&#182;</a>               </div>               <p>TODO: Stop taunting the data cache; remove global events and always attach to document</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">cache</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cache</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">cache</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">events</span> <span class="o">&amp;&amp;</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">handle</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-341">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-341">&#182;</a>               </div>               <p>Clean up the event in case it is being reused</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">event</span><span class="p">.</span><span class="nx">result</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-342">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-342">&#182;</a>               </div>               <p>Clone any incoming data and prepend the event, creating the handler arg list</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">:</span> <span class="p">[];</span>
		<span class="nx">data</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">event</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-343">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-343">&#182;</a>               </div>               <p>Allow special events to draw outside the lines</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{};</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">.</span><span class="nx">trigger</span> <span class="o">&amp;&amp;</span> <span class="nx">special</span><span class="p">.</span><span class="nx">trigger</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-344">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-344">&#182;</a>               </div>               <p>Determine event propagation path in advance, per W3C events spec (#9951)
Bubble up to document, then to window; watch for a global ownerDocument var (#9724)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">eventPath</span> <span class="o">=</span> <span class="p">[[</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">special</span><span class="p">.</span><span class="nx">bindType</span> <span class="o">||</span> <span class="nx">type</span> <span class="p">]];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">onlyHandlers</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">special</span><span class="p">.</span><span class="nx">noBubble</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">bubbleType</span> <span class="o">=</span> <span class="nx">special</span><span class="p">.</span><span class="nx">delegateType</span> <span class="o">||</span> <span class="nx">type</span><span class="p">;</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">rfocusMorph</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">bubbleType</span> <span class="o">+</span> <span class="nx">type</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">elem</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">old</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span> <span class="nx">cur</span><span class="p">;</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">eventPath</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">bubbleType</span> <span class="p">]);</span>
				<span class="nx">old</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-345">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-345">&#182;</a>               </div>               <p>Only add window if we got to document (e.g., not plain obj or detached DOM)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">old</span> <span class="o">===</span> <span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nb">document</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">eventPath</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span> <span class="nx">old</span><span class="p">.</span><span class="nx">defaultView</span> <span class="o">||</span> <span class="nx">old</span><span class="p">.</span><span class="nx">parentWindow</span> <span class="o">||</span> <span class="nb">window</span><span class="p">,</span> <span class="nx">bubbleType</span> <span class="p">]);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-346">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-346">&#182;</a>               </div>               <p>Fire handlers on the event path</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">eventPath</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isPropagationStopped</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">eventPath</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">eventPath</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>

			<span class="nx">handle</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">cur</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span> <span class="p">)</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">)[</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">cur</span><span class="p">,</span> <span class="s2">&quot;handle&quot;</span> <span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">handle</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">handle</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">data</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-347">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-347">&#182;</a>               </div>               <p>Note that this is a bare JS function and not a jQuery handler</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">handle</span> <span class="o">=</span> <span class="nx">ontype</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span><span class="p">[</span> <span class="nx">ontype</span> <span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">handle</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">handle</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-348">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-348">&#182;</a>               </div>               <p>If nobody prevented the default action, do it now</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">onlyHandlers</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">!</span><span class="nx">special</span><span class="p">.</span><span class="nx">_default</span> <span class="o">||</span> <span class="nx">special</span><span class="p">.</span><span class="nx">_default</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="o">!</span><span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;click&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-349">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-349">&#182;</a>               </div>               <p>Call a native DOM method on the target with the same name name as the event.
Can't use an .isFunction() check here because IE6/7 fails that test.
Don't do default actions on window, that's where global variables be (#6170)
IE&lt;9 dies on focus/blur to hidden element (#1486)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">ontype</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;focus&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;blur&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-350">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-350">&#182;</a>               </div>               <p>Don't re-trigger an onFOO event when we call its FOO() method</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">old</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">ontype</span> <span class="p">];</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">old</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">[</span> <span class="nx">ontype</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-351">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-351">&#182;</a>               </div>               <p>Prevent re-triggering of the same event, since we already bubbled it above</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
					<span class="nx">elem</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]();</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">old</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">[</span> <span class="nx">ontype</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">old</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">event</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">dispatch</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-352">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-352">&#182;</a>               </div>               <p>Make a writable jQuery.Event from the native event object</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">event</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fix</span><span class="p">(</span> <span class="nx">event</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span> <span class="p">);</span>

		<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">jqcur</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">selMatch</span><span class="p">,</span> <span class="nx">matched</span><span class="p">,</span> <span class="nx">matches</span><span class="p">,</span> <span class="nx">handleObj</span><span class="p">,</span> <span class="nx">sel</span><span class="p">,</span> <span class="nx">related</span><span class="p">,</span>
			<span class="nx">handlers</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;events&quot;</span> <span class="p">)</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">)[</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">[]),</span>
			<span class="nx">delegateCount</span> <span class="o">=</span> <span class="nx">handlers</span><span class="p">.</span><span class="nx">delegateCount</span><span class="p">,</span>
			<span class="nx">args</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">),</span>
			<span class="nx">run_all</span> <span class="o">=</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">exclusive</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">namespace</span><span class="p">,</span>
			<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{},</span>
			<span class="nx">handlerQueue</span> <span class="o">=</span> <span class="p">[];</span></pre></div>             </td>           </tr>                               <tr id="section-353">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-353">&#182;</a>               </div>               <p>Use the fix-ed jQuery.Event rather than the (read-only) native event</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">event</span><span class="p">;</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">delegateTarget</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-354">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-354">&#182;</a>               </div>               <p>Call the preDispatch hook for the mapped type, and let it bail if desired</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">.</span><span class="nx">preDispatch</span> <span class="o">&amp;&amp;</span> <span class="nx">special</span><span class="p">.</span><span class="nx">preDispatch</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">event</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-355">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-355">&#182;</a>               </div>               <p>Determine handlers that should run if there are delegated events
Avoid non-left-click bubbling in Firefox (#3861)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">delegateCount</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">button</span> <span class="o">&amp;&amp;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;click&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-356">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-356">&#182;</a>               </div>               <p>Pregenerate a single jQuery object for reuse with .is()</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jqcur</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="nx">jqcur</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span> <span class="nx">cur</span> <span class="o">!=</span> <span class="k">this</span><span class="p">;</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">||</span> <span class="k">this</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-357">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-357">&#182;</a>               </div>               <p>Don't process clicks (ONLY) on disabled elements (#6911, #8165, #xxxx)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">!==</span> <span class="kc">true</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;click&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">selMatch</span> <span class="o">=</span> <span class="p">{};</span>
					<span class="nx">matches</span> <span class="o">=</span> <span class="p">[];</span>
					<span class="nx">jqcur</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">;</span>
					<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">delegateCount</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">handlers</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>
						<span class="nx">sel</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span><span class="p">;</span>

						<span class="k">if</span> <span class="p">(</span> <span class="nx">selMatch</span><span class="p">[</span> <span class="nx">sel</span> <span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">selMatch</span><span class="p">[</span> <span class="nx">sel</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jqcur</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span> <span class="nx">sel</span> <span class="p">);</span>
						<span class="p">}</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">selMatch</span><span class="p">[</span> <span class="nx">sel</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">matches</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">handleObj</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">matches</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">handlerQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">elem</span><span class="o">:</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">matches</span><span class="o">:</span> <span class="nx">matches</span> <span class="p">});</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-358">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-358">&#182;</a>               </div>               <p>Add the remaining (directly-bound) handlers</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">handlers</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">delegateCount</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">handlerQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">elem</span><span class="o">:</span> <span class="k">this</span><span class="p">,</span> <span class="nx">matches</span><span class="o">:</span> <span class="nx">handlers</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">delegateCount</span> <span class="p">)</span> <span class="p">});</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-359">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-359">&#182;</a>               </div>               <p>Run delegates first; they may want to stop propagation beneath us</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">handlerQueue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isPropagationStopped</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">matched</span> <span class="o">=</span> <span class="nx">handlerQueue</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">=</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">elem</span><span class="p">;</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">matches</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isImmediatePropagationStopped</span><span class="p">();</span> <span class="nx">j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">matches</span><span class="p">[</span> <span class="nx">j</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-360">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-360">&#182;</a>               </div>               <p>Triggered event must either 1) be non-exclusive and have no namespace, or
2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">run_all</span> <span class="o">||</span> <span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">namespace</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">handleObj</span><span class="p">.</span><span class="nx">namespace</span><span class="p">)</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">namespace_re</span> <span class="o">&amp;&amp;</span> <span class="nx">event</span><span class="p">.</span><span class="nx">namespace_re</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">namespace</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>

					<span class="nx">event</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
					<span class="nx">event</span><span class="p">.</span><span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">;</span>

					<span class="nx">ret</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">origType</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{}).</span><span class="nx">handle</span> <span class="o">||</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span> <span class="p">)</span>
							<span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">args</span> <span class="p">);</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">event</span><span class="p">.</span><span class="nx">result</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">;</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
							<span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-361">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-361">&#182;</a>               </div>               <p>Call the postDispatch hook for the mapped type</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">.</span><span class="nx">postDispatch</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">special</span><span class="p">.</span><span class="nx">postDispatch</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">event</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">event</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-362">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-362">&#182;</a>               </div>               <p>Includes some event props shared by KeyEvent and MouseEvent
<strong>* attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 *</strong></p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">props</span><span class="o">:</span> <span class="s2">&quot;attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span>

	<span class="nx">fixHooks</span><span class="o">:</span> <span class="p">{},</span>

	<span class="nx">keyHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">props</span><span class="o">:</span> <span class="s2">&quot;char charCode key keyCode&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span>
		<span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">original</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-363">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-363">&#182;</a>               </div>               <p>Add which for key events</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">which</span> <span class="o">=</span> <span class="nx">original</span><span class="p">.</span><span class="nx">charCode</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">original</span><span class="p">.</span><span class="nx">charCode</span> <span class="o">:</span> <span class="nx">original</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">event</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">mouseHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">props</span><span class="o">:</span> <span class="s2">&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span>
		<span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">original</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">eventDoc</span><span class="p">,</span> <span class="nx">doc</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span>
				<span class="nx">button</span> <span class="o">=</span> <span class="nx">original</span><span class="p">.</span><span class="nx">button</span><span class="p">,</span>
				<span class="nx">fromElement</span> <span class="o">=</span> <span class="nx">original</span><span class="p">.</span><span class="nx">fromElement</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-364">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-364">&#182;</a>               </div>               <p>Calculate pageX/Y if missing and clientX/Y available</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">original</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">eventDoc</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span>
				<span class="nx">doc</span> <span class="o">=</span> <span class="nx">eventDoc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span>
				<span class="nx">body</span> <span class="o">=</span> <span class="nx">eventDoc</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

				<span class="nx">event</span><span class="p">.</span><span class="nx">pageX</span> <span class="o">=</span> <span class="nx">original</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">doc</span> <span class="o">&amp;&amp;</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">scrollLeft</span> <span class="o">||</span> <span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nx">body</span><span class="p">.</span><span class="nx">scrollLeft</span> <span class="o">||</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">doc</span> <span class="o">&amp;&amp;</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">clientLeft</span> <span class="o">||</span> <span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nx">body</span><span class="p">.</span><span class="nx">clientLeft</span> <span class="o">||</span> <span class="mi">0</span> <span class="p">);</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">pageY</span> <span class="o">=</span> <span class="nx">original</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">doc</span> <span class="o">&amp;&amp;</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">scrollTop</span>  <span class="o">||</span> <span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nx">body</span><span class="p">.</span><span class="nx">scrollTop</span>  <span class="o">||</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">doc</span> <span class="o">&amp;&amp;</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">clientTop</span>  <span class="o">||</span> <span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="nx">body</span><span class="p">.</span><span class="nx">clientTop</span>  <span class="o">||</span> <span class="mi">0</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-365">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-365">&#182;</a>               </div>               <p>Add relatedTarget, if necessary</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">relatedTarget</span> <span class="o">&amp;&amp;</span> <span class="nx">fromElement</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">relatedTarget</span> <span class="o">=</span> <span class="nx">fromElement</span> <span class="o">===</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">?</span> <span class="nx">original</span><span class="p">.</span><span class="nx">toElement</span> <span class="o">:</span> <span class="nx">fromElement</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-366">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-366">&#182;</a>               </div>               <p>Add which for click: 1 === left; 2 === middle; 3 === right
Note: button is not normalized, so don't use it</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">which</span> <span class="o">&amp;&amp;</span> <span class="nx">button</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">which</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">button</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">button</span> <span class="o">&amp;</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">3</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">button</span> <span class="o">&amp;</span> <span class="mi">4</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">event</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">fix</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">event</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-367">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-367">&#182;</a>               </div>               <p>Create a writable copy of the event object and normalize some properties</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span>
			<span class="nx">originalEvent</span> <span class="o">=</span> <span class="nx">event</span><span class="p">,</span>
			<span class="nx">fixHook</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="p">]</span> <span class="o">||</span> <span class="p">{},</span>
			<span class="nx">copy</span> <span class="o">=</span> <span class="nx">fixHook</span><span class="p">.</span><span class="nx">props</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">fixHook</span><span class="p">.</span><span class="nx">props</span> <span class="p">)</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>

		<span class="nx">event</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span> <span class="nx">originalEvent</span> <span class="p">);</span>

		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">copy</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">prop</span> <span class="o">=</span> <span class="nx">copy</span><span class="p">[</span> <span class="o">--</span><span class="nx">i</span> <span class="p">];</span>
			<span class="nx">event</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">originalEvent</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">];</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-368">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-368">&#182;</a>               </div>               <p>Fix target property, if necessary (#1925, IE 6/7/8 &amp; Safari2)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">=</span> <span class="nx">originalEvent</span><span class="p">.</span><span class="nx">srcElement</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-369">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-369">&#182;</a>               </div>               <p>Target should not be a text node (#504, Safari)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-370">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-370">&#182;</a>               </div>               <p>For mouse/key events, metaKey==false if it's undefined (#3368, #11328; IE6/7/8)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">event</span><span class="p">.</span><span class="nx">metaKey</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">event</span><span class="p">.</span><span class="nx">metaKey</span><span class="p">;</span>

		<span class="k">return</span> <span class="nx">fixHook</span><span class="p">.</span><span class="nx">filter</span><span class="o">?</span> <span class="nx">fixHook</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">originalEvent</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">event</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">special</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">ready</span><span class="o">:</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-371">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-371">&#182;</a>               </div>               <p>Make sure the ready event is setup</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">setup</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">bindReady</span>
		<span class="p">},</span>

		<span class="nx">load</span><span class="o">:</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-372">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-372">&#182;</a>               </div>               <p>Prevent triggered image.load events from bubbling to window.load</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">noBubble</span><span class="o">:</span> <span class="kc">true</span>
		<span class="p">},</span>

		<span class="nx">focus</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">delegateType</span><span class="o">:</span> <span class="s2">&quot;focusin&quot;</span>
		<span class="p">},</span>
		<span class="nx">blur</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">delegateType</span><span class="o">:</span> <span class="s2">&quot;focusout&quot;</span>
		<span class="p">},</span>

		<span class="nx">beforeunload</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">setup</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">eventHandle</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-373">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-373">&#182;</a>               </div>               <p>We only want to do this special case on windows</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span> <span class="o">=</span> <span class="nx">eventHandle</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">},</span>

			<span class="nx">teardown</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">namespaces</span><span class="p">,</span> <span class="nx">eventHandle</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span> <span class="o">===</span> <span class="nx">eventHandle</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">simulate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">bubble</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-374">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-374">&#182;</a>               </div>               <p>Piggyback on a donor event to simulate a different one.
Fake originalEvent to avoid donor's stopPropagation, but if the
simulated event prevents default then we do the same on the donor.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span>
			<span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
			<span class="nx">event</span><span class="p">,</span>
			<span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nx">type</span><span class="p">,</span>
				<span class="nx">isSimulated</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
				<span class="nx">originalEvent</span><span class="o">:</span> <span class="p">{}</span>
			<span class="p">}</span>
		<span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">bubble</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="nx">e</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">e</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-375">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-375">&#182;</a>               </div>               <p>Some plugins are using, but it's undocumented/deprecated and will be removed.
The 1.7 special event interface should provide all the hooks needed now.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">handle</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeEvent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span> <span class="o">?</span>
	<span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">handle</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">removeEventListener</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">handle</span><span class="p">,</span> <span class="kc">false</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="o">:</span>
	<span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">handle</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;on&quot;</span> <span class="o">+</span> <span class="nx">type</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">detachEvent</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-376">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-376">&#182;</a>               </div>               <h1>8545, #7054, preventing memory leaks for custom events in IE6-8 â€“</h1>

<p>detachEvent needed property on element, by name of that event, to properly expose it to GC</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">elem</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">handle</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-377">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-377">&#182;</a>               </div>               <p>Allow instantiation without the 'new' keyword</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">props</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-378">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-378">&#182;</a>               </div>               <p>Event object</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">src</span><span class="p">.</span><span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span> <span class="o">=</span> <span class="nx">src</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-379">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-379">&#182;</a>               </div>               <p>Events bubbling up the document may have been marked as prevented
by a handler lower down the tree; reflect the correct value.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">this</span><span class="p">.</span><span class="nx">isDefaultPrevented</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">src</span><span class="p">.</span><span class="nx">defaultPrevented</span> <span class="o">||</span> <span class="nx">src</span><span class="p">.</span><span class="nx">returnValue</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">||</span>
			<span class="nx">src</span><span class="p">.</span><span class="nx">getPreventDefault</span> <span class="o">&amp;&amp;</span> <span class="nx">src</span><span class="p">.</span><span class="nx">getPreventDefault</span><span class="p">()</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">returnTrue</span> <span class="o">:</span> <span class="nx">returnFalse</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-380">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-380">&#182;</a>               </div>               <p>Event type</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">src</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-381">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-381">&#182;</a>               </div>               <p>Put explicitly provided properties onto the event object</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">props</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-382">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-382">&#182;</a>               </div>               <p>Create a timestamp if incoming event doesn't have one</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">this</span><span class="p">.</span><span class="nx">timeStamp</span> <span class="o">=</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">src</span><span class="p">.</span><span class="nx">timeStamp</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-383">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-383">&#182;</a>               </div>               <p>Mark it as fixed</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">this</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">returnFalse</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">returnTrue</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-384">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-384">&#182;</a>               </div>               <p>jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">preventDefault</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">isDefaultPrevented</span> <span class="o">=</span> <span class="nx">returnTrue</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-385">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-385">&#182;</a>               </div>               <p>if preventDefault exists run it on the original event</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-386">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-386">&#182;</a>               </div>               <p>otherwise set the returnValue property of the original event to false (IE)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">e</span><span class="p">.</span><span class="nx">returnValue</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">stopPropagation</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">isPropagationStopped</span> <span class="o">=</span> <span class="nx">returnTrue</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-387">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-387">&#182;</a>               </div>               <p>if stopPropagation exists run it on the original event</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-388">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-388">&#182;</a>               </div>               <p>otherwise set the cancelBubble property of the original event to true (IE)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">e</span><span class="p">.</span><span class="nx">cancelBubble</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">stopImmediatePropagation</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">isImmediatePropagationStopped</span> <span class="o">=</span> <span class="nx">returnTrue</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
	<span class="p">},</span>
	<span class="nx">isDefaultPrevented</span><span class="o">:</span> <span class="nx">returnFalse</span><span class="p">,</span>
	<span class="nx">isPropagationStopped</span><span class="o">:</span> <span class="nx">returnFalse</span><span class="p">,</span>
	<span class="nx">isImmediatePropagationStopped</span><span class="o">:</span> <span class="nx">returnFalse</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-389">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-389">&#182;</a>               </div>               <p>Create mouseenter/leave events using mouseover/out and event-time checks</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span>
	<span class="nx">mouseenter</span><span class="o">:</span> <span class="s2">&quot;mouseover&quot;</span><span class="p">,</span>
	<span class="nx">mouseleave</span><span class="o">:</span> <span class="s2">&quot;mouseout&quot;</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">orig</span><span class="p">,</span> <span class="nx">fix</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">orig</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">delegateType</span><span class="o">:</span> <span class="nx">fix</span><span class="p">,</span>
		<span class="nx">bindType</span><span class="o">:</span> <span class="nx">fix</span><span class="p">,</span>

		<span class="nx">handle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span>
				<span class="nx">target</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
				<span class="nx">related</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="p">,</span>
				<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">,</span>
				<span class="nx">selector</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-390">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-390">&#182;</a>               </div>               <p>For mousenter/leave call the handler if related is outside the target.
NB: No relatedTarget if the mouse left/entered the browser window</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">related</span> <span class="o">||</span> <span class="p">(</span><span class="nx">related</span> <span class="o">!==</span> <span class="nx">target</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">related</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">origType</span><span class="p">;</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
				<span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">fix</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-391">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-391">&#182;</a>               </div>               <p>IE submit delegation</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">submitBubbles</span> <span class="p">)</span> <span class="p">{</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">submit</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">setup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-392">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-392">&#182;</a>               </div>               <p>Only need this for delegated form submit events</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;form&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-393">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-393">&#182;</a>               </div>               <p>Lazy-add a submit handler when a descendant form may potentially be submitted</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;click._submit keypress._submit&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-394">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-394">&#182;</a>               </div>               <p>Node name check avoids a VML-related crash in IE (#9807)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span>
					<span class="nx">form</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;button&quot;</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">form</span> <span class="o">:</span> <span class="kc">undefined</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">form</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">form</span><span class="p">,</span> <span class="s2">&quot;_submit_attached&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">form</span><span class="p">,</span> <span class="s2">&quot;submit._submit&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">event</span><span class="p">.</span><span class="nx">_submit_bubble</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="p">});</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">form</span><span class="p">,</span> <span class="s2">&quot;_submit_attached&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-395">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-395">&#182;</a>               </div>               <p>return undefined since we don't need an event listener</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">},</span>

		<span class="nx">postDispatch</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-396">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-396">&#182;</a>               </div>               <p>If form was submitted by the user, bubble the event up the tree</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">.</span><span class="nx">_submit_bubble</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">delete</span> <span class="nx">event</span><span class="p">.</span><span class="nx">_submit_bubble</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isTrigger</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span> <span class="s2">&quot;submit&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">},</span>

		<span class="nx">teardown</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-397">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-397">&#182;</a>               </div>               <p>Only need this for delegated form submit events</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;form&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-398">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-398">&#182;</a>               </div>               <p>Remove delegated handlers; cleanData eventually reaps submit handlers attached above</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;._submit&quot;</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-399">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-399">&#182;</a>               </div>               <p>IE change delegation and checkbox/radio fix</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">changeBubbles</span> <span class="p">)</span> <span class="p">{</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">change</span> <span class="o">=</span> <span class="p">{</span>

		<span class="nx">setup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">rformElems</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-400">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-400">&#182;</a>               </div>               <p>IE doesn't fire change on a check/radio until blur; trigger it on click
after a propertychange. Eat the blur-change in special.change.handle.
This still fires onchange a second time for check/radio after blur.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;checkbox&quot;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;radio&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;propertychange._change&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">event</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">propertyName</span> <span class="o">===</span> <span class="s2">&quot;checked&quot;</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">});</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;click._change&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isTrigger</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-401">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-401">&#182;</a>               </div>               <p>Allow triggered, simulated change events (#11500)</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span> <span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
					<span class="p">});</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-402">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-402">&#182;</a>               </div>               <p>Delegated event; lazy-add a change handler on descendant inputs</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;beforeactivate._change&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">rformElems</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;_change_attached&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;change._change&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isSimulated</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">isTrigger</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span> <span class="s2">&quot;change&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">});</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;_change_attached&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">},</span>

		<span class="nx">handle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-403">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-403">&#182;</a>               </div>               <p>Swallow native change events from checkbox/radio, we already triggered them above</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span> <span class="o">!==</span> <span class="nx">elem</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">isSimulated</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">isTrigger</span> <span class="o">||</span> <span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;radio&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;checkbox&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">event</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">},</span>

		<span class="nx">teardown</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;._change&quot;</span> <span class="p">);</span>

			<span class="k">return</span> <span class="nx">rformElems</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-404">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-404">&#182;</a>               </div>               <p>Create "bubbling" focus and blur events</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">focusinBubbles</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span> <span class="nx">focus</span><span class="o">:</span> <span class="s2">&quot;focusin&quot;</span><span class="p">,</span> <span class="nx">blur</span><span class="o">:</span> <span class="s2">&quot;focusout&quot;</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">orig</span><span class="p">,</span> <span class="nx">fix</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-405">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-405">&#182;</a>               </div>               <p>Attach a single capturing handler while someone wants focusin/focusout</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">attaches</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">handler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span> <span class="nx">fix</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fix</span><span class="p">(</span> <span class="nx">event</span> <span class="p">),</span> <span class="kc">true</span> <span class="p">);</span>
			<span class="p">};</span>

		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span> <span class="nx">fix</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
			<span class="nx">setup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">attaches</span><span class="o">++</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span> <span class="nx">orig</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">},</span>
			<span class="nx">teardown</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">--</span><span class="nx">attaches</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span> <span class="nx">orig</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">};</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

	<span class="nx">on</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="cm">/*INTERNAL*/</span> <span class="nx">one</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">origFn</span><span class="p">,</span> <span class="nx">type</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-406">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-406">&#182;</a>               </div>               <p>Types can be a map of types/handlers</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">types</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-407">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-407">&#182;</a>               </div>               <p>( types-Object, selector, data )</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// &amp;&amp; selector != null</span></pre></div>             </td>           </tr>                               <tr id="section-408">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-408">&#182;</a>               </div>               <p>( types-Object, data )</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span> <span class="o">||</span> <span class="nx">selector</span><span class="p">;</span>
				<span class="nx">selector</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">types</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">types</span><span class="p">[</span> <span class="nx">type</span> <span class="p">],</span> <span class="nx">one</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">fn</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-409">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-409">&#182;</a>               </div>               <p>( types, fn )</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="nx">selector</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-410">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-410">&#182;</a>               </div>               <p>( types, selector, fn )</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">fn</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-411">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-411">&#182;</a>               </div>               <p>( types, data, fn )</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">fn</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
				<span class="nx">selector</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">returnFalse</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">one</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">origFn</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-412">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-412">&#182;</a>               </div>               <p>Can use an empty set, since event contains the info</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">jQuery</span><span class="p">().</span><span class="nx">off</span><span class="p">(</span> <span class="nx">event</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">origFn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
			<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-413">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-413">&#182;</a>               </div>               <p>Use same guid so caller can remove using origFn</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">origFn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">origFn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>
	<span class="nx">one</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">off</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">handleObj</span><span class="p">,</span> <span class="nx">type</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">types</span> <span class="o">&amp;&amp;</span> <span class="nx">types</span><span class="p">.</span><span class="nx">preventDefault</span> <span class="o">&amp;&amp;</span> <span class="nx">types</span><span class="p">.</span><span class="nx">handleObj</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-414">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-414">&#182;</a>               </div>               <p>( event )  dispatched jQuery.Event</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">handleObj</span> <span class="o">=</span> <span class="nx">types</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">;</span>
			<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">types</span><span class="p">.</span><span class="nx">delegateTarget</span> <span class="p">).</span><span class="nx">off</span><span class="p">(</span>
				<span class="nx">handleObj</span><span class="p">.</span><span class="nx">namespace</span> <span class="o">?</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">origType</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">namespace</span> <span class="o">:</span> <span class="nx">handleObj</span><span class="p">.</span><span class="nx">origType</span><span class="p">,</span>
				<span class="nx">handleObj</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span>
				<span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span>
			<span class="p">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">types</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-415">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-415">&#182;</a>               </div>               <p>( types-object [, selector] )</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">types</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">types</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-416">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-416">&#182;</a>               </div>               <p>( types [, fn] )</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
			<span class="nx">selector</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">returnFalse</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">bind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">unbind</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">live</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">die</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="p">).</span><span class="nx">off</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">||</span> <span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">delegate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">undelegate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-417">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-417">&#182;</a>               </div>               <p>( namespace ) or ( selector, types [, fn] )</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">1</span><span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span> <span class="p">)</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">selector</span> <span class="o">||</span> <span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">trigger</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>
	<span class="nx">triggerHandler</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">true</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">toggle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-418">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-418">&#182;</a>               </div>               <p>Save reference to arguments for access in closure</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
			<span class="nx">guid</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">toggler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-419">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-419">&#182;</a>               </div>               <p>Figure out which function to execute</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">lastToggle</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;lastToggle&quot;</span> <span class="o">+</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">%</span> <span class="nx">i</span><span class="p">;</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;lastToggle&quot;</span> <span class="o">+</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span><span class="p">,</span> <span class="nx">lastToggle</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-420">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-420">&#182;</a>               </div>               <p>Make sure that clicks stop</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-421">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-421">&#182;</a>               </div>               <p>and execute the function</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="nx">args</span><span class="p">[</span> <span class="nx">lastToggle</span> <span class="p">].</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">)</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-422">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-422">&#182;</a>               </div>               <p>link all the functions, so any of them can unbind this click handler</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">toggler</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">guid</span><span class="p">;</span>
		<span class="k">while</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">args</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">].</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">guid</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span> <span class="nx">toggler</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">hover</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fnOver</span><span class="p">,</span> <span class="nx">fnOut</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mouseenter</span><span class="p">(</span> <span class="nx">fnOver</span> <span class="p">).</span><span class="nx">mouseleave</span><span class="p">(</span> <span class="nx">fnOut</span> <span class="o">||</span> <span class="nx">fnOver</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">(</span><span class="s2">&quot;blur focus focusin focusout load resize scroll unload click dblclick &quot;</span> <span class="o">+</span>
	<span class="s2">&quot;mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave &quot;</span> <span class="o">+</span>
	<span class="s2">&quot;change select submit keydown keypress keyup error contextmenu&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-423">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-423">&#182;</a>               </div>               <p>Handle event binding</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">fn</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
	<span class="p">};</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">rkeyEvent</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">keyHooks</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">rmouseEvent</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">mouseHooks</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="cm">/*!</span>
<span class="cm"> * Sizzle CSS Selector Engine</span>
<span class="cm"> *  Copyright 2012 jQuery Foundation and other contributors</span>
<span class="cm"> *  Released under the MIT license</span>
<span class="cm"> *  http://sizzlejs.com/</span>
<span class="cm"> */</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nb">window</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nx">cachedruns</span><span class="p">,</span>
	<span class="nx">dirruns</span><span class="p">,</span>
	<span class="nx">sortOrder</span><span class="p">,</span>
	<span class="nx">siblingCheck</span><span class="p">,</span>
	<span class="nx">assertGetIdNotName</span><span class="p">,</span>

	<span class="nb">document</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span>
	<span class="nx">docElem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span>

	<span class="nx">strundefined</span> <span class="o">=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
	<span class="nx">hasDuplicate</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
	<span class="nx">baseHasDuplicate</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
	<span class="nx">done</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="nx">slice</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">,</span>
	<span class="nx">push</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">push</span><span class="p">,</span>

	<span class="nx">expando</span> <span class="o">=</span> <span class="p">(</span> <span class="s2">&quot;sizcache&quot;</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-424">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-424">&#182;</a>               </div>               <p>Regex</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-425">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-425">&#182;</a>               </div>               <p>Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">whitespace</span> <span class="o">=</span> <span class="s2">&quot;[\\x20\\t\\r\\n\\f]&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-426">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-426">&#182;</a>               </div>               <p>http://www.w3.org/TR/css3-syntax/#characters</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">characterEncoding</span> <span class="o">=</span> <span class="s2">&quot;(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-427">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-427">&#182;</a>               </div>               <p>Loosely modeled on CSS identifier characters
An unquoted value should be a CSS identifier (http://www.w3.org/TR/css3-selectors/#attribute-selectors)
Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">identifier</span> <span class="o">=</span> <span class="nx">characterEncoding</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;w#&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-428">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-428">&#182;</a>               </div>               <p>Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">operators</span> <span class="o">=</span> <span class="s2">&quot;([*^$|!~]?=)&quot;</span><span class="p">,</span>
	<span class="nx">attributes</span> <span class="o">=</span> <span class="s2">&quot;\\[&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span>
		<span class="s2">&quot;*(?:&quot;</span> <span class="o">+</span> <span class="nx">operators</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(?:([&#39;\&quot;])((?:\\\\.|[^\\\\])*?)\\3|(&quot;</span> <span class="o">+</span> <span class="nx">identifier</span> <span class="o">+</span> <span class="s2">&quot;)|)|)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*\\]&quot;</span><span class="p">,</span>
	<span class="nx">pseudos</span> <span class="o">=</span> <span class="s2">&quot;:(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span> <span class="o">+</span> <span class="s2">&quot;)(?:\\((?:([&#39;\&quot;])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)&quot;</span><span class="p">,</span>
	<span class="nx">pos</span> <span class="o">=</span> <span class="s2">&quot;:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)&quot;</span><span class="p">,</span>
	<span class="nx">combinators</span> <span class="o">=</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*([\\x20\\t\\r\\n\\f&gt;+~])&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
	<span class="nx">groups</span> <span class="o">=</span> <span class="s2">&quot;(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|&quot;</span> <span class="o">+</span> <span class="nx">attributes</span> <span class="o">+</span> <span class="s2">&quot;|&quot;</span> <span class="o">+</span> <span class="nx">pseudos</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;|[^\\\\(),])+&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-429">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-429">&#182;</a>               </div>               <p>Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rtrim</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;+$&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span> <span class="p">),</span>

	<span class="nx">rcombinators</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">combinators</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-430">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-430">&#182;</a>               </div>               <p>All simple (non-comma) selectors, excluding insignifant trailing whitespace</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rgroups</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">groups</span> <span class="o">+</span> <span class="s2">&quot;?(?=&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*,|$)&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-431">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-431">&#182;</a>               </div>               <p>A selector, or everything after leading whitespace
Optionally followed in either case by a ")" for terminating sub-selectors</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rselector</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^(?:(?!,)(?:(?:^|,)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*&quot;</span> <span class="o">+</span> <span class="nx">groups</span> <span class="o">+</span> <span class="s2">&quot;)*?|&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(.*?))(\\)|$)&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-432">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-432">&#182;</a>               </div>               <p>All combinators and selector components (attribute test, tag, pseudo, etc.), the latter appearing together when consecutive</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rtokens</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">groups</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">19</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;\\x20\\t\\r\\n\\f&gt;+~])+|&quot;</span> <span class="o">+</span> <span class="nx">combinators</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-433">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-433">&#182;</a>               </div>               <p>Easily-parseable/retrievable ID or TAG or CLASS selectors</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rquickExpr</span> <span class="o">=</span> <span class="sr">/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/</span><span class="p">,</span>

	<span class="nx">rsibling</span> <span class="o">=</span> <span class="sr">/[\x20\t\r\n\f]*[+~]/</span><span class="p">,</span>
	<span class="nx">rendsWithNot</span> <span class="o">=</span> <span class="sr">/:not\($/</span><span class="p">,</span>

	<span class="nx">rheader</span> <span class="o">=</span> <span class="sr">/h\d/i</span><span class="p">,</span>
	<span class="nx">rinputs</span> <span class="o">=</span> <span class="sr">/input|select|textarea|button/i</span><span class="p">,</span>

	<span class="nx">rbackslash</span> <span class="o">=</span> <span class="sr">/\\(?!\\)/g</span><span class="p">,</span>

	<span class="nx">matchExpr</span> <span class="o">=</span> <span class="p">{</span>
		<span class="s2">&quot;ID&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^#(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="p">),</span>
		<span class="s2">&quot;CLASS&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^\\.(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="p">),</span>
		<span class="s2">&quot;NAME&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^\\[name=[&#39;\&quot;]?(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span> <span class="o">+</span> <span class="s2">&quot;)[&#39;\&quot;]?\\]&quot;</span> <span class="p">),</span>
		<span class="s2">&quot;TAG&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^(&quot;</span> <span class="o">+</span> <span class="nx">characterEncoding</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="s2">&quot;[-&quot;</span><span class="p">,</span> <span class="s2">&quot;[-\\*&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="p">),</span>
		<span class="s2">&quot;ATTR&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">attributes</span> <span class="p">),</span>
		<span class="s2">&quot;PSEUDO&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">pseudos</span> <span class="p">),</span>
		<span class="s2">&quot;CHILD&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^:(only|nth|last|first)-child(?:\\(&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span>
			<span class="s2">&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(?:([+-]|)&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span>
			<span class="s2">&quot;*(\\d+)|))&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*\\)|)&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span>
		<span class="s2">&quot;POS&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">pos</span><span class="p">,</span> <span class="s2">&quot;ig&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-434">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-434">&#182;</a>               </div>               <p>For use in libraries implementing .is()</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="s2">&quot;needsContext&quot;</span><span class="o">:</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*[&gt;+~]|&quot;</span> <span class="o">+</span> <span class="nx">pos</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">)</span>
	<span class="p">},</span>

	<span class="nx">classCache</span> <span class="o">=</span> <span class="p">{},</span>
	<span class="nx">cachedClasses</span> <span class="o">=</span> <span class="p">[],</span>
	<span class="nx">compilerCache</span> <span class="o">=</span> <span class="p">{},</span>
	<span class="nx">cachedSelectors</span> <span class="o">=</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-435">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-435">&#182;</a>               </div>               <p>Mark a function for use in filtering</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">markFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">fn</span><span class="p">.</span><span class="nx">sizzleFilter</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">fn</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-436">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-436">&#182;</a>               </div>               <p>Returns a function to use in pseudos for input types</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">createInputFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-437">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-437">&#182;</a>               </div>               <p>Check the input's nodeName and type</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="nx">type</span><span class="p">;</span>
		<span class="p">};</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-438">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-438">&#182;</a>               </div>               <p>Returns a function to use in pseudos for buttons</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">createButtonFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
			<span class="k">return</span> <span class="p">(</span><span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">||</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;button&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="nx">type</span><span class="p">;</span>
		<span class="p">};</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-439">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-439">&#182;</a>               </div>               <p>Used for testing something on an element</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assert</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">pass</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
			<span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
		<span class="k">try</span> <span class="p">{</span>
			<span class="nx">pass</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-440">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-440">&#182;</a>               </div>               <p>release memory in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">pass</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-441">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-441">&#182;</a>               </div>               <p>Check if attributes should be retrieved by attribute nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assertAttributes</span> <span class="o">=</span> <span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;select&gt;&lt;/select&gt;&quot;</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">div</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;multiple&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-442">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-442">&#182;</a>               </div>               <p>IE8 returns a string for some attributes even when not present</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;boolean&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span><span class="p">;</span>
	<span class="p">}),</span></pre></div>             </td>           </tr>                               <tr id="section-443">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-443">&#182;</a>               </div>               <p>Check if getElementById returns elements by name
Check if getElementsByName privileges form controls or returns elements by ID</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assertUsableName</span> <span class="o">=</span> <span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-444">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-444">&#182;</a>               </div>               <p>Inject content</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">expando</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;a name=&#39;&quot;</span> <span class="o">+</span> <span class="nx">expando</span> <span class="o">+</span> <span class="s2">&quot;&#39;&gt;&lt;/a&gt;&lt;div name=&#39;&quot;</span> <span class="o">+</span> <span class="nx">expando</span> <span class="o">+</span> <span class="s2">&quot;&#39;&gt;&lt;/div&gt;&quot;</span><span class="p">;</span>
		<span class="nx">docElem</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">div</span><span class="p">,</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-445">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-445">&#182;</a>               </div>               <p>Test</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">pass</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByName</span> <span class="o">&amp;&amp;</span></pre></div>             </td>           </tr>                               <tr id="section-446">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-446">&#182;</a>               </div>               <p>buggy browsers will return fewer than the correct 2</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="p">(</span> <span class="nx">expando</span> <span class="p">).</span><span class="nx">length</span> <span class="o">===</span></pre></div>             </td>           </tr>                               <tr id="section-447">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-447">&#182;</a>               </div>               <p>buggy browsers will return more than the correct 0</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="mi">2</span> <span class="o">+</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="p">(</span> <span class="nx">expando</span> <span class="o">+</span> <span class="mi">0</span> <span class="p">).</span><span class="nx">length</span><span class="p">;</span>
		<span class="nx">assertGetIdNotName</span> <span class="o">=</span> <span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">expando</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-448">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-448">&#182;</a>               </div>               <p>Cleanup</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">docElem</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span>

		<span class="k">return</span> <span class="nx">pass</span><span class="p">;</span>
	<span class="p">}),</span></pre></div>             </td>           </tr>                               <tr id="section-449">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-449">&#182;</a>               </div>               <p>Check if the browser returns only elements
when doing getElementsByTagName("*")</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assertTagNameNoComments</span> <span class="o">=</span> <span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createComment</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">);</span>
		<span class="k">return</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}),</span></pre></div>             </td>           </tr>                               <tr id="section-450">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-450">&#182;</a>               </div>               <p>Check if getAttribute returns normalized href attributes</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assertHrefNotNormalized</span> <span class="o">=</span> <span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;a href=&#39;#&#39;&gt;&lt;/a&gt;&quot;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">getAttribute</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;#&quot;</span><span class="p">;</span>
	<span class="p">}),</span></pre></div>             </td>           </tr>                               <tr id="section-451">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-451">&#182;</a>               </div>               <p>Check if getElementsByClassName can be trusted</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">assertUsableClassName</span> <span class="o">=</span> <span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-452">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-452">&#182;</a>               </div>               <p>Opera can't find a second classname (in 9.6)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;div class=&#39;hidden e&#39;&gt;&lt;/div&gt;&lt;div class=&#39;hidden&#39;&gt;&lt;/div&gt;&quot;</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="o">||</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-453">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-453">&#182;</a>               </div>               <p>Safari caches class attributes, doesn't catch changes (in 3.2)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">div</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">&quot;e&quot;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">div</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Sizzle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">results</span> <span class="o">=</span> <span class="nx">results</span> <span class="o">||</span> <span class="p">[];</span>
	<span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">match</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">xml</span><span class="p">,</span> <span class="nx">m</span><span class="p">,</span>
		<span class="nx">nodeType</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">[];</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">selector</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="nx">xml</span> <span class="o">=</span> <span class="nx">isXML</span><span class="p">(</span> <span class="nx">context</span> <span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">xml</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">seed</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">rquickExpr</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-454">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-454">&#182;</a>               </div>               <p>Speed-up: Sizzle("#ID")</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">m</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-455">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-455">&#182;</a>               </div>               <p>Check parentNode to catch when Blackberry 4.6 returns
nodes that are no longer in the document #6963</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-456">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-456">&#182;</a>               </div>               <p>Handle the case where IE, Opera, and Webkit return items
by name instead of ID</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">m</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
							<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-457">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-457">&#182;</a>               </div>               <p>Context is not a document</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">context</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">m</span> <span class="p">))</span> <span class="o">&amp;&amp;</span>
						<span class="nx">contains</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">m</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
						<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-458">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-458">&#182;</a>               </div>               <p>Speed-up: Sizzle("TAG")</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">results</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-459">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-459">&#182;</a>               </div>               <p>Speed-up: Sizzle(".CLASS")</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nx">assertUsableClassName</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span> <span class="nx">m</span> <span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-460">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-460">&#182;</a>               </div>               <p>All others</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">select</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">Expr</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">selectors</span> <span class="o">=</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-461">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-461">&#182;</a>               </div>               <p>Can be adjusted by the user</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">cacheLength</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>

	<span class="nx">match</span><span class="o">:</span> <span class="nx">matchExpr</span><span class="p">,</span>

	<span class="nx">order</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;TAG&quot;</span> <span class="p">],</span>

	<span class="nx">attrHandle</span><span class="o">:</span> <span class="p">{},</span>

	<span class="nx">createPseudo</span><span class="o">:</span> <span class="nx">markFunction</span><span class="p">,</span>

	<span class="nx">find</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;ID&quot;</span><span class="o">:</span> <span class="nx">assertGetIdNotName</span> <span class="o">?</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementById</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">id</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-462">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-462">&#182;</a>               </div>               <p>Check parentNode to catch when Blackberry 4.6 returns
nodes that are no longer in the document #6963</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">return</span> <span class="nx">m</span> <span class="o">&amp;&amp;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">?</span> <span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="o">:</span> <span class="p">[];</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="o">:</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementById</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span> <span class="nx">id</span> <span class="p">);</span>

					<span class="k">return</span> <span class="nx">m</span> <span class="o">?</span>
						<span class="nx">m</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">m</span><span class="p">.</span><span class="nx">getAttributeNode</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">).</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">id</span> <span class="o">?</span>
							<span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="o">:</span>
							<span class="kc">undefined</span> <span class="o">:</span>
						<span class="p">[];</span>
				<span class="p">}</span>
			<span class="p">},</span>

		<span class="s2">&quot;TAG&quot;</span><span class="o">:</span> <span class="nx">assertTagNameNoComments</span> <span class="o">?</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByTagName</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="nx">tag</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="o">:</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="nx">tag</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-463">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-463">&#182;</a>               </div>               <p>Filter out possible comments</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">tag</span> <span class="o">===</span> <span class="s2">&quot;*&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span>
						<span class="nx">tmp</span> <span class="o">=</span> <span class="p">[],</span>
						<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

					<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">tmp</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>

					<span class="k">return</span> <span class="nx">tmp</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
			<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">relative</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;&gt;&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">dir</span><span class="o">:</span> <span class="s2">&quot;parentNode&quot;</span><span class="p">,</span> <span class="nx">first</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
		<span class="s2">&quot; &quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">dir</span><span class="o">:</span> <span class="s2">&quot;parentNode&quot;</span> <span class="p">},</span>
		<span class="s2">&quot;+&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">dir</span><span class="o">:</span> <span class="s2">&quot;previousSibling&quot;</span><span class="p">,</span> <span class="nx">first</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
		<span class="s2">&quot;~&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="nx">dir</span><span class="o">:</span> <span class="s2">&quot;previousSibling&quot;</span> <span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">preFilter</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;ATTR&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">match</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-464">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-464">&#182;</a>               </div>               <p>Move the given value to match[3] whether quoted or unquoted</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">||</span> <span class="nx">match</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;~=&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">match</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;CHILD&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">match</span> <span class="p">)</span> <span class="p">{</span>
			<span class="cm">/* matches from matchExpr.CHILD</span>
<span class="cm">				1 type (only|nth|...)</span>
<span class="cm">				2 argument (even|odd|\d*|\d*n([+-]\d+)?|...)</span>
<span class="cm">				3 xn-component of xn+y argument ([+-]?\d*n|)</span>
<span class="cm">				4 sign of xn-component</span>
<span class="cm">				5 x of xn-component</span>
<span class="cm">				6 sign of y-component</span>
<span class="cm">				7 y of y-component</span>
<span class="cm">			*/</span>
			<span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">();</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;nth&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-465">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-465">&#182;</a>               </div>               <p>nth-child requires argument</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-466">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-466">&#182;</a>               </div>               <p>numeric x and y parameters for Expr.filter.CHILD
remember that false/true cast respectively to 0/1</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="o">+</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">?</span> <span class="nx">match</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">||</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;even&quot;</span> <span class="o">||</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;odd&quot;</span> <span class="p">)</span> <span class="p">);</span>
				<span class="nx">match</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="o">+</span><span class="p">(</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="nx">match</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;odd&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-467">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-467">&#182;</a>               </div>               <p>other types prohibit arguments</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">match</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;PSEUDO&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">match</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">argument</span><span class="p">,</span>
				<span class="nx">unquoted</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">matchExpr</span><span class="p">[</span><span class="s2">&quot;CHILD&quot;</span><span class="p">].</span><span class="nx">test</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-468">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-468">&#182;</a>               </div>               <p>Relinquish our claim on characters in <code>unquoted</code> from a closing parenthesis on</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">unquoted</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">argument</span> <span class="o">=</span> <span class="nx">rselector</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">unquoted</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">argument</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>

				<span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">argument</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">unquoted</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">);</span>
				<span class="nx">unquoted</span> <span class="o">=</span> <span class="nx">argument</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-469">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-469">&#182;</a>               </div>               <p>Quoted or unquoted, we have the full argument
Return only captures needed by the pseudo filter method (type and argument)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">match</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">unquoted</span> <span class="o">||</span> <span class="nx">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">match</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">filter</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;ID&quot;</span><span class="o">:</span> <span class="nx">assertGetIdNotName</span> <span class="o">?</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">id</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
				<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="nx">id</span><span class="p">;</span>
				<span class="p">};</span>
			<span class="p">}</span> <span class="o">:</span>
			<span class="kd">function</span><span class="p">(</span> <span class="nx">id</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
				<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">);</span>
					<span class="k">return</span> <span class="nx">node</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">id</span><span class="p">;</span>
				<span class="p">};</span>
			<span class="p">},</span>

		<span class="s2">&quot;TAG&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">nodeName</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;*&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">};</span>
			<span class="p">}</span>
			<span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">nodeName</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>

			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="nx">nodeName</span><span class="p">;</span>
			<span class="p">};</span>
		<span class="p">},</span>

		<span class="s2">&quot;CLASS&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">className</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">pattern</span> <span class="o">=</span> <span class="nx">classCache</span><span class="p">[</span> <span class="nx">className</span> <span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">pattern</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">pattern</span> <span class="o">=</span> <span class="nx">classCache</span><span class="p">[</span> <span class="nx">className</span> <span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;(^|&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="o">+</span> <span class="nx">className</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;|$)&quot;</span> <span class="p">);</span>
				<span class="nx">cachedClasses</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">className</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-470">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-470">&#182;</a>               </div>               <p>Avoid too large of a cache</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">cachedClasses</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">cacheLength</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">delete</span> <span class="nx">classCache</span><span class="p">[</span> <span class="nx">cachedClasses</span><span class="p">.</span><span class="nx">shift</span><span class="p">()</span> <span class="p">];</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">pattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">className</span> <span class="o">||</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">))</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
			<span class="p">};</span>
		<span class="p">},</span>

		<span class="s2">&quot;ATTR&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">operator</span><span class="p">,</span> <span class="nx">check</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">operator</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span>
				<span class="p">};</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">),</span>
					<span class="nx">value</span> <span class="o">=</span> <span class="nx">result</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">result</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">operator</span> <span class="o">===</span> <span class="s2">&quot;!=&quot;</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">switch</span> <span class="p">(</span> <span class="nx">operator</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">case</span> <span class="s2">&quot;=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">value</span> <span class="o">===</span> <span class="nx">check</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;!=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">value</span> <span class="o">!==</span> <span class="nx">check</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;^=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">check</span> <span class="o">&amp;&amp;</span> <span class="nx">value</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">check</span> <span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;*=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">check</span> <span class="o">&amp;&amp;</span> <span class="nx">value</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">check</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;$=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">check</span> <span class="o">&amp;&amp;</span> <span class="nx">value</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">check</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">check</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;~=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">check</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
					<span class="k">case</span> <span class="s2">&quot;|=&quot;</span><span class="o">:</span>
						<span class="k">return</span> <span class="nx">value</span> <span class="o">===</span> <span class="nx">check</span> <span class="o">||</span> <span class="nx">value</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">check</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">check</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">};</span>
		<span class="p">},</span>

		<span class="s2">&quot;CHILD&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">first</span><span class="p">,</span> <span class="nx">last</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;nth&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">doneName</span> <span class="o">=</span> <span class="nx">done</span><span class="o">++</span><span class="p">;</span>

				<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">parent</span><span class="p">,</span> <span class="nx">diff</span><span class="p">,</span>
						<span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
						<span class="nx">node</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">first</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">last</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
					<span class="p">}</span>

					<span class="nx">parent</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">parent</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">parent</span><span class="p">[</span> <span class="nx">expando</span> <span class="p">]</span> <span class="o">!==</span> <span class="nx">doneName</span> <span class="o">||</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">for</span> <span class="p">(</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span> <span class="nx">node</span><span class="p">;</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">node</span><span class="p">.</span><span class="nx">sizset</span> <span class="o">=</span> <span class="o">++</span><span class="nx">count</span><span class="p">;</span>
								<span class="k">if</span> <span class="p">(</span> <span class="nx">node</span> <span class="o">===</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
									<span class="k">break</span><span class="p">;</span>
								<span class="p">}</span>
							<span class="p">}</span>
						<span class="p">}</span>

						<span class="nx">parent</span><span class="p">[</span> <span class="nx">expando</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">doneName</span><span class="p">;</span>
					<span class="p">}</span>

					<span class="nx">diff</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span> <span class="o">-</span> <span class="nx">last</span><span class="p">;</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">first</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">diff</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>

					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="k">return</span> <span class="p">(</span> <span class="nx">diff</span> <span class="o">%</span> <span class="nx">first</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">diff</span> <span class="o">/</span> <span class="nx">first</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">};</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>

				<span class="k">switch</span> <span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">case</span> <span class="s2">&quot;only&quot;</span><span class="o">:</span>
					<span class="k">case</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span>
						<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
								<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
							<span class="p">}</span>
						<span class="p">}</span>

						<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;first&quot;</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
						<span class="p">}</span>

						<span class="nx">node</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>

						<span class="cm">/* falls through */</span>
					<span class="k">case</span> <span class="s2">&quot;last&quot;</span><span class="o">:</span>
						<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
								<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
							<span class="p">}</span>
						<span class="p">}</span>

						<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">};</span>
		<span class="p">},</span>

		<span class="s2">&quot;PSEUDO&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">pseudo</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-471">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-471">&#182;</a>               </div>               <p>pseudo-class names are case-insensitive
http://www.w3.org/TR/selectors/#pseudo-classes
Prioritize by case sensitivity in case custom pseudos are added with uppercase letters</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">[</span> <span class="nx">pseudo</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">[</span> <span class="nx">pseudo</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span>

			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="s2">&quot;unsupported pseudo: &quot;</span> <span class="o">+</span> <span class="nx">pseudo</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-472">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-472">&#182;</a>               </div>               <p>The user may set fn.sizzleFilter to indicate
that arguments are needed to create the filter function
just as Sizzle does</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fn</span><span class="p">.</span><span class="nx">sizzleFilter</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">fn</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">fn</span><span class="p">(</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">pseudos</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;not&quot;</span><span class="o">:</span> <span class="nx">markFunction</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-473">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-473">&#182;</a>               </div>               <p>Trim the selector passed to compile
to avoid treating leading and trailing
spaces as combinators</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">matcher</span> <span class="o">=</span> <span class="nx">compile</span><span class="p">(</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rtrim</span><span class="p">,</span> <span class="s2">&quot;$1&quot;</span> <span class="p">),</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="o">!</span><span class="nx">matcher</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="p">};</span>
		<span class="p">}),</span>

		<span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">===</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;disabled&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;checked&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-474">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-474">&#182;</a>               </div>               <p>In CSS3, :checked should return both checked and selected elements
http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
			<span class="k">return</span> <span class="p">(</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">checked</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;option&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">selected</span><span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;selected&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-475">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-475">&#182;</a>               </div>               <p>Accessing this property makes selected-by-default
options in Safari work properly</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">selected</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;parent&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="o">!</span><span class="nx">Expr</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">[</span><span class="s2">&quot;empty&quot;</span><span class="p">](</span> <span class="nx">elem</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;empty&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-476">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-476">&#182;</a>               </div>               <p>http://www.w3.org/TR/selectors/#empty-pseudo
:empty is only affected by element nodes and content nodes(including text(3), cdata(4)),
  not comment, processing instructions, or others
Thanks to Diego Perini for the nodeName shortcut
  Greater than "@" means alpha characters (specifically not starting with "#" or "?")</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">nodeType</span><span class="p">;</span>
			<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>
			<span class="k">while</span> <span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&gt;</span> <span class="s2">&quot;@&quot;</span> <span class="o">||</span> <span class="p">(</span><span class="nx">nodeType</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">)</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;contains&quot;</span><span class="o">:</span> <span class="nx">markFunction</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">||</span> <span class="nx">getText</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
			<span class="p">};</span>
		<span class="p">}),</span>

		<span class="s2">&quot;has&quot;</span><span class="o">:</span> <span class="nx">markFunction</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">};</span>
		<span class="p">}),</span>

		<span class="s2">&quot;header&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">rheader</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">attr</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-477">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-477">&#182;</a>               </div>               <p>IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)
use getAttribute instead to test this case</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;text&quot;</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="p">(</span><span class="nx">attr</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="nx">type</span> <span class="p">);</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-478">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-478">&#182;</a>               </div>               <p>Input types</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="s2">&quot;radio&quot;</span><span class="o">:</span> <span class="nx">createInputFunction</span><span class="p">(</span><span class="s2">&quot;radio&quot;</span><span class="p">),</span>
		<span class="s2">&quot;checkbox&quot;</span><span class="o">:</span> <span class="nx">createInputFunction</span><span class="p">(</span><span class="s2">&quot;checkbox&quot;</span><span class="p">),</span>
		<span class="s2">&quot;file&quot;</span><span class="o">:</span> <span class="nx">createInputFunction</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">),</span>
		<span class="s2">&quot;password&quot;</span><span class="o">:</span> <span class="nx">createInputFunction</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">),</span>
		<span class="s2">&quot;image&quot;</span><span class="o">:</span> <span class="nx">createInputFunction</span><span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">),</span>

		<span class="s2">&quot;submit&quot;</span><span class="o">:</span> <span class="nx">createButtonFunction</span><span class="p">(</span><span class="s2">&quot;submit&quot;</span><span class="p">),</span>
		<span class="s2">&quot;reset&quot;</span><span class="o">:</span> <span class="nx">createButtonFunction</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">),</span>

		<span class="s2">&quot;button&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
			<span class="k">return</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;button&quot;</span> <span class="o">||</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;button&quot;</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;input&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">rinputs</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;focus&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">;</span>
			<span class="k">return</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">activeElement</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">doc</span><span class="p">.</span><span class="nx">hasFocus</span> <span class="o">||</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">hasFocus</span><span class="p">())</span> <span class="o">&amp;&amp;</span> <span class="o">!!</span><span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;active&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">activeElement</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">setFilters</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">not</span> <span class="o">?</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">:</span> <span class="p">[</span> <span class="nx">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">];</span>
		<span class="p">},</span>

		<span class="s2">&quot;last&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
			<span class="k">return</span> <span class="nx">not</span> <span class="o">?</span> <span class="nx">elements</span> <span class="o">:</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">];</span>
		<span class="p">},</span>

		<span class="s2">&quot;even&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[],</span>
				<span class="nx">i</span> <span class="o">=</span> <span class="nx">not</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">len</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;odd&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[],</span>
				<span class="nx">i</span> <span class="o">=</span> <span class="nx">not</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
				<span class="nx">len</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="s2">&quot;lt&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">not</span> <span class="o">?</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="o">+</span><span class="nx">argument</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="nx">argument</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;gt&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">not</span> <span class="o">?</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="nx">argument</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="o">+</span><span class="nx">argument</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">);</span>
		<span class="p">},</span>

		<span class="s2">&quot;eq&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="o">+</span><span class="nx">argument</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">not</span> <span class="o">?</span> <span class="nx">elements</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-479">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-479">&#182;</a>               </div>               <p>Deprecated</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Expr</span><span class="p">.</span><span class="nx">setFilters</span><span class="p">[</span><span class="s2">&quot;nth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">setFilters</span><span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-480">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-480">&#182;</a>               </div>               <p>Back-compat</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Expr</span><span class="p">.</span><span class="nx">filters</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-481">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-481">&#182;</a>               </div>               <p>IE6/7 return a modified href</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">assertHrefNotNormalized</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">Expr</span><span class="p">.</span><span class="nx">attrHandle</span> <span class="o">=</span> <span class="p">{</span>
		<span class="s2">&quot;href&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span> <span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
		<span class="p">},</span>
		<span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-482">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-482">&#182;</a>               </div>               <p>Add getElementsByName if usable</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="nx">assertUsableName</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">Expr</span><span class="p">.</span><span class="nx">order</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">);</span>
	<span class="nx">Expr</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span><span class="s2">&quot;NAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByName</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-483">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-483">&#182;</a>               </div>               <p>Add getElementsByClassName if usable</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="nx">assertUsableClassName</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">Expr</span><span class="p">.</span><span class="nx">order</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;CLASS&quot;</span> <span class="p">);</span>
	<span class="nx">Expr</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span><span class="s2">&quot;CLASS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">className</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByClassName</span> <span class="o">!==</span> <span class="nx">strundefined</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span> <span class="nx">className</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-484">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-484">&#182;</a>               </div>               <p>If slice is not available, provide a backup</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">try</span> <span class="p">{</span>
	<span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">slice</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">isXML</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">isXML</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-485">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-485">&#182;</a>               </div>               <p>documentElement is verified for cases where it doesn't yet exist
(such as loading iframes in IE - #4833)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">documentElement</span> <span class="o">=</span> <span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">).</span><span class="nx">documentElement</span><span class="p">;</span>
	<span class="k">return</span> <span class="nx">documentElement</span> <span class="o">?</span> <span class="nx">documentElement</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">!==</span> <span class="s2">&quot;HTML&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-486">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-486">&#182;</a>               </div>               <p>Element contains another</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">contains</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">contains</span> <span class="o">=</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="o">?</span>
	<span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">!!</span><span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span> <span class="nx">b</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mi">16</span> <span class="p">);</span>
	<span class="p">}</span> <span class="o">:</span>
	<span class="nx">docElem</span><span class="p">.</span><span class="nx">contains</span> <span class="o">?</span>
	<span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">adown</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">?</span> <span class="nx">a</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">:</span> <span class="nx">a</span><span class="p">,</span>
			<span class="nx">bup</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">bup</span> <span class="o">||</span> <span class="o">!!</span><span class="p">(</span> <span class="nx">bup</span> <span class="o">&amp;&amp;</span> <span class="nx">bup</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">adown</span><span class="p">.</span><span class="nx">contains</span> <span class="o">&amp;&amp;</span> <span class="nx">adown</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">bup</span><span class="p">)</span> <span class="p">);</span>
	<span class="p">}</span> <span class="o">:</span>
	<span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">b</span> <span class="o">===</span> <span class="nx">a</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Utility function for retrieving the text value of an array of DOM nodes</span>
<span class="cm"> * @param {Array|Element} elem</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">getText</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">getText</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">node</span><span class="p">,</span>
		<span class="nx">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">nodeType</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeType</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">||</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-487">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-487">&#182;</a>               </div>               <p>Use textContent for elements
innerText usage removed for consistency of new lines (see #11153)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">textContent</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-488">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-488">&#182;</a>               </div>               <p>Traverse its children</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">for</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span> <span class="nx">elem</span><span class="p">;</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nextSibling</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">ret</span> <span class="o">+=</span> <span class="nx">getText</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeValue</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-489">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-489">&#182;</a>               </div>               <p>Do not include comment or processing instruction nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-490">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-490">&#182;</a>               </div>               <p>If no nodeType, this is expected to be an array</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">node</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-491">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-491">&#182;</a>               </div>               <p>Do not traverse comment nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">ret</span> <span class="o">+=</span> <span class="nx">getText</span><span class="p">(</span> <span class="nx">node</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">attr</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">attr</span><span class="p">,</span>
		<span class="nx">xml</span> <span class="o">=</span> <span class="nx">isXML</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">attrHandle</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">attrHandle</span><span class="p">[</span> <span class="nx">name</span> <span class="p">](</span> <span class="nx">elem</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">assertAttributes</span> <span class="o">||</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="nx">attr</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span>
	<span class="k">return</span> <span class="nx">attr</span> <span class="o">?</span>
		<span class="k">typeof</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span> <span class="o">?</span>
			<span class="nx">elem</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">?</span> <span class="nx">name</span> <span class="o">:</span> <span class="kc">null</span> <span class="o">:</span>
			<span class="nx">attr</span><span class="p">.</span><span class="nx">specified</span> <span class="o">?</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">value</span> <span class="o">:</span> <span class="kc">null</span> <span class="o">:</span>
		<span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">msg</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span> <span class="s2">&quot;Syntax error, unrecognized expression: &quot;</span> <span class="o">+</span> <span class="nx">msg</span> <span class="p">);</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-492">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-492">&#182;</a>               </div>               <p>Check if the JavaScript engine is using some sort of
optimization where it does not always call our comparision
function. If that is the case, discard the hasDuplicate value.
  Thus far that includes Google Chrome.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">].</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="nx">baseHasDuplicate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">});</span>


<span class="k">if</span> <span class="p">(</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">sortOrder</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">hasDuplicate</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="p">(</span> <span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="o">||</span> <span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="o">?</span>
			<span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span> <span class="o">:</span>
			<span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">4</span>
		<span class="p">)</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">};</span>

<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
	<span class="nx">sortOrder</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-493">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-493">&#182;</a>               </div>               <p>The nodes are identical, we can exit early</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">hasDuplicate</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-494">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-494">&#182;</a>               </div>               <p>Fallback to using sourceIndex (in IE) if it's available on both nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">al</span><span class="p">,</span> <span class="nx">bl</span><span class="p">,</span>
			<span class="nx">ap</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">bp</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">aup</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span>
			<span class="nx">bup</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">aup</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-495">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-495">&#182;</a>               </div>               <p>If the nodes are siblings (or identical) we can do a quick check</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">aup</span> <span class="o">===</span> <span class="nx">bup</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">siblingCheck</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-496">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-496">&#182;</a>               </div>               <p>If no parents were found then the nodes are disconnected</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">aup</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">bup</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-497">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-497">&#182;</a>               </div>               <p>Otherwise they're somewhere else in the tree so we need
to build up a full list of the parentNodes for comparison</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ap</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">);</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">cur</span> <span class="o">=</span> <span class="nx">bup</span><span class="p">;</span>

		<span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">bp</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">);</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">al</span> <span class="o">=</span> <span class="nx">ap</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="nx">bl</span> <span class="o">=</span> <span class="nx">bp</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-498">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-498">&#182;</a>               </div>               <p>Start walking down the tree looking for a discrepancy</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">al</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">bl</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">ap</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">bp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">siblingCheck</span><span class="p">(</span> <span class="nx">ap</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">bp</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-499">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-499">&#182;</a>               </div>               <p>We ended someplace up the tree so do a sibling check</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">al</span> <span class="o">?</span>
			<span class="nx">siblingCheck</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">bp</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="o">:</span>
			<span class="nx">siblingCheck</span><span class="p">(</span> <span class="nx">ap</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">};</span>

	<span class="nx">siblingCheck</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">ret</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">cur</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>

		<span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">cur</span> <span class="o">===</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-500">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-500">&#182;</a>               </div>               <p>Document sorting and removing duplicates</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Sizzle</span><span class="p">.</span><span class="nx">uniqueSort</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">results</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">sortOrder</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">hasDuplicate</span> <span class="o">=</span> <span class="nx">baseHasDuplicate</span><span class="p">;</span>
		<span class="nx">results</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span> <span class="nx">sortOrder</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">hasDuplicate</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">results</span><span class="p">[</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">results</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">i</span><span class="o">--</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">multipleContexts</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">len</span> <span class="o">=</span> <span class="nx">contexts</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handlePOSGroup</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">posfilter</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">results</span><span class="p">,</span>
		<span class="nx">fn</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">setFilters</span><span class="p">[</span> <span class="nx">posfilter</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="nx">posfilter</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="nx">results</span> <span class="o">=</span> <span class="nx">seed</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">multipleContexts</span><span class="p">(</span> <span class="nx">selector</span> <span class="o">||</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="nx">contexts</span><span class="p">,</span> <span class="p">(</span><span class="nx">results</span> <span class="o">=</span> <span class="p">[]),</span> <span class="nx">seed</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">fn</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">argument</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="o">:</span> <span class="p">[];</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handlePOS</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">groups</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">match</span><span class="p">,</span> <span class="nx">not</span><span class="p">,</span> <span class="nx">anchor</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">currentContexts</span><span class="p">,</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">lastIndex</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">len</span> <span class="o">=</span> <span class="nx">groups</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
		<span class="nx">rpos</span> <span class="o">=</span> <span class="nx">matchExpr</span><span class="p">[</span><span class="s2">&quot;POS&quot;</span><span class="p">],</span></pre></div>             </td>           </tr>                               <tr id="section-501">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-501">&#182;</a>               </div>               <p>This is generated here in case matchExpr["POS"] is extended</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">rposgroups</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^&quot;</span> <span class="o">+</span> <span class="nx">rpos</span><span class="p">.</span><span class="nx">source</span> <span class="o">+</span> <span class="s2">&quot;(?!&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-502">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-502">&#182;</a>               </div>               <p>This is for making sure non-participating
matching groups are represented cross-browser (IE6-8)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">setUndefined</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
				<span class="nx">len</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">match</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">};</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-503">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-503">&#182;</a>               </div>               <p>Reset regex index to 0</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">rpos</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
		<span class="nx">selector</span> <span class="o">=</span> <span class="nx">groups</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="nx">ret</span> <span class="o">=</span> <span class="p">[];</span>
		<span class="nx">anchor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="nx">elements</span> <span class="o">=</span> <span class="nx">seed</span><span class="p">;</span>
		<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">rpos</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">lastIndex</span> <span class="o">=</span> <span class="nx">rpos</span><span class="p">.</span><span class="nx">lastIndex</span> <span class="o">=</span> <span class="nx">match</span><span class="p">.</span><span class="nx">index</span> <span class="o">+</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">lastIndex</span> <span class="o">&gt;</span> <span class="nx">anchor</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">part</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">anchor</span><span class="p">,</span> <span class="nx">match</span><span class="p">.</span><span class="nx">index</span> <span class="p">);</span>
				<span class="nx">anchor</span> <span class="o">=</span> <span class="nx">lastIndex</span><span class="p">;</span>
				<span class="nx">currentContexts</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">context</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">rcombinators</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">part</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">elements</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">currentContexts</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="nx">elements</span> <span class="o">=</span> <span class="nx">seed</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">not</span> <span class="o">=</span> <span class="nx">rendsWithNot</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">part</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">part</span> <span class="o">=</span> <span class="nx">part</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rcombinators</span><span class="p">,</span> <span class="s2">&quot;$&amp;*&quot;</span> <span class="p">);</span>
				<span class="p">}</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rposgroups</span><span class="p">,</span> <span class="nx">setUndefined</span> <span class="p">);</span>
				<span class="p">}</span>
				<span class="nx">elements</span> <span class="o">=</span> <span class="nx">handlePOSGroup</span><span class="p">(</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nx">currentContexts</span><span class="p">,</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">not</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">elements</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">elements</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">part</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">anchor</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">part</span> <span class="o">!==</span> <span class="s2">&quot;)&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">rcombinators</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">part</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">multipleContexts</span><span class="p">(</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="o">?</span> <span class="nx">seed</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">elements</span><span class="p">)</span> <span class="o">:</span> <span class="nx">elements</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">ret</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-504">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-504">&#182;</a>               </div>               <p>Do not sort if this is a single filter</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">len</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">results</span> <span class="o">:</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">uniqueSort</span><span class="p">(</span> <span class="nx">results</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">tokenize</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">soFar</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span>
		<span class="nx">groups</span> <span class="o">=</span> <span class="p">[],</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-505">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-505">&#182;</a>               </div>               <p>Catch obvious selector issues: terminal ")"; nonempty fallback match
rselector never fails to match <em>something</em></p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">match</span> <span class="o">=</span> <span class="nx">rselector</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">),</span>
		<span class="nx">matched</span> <span class="o">=</span> <span class="o">!</span><span class="nx">match</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">match</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span>
		<span class="nx">selectorGroups</span> <span class="o">=</span> <span class="nx">matched</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span> <span class="nx">rgroups</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>

		<span class="nx">preFilters</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">preFilter</span><span class="p">,</span>
		<span class="nx">filters</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">filter</span><span class="p">,</span>
		<span class="nx">checkContext</span> <span class="o">=</span> <span class="o">!</span><span class="nx">xml</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span> <span class="o">!==</span> <span class="nb">document</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">soFar</span> <span class="o">=</span> <span class="nx">selectorGroups</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">matched</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">groups</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">tokens</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-506">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-506">&#182;</a>               </div>               <p>Need to make sure we're within a narrower context if necessary
Adding a descendant combinator will generate what is needed</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">checkContext</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">soFar</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">soFar</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">while</span> <span class="p">(</span> <span class="nx">soFar</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">matched</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-507">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-507">&#182;</a>               </div>               <p>Combinators</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">rcombinators</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">soFar</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">soFar</span> <span class="o">=</span> <span class="nx">soFar</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-508">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-508">&#182;</a>               </div>               <p>Cast descendant combinators to space</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">matched</span> <span class="o">=</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">part</span><span class="o">:</span> <span class="nx">match</span><span class="p">.</span><span class="nx">pop</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rtrim</span><span class="p">,</span> <span class="s2">&quot; &quot;</span> <span class="p">),</span> <span class="nx">captures</span><span class="o">:</span> <span class="nx">match</span> <span class="p">});</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-509">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-509">&#182;</a>               </div>               <p>Filters</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">filters</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">matchExpr</span><span class="p">[</span> <span class="nx">type</span> <span class="p">].</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">soFar</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">preFilters</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">||</span>
					<span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">preFilters</span><span class="p">[</span> <span class="nx">type</span> <span class="p">](</span> <span class="nx">match</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">))</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>

					<span class="nx">soFar</span> <span class="o">=</span> <span class="nx">soFar</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">match</span><span class="p">.</span><span class="nx">shift</span><span class="p">().</span><span class="nx">length</span> <span class="p">);</span>
					<span class="nx">matched</span> <span class="o">=</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">part</span><span class="o">:</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">captures</span><span class="o">:</span> <span class="nx">match</span> <span class="p">});</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">matched</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">matched</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">groups</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">addCombinator</span><span class="p">(</span> <span class="nx">matcher</span><span class="p">,</span> <span class="nx">combinator</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">dir</span> <span class="o">=</span> <span class="nx">combinator</span><span class="p">.</span><span class="nx">dir</span><span class="p">,</span>
		<span class="nx">doneName</span> <span class="o">=</span> <span class="nx">done</span><span class="o">++</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">matcher</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-510">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-510">&#182;</a>               </div>               <p>If there is no matcher to check, check against the context</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">matcher</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">context</span><span class="p">;</span>
		<span class="p">};</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">combinator</span><span class="p">.</span><span class="nx">first</span> <span class="o">?</span>
		<span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">dir</span> <span class="p">])</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">matcher</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="o">:</span>
		<span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">cache</span><span class="p">,</span>
				<span class="nx">dirkey</span> <span class="o">=</span> <span class="nx">doneName</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">dirruns</span><span class="p">,</span>
				<span class="nx">cachedkey</span> <span class="o">=</span> <span class="nx">dirkey</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">cachedruns</span><span class="p">;</span>
			<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">dir</span> <span class="p">])</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">cache</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">expando</span> <span class="p">])</span> <span class="o">===</span> <span class="nx">cachedkey</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span><span class="p">;</span>
					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">cache</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">dirkey</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="nx">elem</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">[</span> <span class="nx">expando</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">cachedkey</span><span class="p">;</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">matcher</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
							<span class="k">return</span> <span class="nx">elem</span><span class="p">;</span>
						<span class="p">}</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">sizset</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">addMatcher</span><span class="p">(</span> <span class="nx">higher</span><span class="p">,</span> <span class="nx">deeper</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">higher</span> <span class="o">?</span>
		<span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">deeper</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">result</span> <span class="o">&amp;&amp;</span> <span class="nx">higher</span><span class="p">(</span> <span class="nx">result</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">?</span> <span class="nx">elem</span> <span class="o">:</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">context</span> <span class="p">);</span>
		<span class="p">}</span> <span class="o">:</span>
		<span class="nx">deeper</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-511">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-511">&#182;</a>               </div>               <p>["TAG", ">", "ID", " ", "CLASS"]</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">matcherFromTokens</span><span class="p">(</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">matcher</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">token</span> <span class="o">=</span> <span class="nx">tokens</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span> <span class="nx">token</span><span class="p">.</span><span class="nx">part</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">matcher</span> <span class="o">=</span> <span class="nx">addCombinator</span><span class="p">(</span> <span class="nx">matcher</span><span class="p">,</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span> <span class="nx">token</span><span class="p">.</span><span class="nx">part</span> <span class="p">],</span> <span class="nx">context</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">token</span><span class="p">.</span><span class="nx">captures</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
			<span class="nx">matcher</span> <span class="o">=</span> <span class="nx">addMatcher</span><span class="p">(</span> <span class="nx">matcher</span><span class="p">,</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">filter</span><span class="p">[</span> <span class="nx">token</span><span class="p">.</span><span class="nx">part</span> <span class="p">].</span><span class="nx">apply</span><span class="p">(</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">token</span><span class="p">.</span><span class="nx">captures</span> <span class="p">)</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">matcher</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">matcherFromGroupMatchers</span><span class="p">(</span> <span class="nx">matchers</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">matcher</span><span class="p">,</span>
			<span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">matcher</span> <span class="o">=</span> <span class="nx">matchers</span><span class="p">[</span><span class="nx">j</span><span class="p">]);</span> <span class="nx">j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">matcher</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">compile</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">compile</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">group</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span>
		<span class="nx">cached</span> <span class="o">=</span> <span class="nx">compilerCache</span><span class="p">[</span> <span class="nx">selector</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-512">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-512">&#182;</a>               </div>               <p>Return a cached group function if already generated (context dependent)</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">cached</span> <span class="o">&amp;&amp;</span> <span class="nx">cached</span><span class="p">.</span><span class="nx">context</span> <span class="o">===</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">cached</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-513">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-513">&#182;</a>               </div>               <p>Generate a function of recursive functions that can be used to check each element</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">group</span> <span class="o">=</span> <span class="nx">tokenize</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">tokens</span> <span class="o">=</span> <span class="nx">group</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">group</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">matcherFromTokens</span><span class="p">(</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-514">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-514">&#182;</a>               </div>               <p>Cache the compiled function</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">cached</span> <span class="o">=</span> <span class="nx">compilerCache</span><span class="p">[</span> <span class="nx">selector</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">matcherFromGroupMatchers</span><span class="p">(</span> <span class="nx">group</span> <span class="p">);</span>
	<span class="nx">cached</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span><span class="p">;</span>
	<span class="nx">cached</span><span class="p">.</span><span class="nx">runs</span> <span class="o">=</span> <span class="nx">cached</span><span class="p">.</span><span class="nx">dirruns</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="nx">cachedSelectors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-515">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-515">&#182;</a>               </div>               <p>Ensure only the most recent are cached</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">cachedSelectors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">cacheLength</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">delete</span> <span class="nx">compilerCache</span><span class="p">[</span> <span class="nx">cachedSelectors</span><span class="p">.</span><span class="nx">shift</span><span class="p">()</span> <span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">cached</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">matches</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">expr</span><span class="p">,</span> <span class="nx">elements</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">expr</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">elements</span> <span class="p">);</span>
<span class="p">};</span>

<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">matchesSelector</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">expr</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">expr</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">]</span> <span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">select</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-516">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-516">&#182;</a>               </div>               <p>Remove excessive whitespace</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rtrim</span><span class="p">,</span> <span class="s2">&quot;$1&quot;</span> <span class="p">);</span>
	<span class="kd">var</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">matcher</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">token</span><span class="p">,</span>
		<span class="nx">type</span><span class="p">,</span> <span class="nx">findContext</span><span class="p">,</span> <span class="nx">notTokens</span><span class="p">,</span>
		<span class="nx">match</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span> <span class="nx">rgroups</span> <span class="p">),</span>
		<span class="nx">tokens</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span> <span class="nx">rtokens</span> <span class="p">),</span>
		<span class="nx">contextNodeType</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-517">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-517">&#182;</a>               </div>               <p>POS handling</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">matchExpr</span><span class="p">[</span><span class="s2">&quot;POS&quot;</span><span class="p">].</span><span class="nx">test</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">handlePOS</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">match</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">seed</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">elements</span> <span class="o">=</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">seed</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-518">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-518">&#182;</a>               </div>               <p>To maintain document order, only narrow the
set if there is one group</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="nx">match</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-519">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-519">&#182;</a>               </div>               <p>Take a shortcut and set the context if the root selector is an ID</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">contextNodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">xml</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">matchExpr</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">].</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">](</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">shift</span><span class="p">().</span><span class="nx">length</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">findContext</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">rsibling</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">match</span><span class="p">.</span><span class="nx">index</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">context</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-520">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-520">&#182;</a>               </div>               <p>Get the last token, excluding :not</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">notTokens</span> <span class="o">=</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
		<span class="nx">token</span> <span class="o">=</span> <span class="nx">notTokens</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;:not&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>

		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">order</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">order</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

			<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">match</span> <span class="o">=</span> <span class="nx">matchExpr</span><span class="p">[</span> <span class="nx">type</span> <span class="p">].</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">token</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elements</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span> <span class="nx">type</span> <span class="p">](</span> <span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rbackslash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">),</span> <span class="nx">findContext</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">elements</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">continue</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">token</span> <span class="o">===</span> <span class="nx">notTokens</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">notTokens</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="o">+</span>
						<span class="nx">token</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">matchExpr</span><span class="p">[</span> <span class="nx">type</span> <span class="p">],</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>

					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-521">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-521">&#182;</a>               </div>               <p>Only loop over the given elements once
If selector is empty, we're already done</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">matcher</span> <span class="o">=</span> <span class="nx">compile</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
		<span class="nx">dirruns</span> <span class="o">=</span> <span class="nx">matcher</span><span class="p">.</span><span class="nx">dirruns</span><span class="o">++</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">elements</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elements</span> <span class="o">=</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span><span class="s2">&quot;TAG&quot;</span><span class="p">](</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">rsibling</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">||</span> <span class="nx">context</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">cachedruns</span> <span class="o">=</span> <span class="nx">matcher</span><span class="p">.</span><span class="nx">runs</span><span class="o">++</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">matcher</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span> <span class="p">)</span> <span class="p">{</span>
	<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">disconnectedMatch</span><span class="p">,</span>
			<span class="nx">oldSelect</span> <span class="o">=</span> <span class="nx">select</span><span class="p">,</span>
			<span class="nx">rescape</span> <span class="o">=</span> <span class="sr">/&#39;|\\/g</span><span class="p">,</span>
			<span class="nx">rattributeQuotes</span> <span class="o">=</span> <span class="sr">/\=[\x20\t\r\n\f]*([^&#39;&quot;\]]*)[\x20\t\r\n\f]*\]/g</span><span class="p">,</span>
			<span class="nx">rbuggyQSA</span> <span class="o">=</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-522">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-522">&#182;</a>               </div>               <p>matchesSelector(:active) reports false when true (IE9/Opera 11.5)
A support test would require too much code (would include document ready)
just skip matchesSelector for :active</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">rbuggyMatches</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;:active&quot;</span><span class="p">],</span>
			<span class="nx">matches</span> <span class="o">=</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">matchesSelector</span> <span class="o">||</span>
				<span class="nx">docElem</span><span class="p">.</span><span class="nx">mozMatchesSelector</span> <span class="o">||</span>
				<span class="nx">docElem</span><span class="p">.</span><span class="nx">webkitMatchesSelector</span> <span class="o">||</span>
				<span class="nx">docElem</span><span class="p">.</span><span class="nx">oMatchesSelector</span> <span class="o">||</span>
				<span class="nx">docElem</span><span class="p">.</span><span class="nx">msMatchesSelector</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-523">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-523">&#182;</a>               </div>               <p>Build QSA regex
Regex strategy adopted from Diego Perini</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;select&gt;&lt;option selected&gt;&lt;/option&gt;&lt;/select&gt;&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-524">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-524">&#182;</a>               </div>               <p>IE8 - Some boolean attributes are not treated correctly</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;[selected]&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s2">&quot;\\[&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(?:checked|disabled|ismap|multiple|readonly|selected|value)&quot;</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-525">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-525">&#182;</a>               </div>               <p>Webkit/Opera - :checked should return selected option elements
http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
IE8 throws error here (do not put tests after this one)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;:checked&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;:checked&quot;</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>

		<span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-526">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-526">&#182;</a>               </div>               <p>Opera 10-12/IE9 - ^= $= *= and empty values
Should not select anything</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;p test=&#39;&#39;&gt;&lt;/p&gt;&quot;</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">div</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;[test^=&#39;&#39;]&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s2">&quot;[*^$]=&quot;</span> <span class="o">+</span> <span class="nx">whitespace</span> <span class="o">+</span> <span class="s2">&quot;*(?:\&quot;\&quot;|&#39;&#39;)&quot;</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-527">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-527">&#182;</a>               </div>               <p>FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
IE8 throws error here (do not put tests after this one)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&lt;input type=&#39;hidden&#39;&gt;&quot;</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">div</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;:enabled&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;:enabled&quot;</span><span class="p">,</span> <span class="s2">&quot;:disabled&quot;</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>

		<span class="nx">rbuggyQSA</span> <span class="o">=</span> <span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span> <span class="p">);</span>

		<span class="nx">select</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-528">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-528">&#182;</a>               </div>               <p>Only use querySelectorAll when not filtering,
when this is not xml,
and when no QSA bugs apply</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">seed</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">xml</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">rbuggyQSA</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">try</span> <span class="p">{</span>
						<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="p">);</span>
						<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
					<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">qsaError</span><span class="p">)</span> <span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-529">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-529">&#182;</a>               </div>               <p>qSA works strangely on Element-rooted queries
We can work around this by specifying an extra ID on the root
and working up from there (Thanks to Andrew Dupont for the technique)
IE 8 doesn't work on object elements</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">!==</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">old</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
						<span class="nx">nid</span> <span class="o">=</span> <span class="nx">old</span> <span class="o">||</span> <span class="nx">expando</span><span class="p">,</span>
						<span class="nx">newContext</span> <span class="o">=</span> <span class="nx">rsibling</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">||</span> <span class="nx">context</span><span class="p">;</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">old</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">nid</span> <span class="o">=</span> <span class="nx">nid</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rescape</span><span class="p">,</span> <span class="s2">&quot;\\$&amp;&quot;</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">context</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="nx">nid</span> <span class="p">);</span>
					<span class="p">}</span>

					<span class="k">try</span> <span class="p">{</span>
						<span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">newContext</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span>
							<span class="nx">selector</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rgroups</span><span class="p">,</span> <span class="s2">&quot;[id=&#39;&quot;</span> <span class="o">+</span> <span class="nx">nid</span> <span class="o">+</span> <span class="s2">&quot;&#39;] $&amp;&quot;</span> <span class="p">)</span>
						<span class="p">),</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">);</span>
						<span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
					<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">qsaError</span><span class="p">)</span> <span class="p">{</span>
					<span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">old</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">context</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">oldSelect</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">seed</span><span class="p">,</span> <span class="nx">xml</span> <span class="p">);</span>
		<span class="p">};</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">matches</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">assert</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-530">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-530">&#182;</a>               </div>               <p>Check to see if it's possible to do matchesSelector
on a disconnected node (IE 9)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">disconnectedMatch</span> <span class="o">=</span> <span class="nx">matches</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">div</span><span class="p">,</span> <span class="s2">&quot;div&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-531">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-531">&#182;</a>               </div>               <p>This should fail with an exception
Gecko does not error, returns false instead</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">try</span> <span class="p">{</span>
					<span class="nx">matches</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">div</span><span class="p">,</span> <span class="s2">&quot;[test!=&#39;&#39;]:sizzle&quot;</span> <span class="p">);</span>
					<span class="nx">rbuggyMatches</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">Expr</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">PSEUDO</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span>
			<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-532">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-532">&#182;</a>               </div>               <p>rbuggyMatches always contains :active, so no need for a length check</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">rbuggyMatches</span> <span class="o">=</span> <span class="cm">/* rbuggyMatches.length &amp;&amp; */</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">rbuggyMatches</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span> <span class="p">);</span>

			<span class="nx">Sizzle</span><span class="p">.</span><span class="nx">matchesSelector</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">expr</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-533">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-533">&#182;</a>               </div>               <p>Make sure that attribute selectors are quoted</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">expr</span> <span class="o">=</span> <span class="nx">expr</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rattributeQuotes</span><span class="p">,</span> <span class="s2">&quot;=&#39;$1&#39;]&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-534">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-534">&#182;</a>               </div>               <p>rbuggyMatches always contains :active, so no need for an existence check</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isXML</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">rbuggyMatches</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">expr</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">rbuggyQSA</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rbuggyQSA</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">expr</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">try</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">matches</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">expr</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-535">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-535">&#182;</a>               </div>               <p>IE 9's matchesSelector returns false on disconnected nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">||</span> <span class="nx">disconnectedMatch</span> <span class="o">||</span></pre></div>             </td>           </tr>                               <tr id="section-536">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-536">&#182;</a>               </div>               <p>As well, disconnected nodes are said to be in a document
fragment in IE 9</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="nx">elem</span><span class="p">.</span><span class="nb">document</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">Sizzle</span><span class="p">(</span> <span class="nx">expr</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">]</span> <span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">};</span>
		<span class="p">}</span>
	<span class="p">})();</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-537">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-537">&#182;</a>               </div>               <p>Override sizzle attribute retrieval</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Sizzle</span><span class="p">.</span><span class="nx">attr</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">attr</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">find</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">selectors</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">[</span><span class="s2">&quot;:&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">pseudos</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">unique</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">uniqueSort</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">getText</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">isXMLDoc</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">isXML</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span> <span class="o">=</span> <span class="nx">Sizzle</span><span class="p">.</span><span class="nx">contains</span><span class="p">;</span>


<span class="p">})(</span> <span class="nb">window</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">runtil</span> <span class="o">=</span> <span class="sr">/Until$/</span><span class="p">,</span>
	<span class="nx">rparentsprev</span> <span class="o">=</span> <span class="sr">/^(?:parents|prev(?:Until|All))/</span><span class="p">,</span>
	<span class="nx">isSimple</span> <span class="o">=</span> <span class="sr">/^.[^:#\[\.,]*$/</span><span class="p">,</span>
	<span class="nx">rneedsContext</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">needsContext</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-538">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-538">&#182;</a>               </div>               <p>methods guaranteed to produce a unique set when starting from a unique set</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">guaranteedUnique</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">children</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">contents</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">next</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">prev</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">find</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span>
			<span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="nx">self</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="k">this</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="nx">ret</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;find&quot;</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">);</span>

		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">ret</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-539">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-539">&#182;</a>               </div>               <p>Make sure that the results are unique</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">for</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">for</span> <span class="p">(</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">r</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">r</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span> <span class="o">===</span> <span class="nx">ret</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">ret</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">n</span><span class="o">--</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
							<span class="k">break</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">has</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">target</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span>
			<span class="nx">targets</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="k">this</span> <span class="p">),</span>
			<span class="nx">len</span> <span class="o">=</span> <span class="nx">targets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">targets</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">not</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">winnow</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">false</span><span class="p">),</span> <span class="s2">&quot;not&quot;</span><span class="p">,</span> <span class="nx">selector</span><span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">winnow</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">true</span><span class="p">),</span> <span class="s2">&quot;filter&quot;</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">is</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">!!</span><span class="nx">selector</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
			<span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-540">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-540">&#182;</a>               </div>               <p>If this is a positional/relative selector, check membership in the returned set
so $("p:first").is("p:last") won't return true for a doc with two "p".</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">rneedsContext</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="o">?</span>
					<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="p">).</span><span class="nx">index</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">:</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="k">this</span> <span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">:</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">closest</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selectors</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">cur</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">pos</span> <span class="o">=</span> <span class="nx">rneedsContext</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">selectors</span> <span class="p">)</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">selectors</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">selectors</span><span class="p">,</span> <span class="nx">context</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="p">)</span> <span class="o">:</span>
				<span class="mi">0</span><span class="p">;</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

			<span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span> <span class="o">!==</span> <span class="nx">context</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">pos</span> <span class="o">?</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">cur</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="p">(</span><span class="nx">cur</span><span class="p">,</span> <span class="nx">selectors</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">);</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">ret</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="s2">&quot;closest&quot;</span><span class="p">,</span> <span class="nx">selectors</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-541">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-541">&#182;</a>               </div>               <p>Determine the position of an element within
the matched set of elements</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">index</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-542">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-542">&#182;</a>               </div>               <p>No argument, return index in parent</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevAll</span><span class="p">().</span><span class="nx">length</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-543">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-543">&#182;</a>               </div>               <p>index in selector</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-544">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-544">&#182;</a>               </div>               <p>Locate the position of the desired element</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span></pre></div>             </td>           </tr>                               <tr id="section-545">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-545">&#182;</a>               </div>               <p>If it receives a jQuery object, the first element is used</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">elem</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">add</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">set</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="o">:</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span> <span class="nx">selector</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">?</span> <span class="p">[</span> <span class="nx">selector</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">selector</span> <span class="p">),</span>
			<span class="nx">all</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(),</span> <span class="nx">set</span> <span class="p">);</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">isDisconnected</span><span class="p">(</span> <span class="nx">set</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">isDisconnected</span><span class="p">(</span> <span class="nx">all</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">?</span>
			<span class="nx">all</span> <span class="o">:</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span> <span class="nx">all</span> <span class="p">)</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">addBack</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">selector</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span>
		<span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">andSelf</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">addBack</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-546">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-546">&#182;</a>               </div>               <p>A painfully simple check to see if an element is disconnected
from a document (should be improved, where feasible).</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">isDisconnected</span><span class="p">(</span> <span class="nx">node</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="o">!</span><span class="nx">node</span> <span class="o">||</span> <span class="o">!</span><span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">||</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">sibling</span><span class="p">(</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">dir</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">do</span> <span class="p">{</span>
		<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">[</span> <span class="nx">dir</span> <span class="p">];</span>
	<span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="p">);</span>

	<span class="k">return</span> <span class="nx">cur</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span>
	<span class="nx">parent</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">parent</span> <span class="o">&amp;&amp;</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">11</span> <span class="o">?</span> <span class="nx">parent</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">parents</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;parentNode&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">parentsUntil</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">until</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;parentNode&quot;</span><span class="p">,</span> <span class="nx">until</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">next</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">sibling</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;nextSibling&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">prev</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">sibling</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;previousSibling&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">nextAll</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;nextSibling&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">prevAll</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;previousSibling&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">nextUntil</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">until</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;nextSibling&quot;</span><span class="p">,</span> <span class="nx">until</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">prevUntil</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">until</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;previousSibling&quot;</span><span class="p">,</span> <span class="nx">until</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">siblings</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">sibling</span><span class="p">(</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">||</span> <span class="p">{}</span> <span class="p">).</span><span class="nx">firstChild</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">children</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">sibling</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">contents</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;iframe&quot;</span> <span class="p">)</span> <span class="o">?</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">contentDocument</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nb">document</span> <span class="o">:</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="p">[],</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">childNodes</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">until</span><span class="p">,</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">until</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">runtil</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">selector</span> <span class="o">=</span> <span class="nx">until</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">selector</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">ret</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">ret</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">guaranteedUnique</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">rparentsprev</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">core_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">expr</span><span class="p">,</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">not</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">expr</span> <span class="o">=</span> <span class="s2">&quot;:not(&quot;</span> <span class="o">+</span> <span class="nx">expr</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">expr</span><span class="p">)</span> <span class="o">?</span> <span class="p">[</span> <span class="nx">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="o">:</span> <span class="p">[]</span> <span class="o">:</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">expr</span><span class="p">,</span> <span class="nx">elems</span><span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">dir</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">dir</span><span class="p">,</span> <span class="nx">until</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">matched</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">dir</span> <span class="p">];</span>

		<span class="k">while</span> <span class="p">(</span> <span class="nx">cur</span> <span class="o">&amp;&amp;</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">9</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">until</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">).</span><span class="nx">is</span><span class="p">(</span> <span class="nx">until</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">cur</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">matched</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">cur</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">cur</span> <span class="o">=</span> <span class="nx">cur</span><span class="p">[</span><span class="nx">dir</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">matched</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">sibling</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">[];</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">nextSibling</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">n</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">!==</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">n</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">r</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-547">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-547">&#182;</a>               </div>               <p>Implement the identical functionality for filter and not</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">winnow</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">qualifier</span><span class="p">,</span> <span class="nx">keep</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-548">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-548">&#182;</a>               </div>               <p>Can't pass null or undefined to indexOf in Firefox 4
Set to 0 to skip string check</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">qualifier</span> <span class="o">=</span> <span class="nx">qualifier</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">qualifier</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">retVal</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">qualifier</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">retVal</span> <span class="o">===</span> <span class="nx">keep</span><span class="p">;</span>
		<span class="p">});</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">qualifier</span><span class="p">.</span><span class="nx">nodeType</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">qualifier</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">keep</span><span class="p">;</span>
		<span class="p">});</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">qualifier</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">filtered</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>
		<span class="p">});</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">isSimple</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">qualifier</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">qualifier</span><span class="p">,</span> <span class="nx">filtered</span><span class="p">,</span> <span class="o">!</span><span class="nx">keep</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">qualifier</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">qualifier</span><span class="p">,</span> <span class="nx">filtered</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">qualifier</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">keep</span><span class="p">;</span>
	<span class="p">});</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">createSafeFragment</span><span class="p">(</span> <span class="nb">document</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">nodeNames</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&quot;|&quot;</span> <span class="p">),</span>
	<span class="nx">safeFrag</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">safeFrag</span><span class="p">.</span><span class="nx">createElement</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">while</span> <span class="p">(</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">safeFrag</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
				<span class="nx">list</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
			<span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">safeFrag</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">nodeNames</span> <span class="o">=</span> <span class="s2">&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|&quot;</span> <span class="o">+</span>
		<span class="s2">&quot;header|hgroup|mark|meter|nav|output|progress|section|summary|time|video&quot;</span><span class="p">,</span>
	<span class="nx">rinlinejQuery</span> <span class="o">=</span> <span class="sr">/ jQuery\d+=&quot;(?:null|\d+)&quot;/g</span><span class="p">,</span>
	<span class="nx">rleadingWhitespace</span> <span class="o">=</span> <span class="sr">/^\s+/</span><span class="p">,</span>
	<span class="nx">rxhtmlTag</span> <span class="o">=</span> <span class="sr">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/gi</span><span class="p">,</span>
	<span class="nx">rtagName</span> <span class="o">=</span> <span class="sr">/&lt;([\w:]+)/</span><span class="p">,</span>
	<span class="nx">rtbody</span> <span class="o">=</span> <span class="sr">/&lt;tbody/i</span><span class="p">,</span>
	<span class="nx">rhtml</span> <span class="o">=</span> <span class="sr">/&lt;|&amp;#?\w+;/</span><span class="p">,</span>
	<span class="nx">rnoInnerhtml</span> <span class="o">=</span> <span class="sr">/&lt;(?:script|style|link)/i</span><span class="p">,</span>
	<span class="nx">rnocache</span> <span class="o">=</span> <span class="sr">/&lt;(?:script|object|embed|option|style)/i</span><span class="p">,</span>
	<span class="nx">rnoshimcache</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;&lt;(?:&quot;</span> <span class="o">+</span> <span class="nx">nodeNames</span> <span class="o">+</span> <span class="s2">&quot;)[\\s/&gt;]&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">),</span>
	<span class="nx">rcheckableType</span> <span class="o">=</span> <span class="sr">/^(?:checkbox|radio)$/</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-549">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-549">&#182;</a>               </div>               <p>checked="checked" or checked</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rchecked</span> <span class="o">=</span> <span class="sr">/checked\s*(?:[^=]|=\s*.checked.)/i</span><span class="p">,</span>
	<span class="nx">rscriptType</span> <span class="o">=</span> <span class="sr">/\/(java|ecma)script/i</span><span class="p">,</span>
	<span class="nx">rcleanScript</span> <span class="o">=</span> <span class="sr">/^\s*&lt;!(?:\[CDATA\[|\-\-)|[\]\-]{2}&gt;\s*$/g</span><span class="p">,</span>
	<span class="nx">wrapMap</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">option</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;&lt;select multiple=&#39;multiple&#39;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/select&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">legend</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;&lt;fieldset&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/fieldset&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">thead</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;&lt;table&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/table&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">tr</span><span class="o">:</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">td</span><span class="o">:</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">col</span><span class="o">:</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">area</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;&lt;map&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/map&gt;&quot;</span> <span class="p">],</span>
		<span class="nx">_default</span><span class="o">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">]</span>
	<span class="p">},</span>
	<span class="nx">safeFragment</span> <span class="o">=</span> <span class="nx">createSafeFragment</span><span class="p">(</span> <span class="nb">document</span> <span class="p">),</span>
	<span class="nx">fragmentDiv</span> <span class="o">=</span> <span class="nx">safeFragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span> <span class="p">);</span>

<span class="nx">wrapMap</span><span class="p">.</span><span class="nx">optgroup</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">option</span><span class="p">;</span>
<span class="nx">wrapMap</span><span class="p">.</span><span class="nx">tbody</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">tfoot</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">colgroup</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">caption</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">thead</span><span class="p">;</span>
<span class="nx">wrapMap</span><span class="p">.</span><span class="nx">th</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">td</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-550">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-550">&#182;</a>               </div>               <p>IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,
unless wrapped in a div with non-breaking characters in front of it.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">htmlSerialize</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">wrapMap</span><span class="p">.</span><span class="nx">_default</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;X&lt;div&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;/div&gt;&quot;</span> <span class="p">];</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">text</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">?</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="o">:</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">empty</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">createTextNode</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">);</span>
		<span class="p">},</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">wrapAll</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">html</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">html</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">wrapAll</span><span class="p">(</span> <span class="nx">html</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-551">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-551">&#182;</a>               </div>               <p>The elements to wrap the target around</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="kd">var</span> <span class="nx">wrap</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">html</span><span class="p">,</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span> <span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">wrap</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="nx">wrap</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

				<span class="k">while</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">elem</span><span class="p">;</span>
			<span class="p">}).</span><span class="nx">append</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">wrapInner</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">html</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">html</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">wrapInner</span><span class="p">(</span> <span class="nx">html</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">),</span>
				<span class="nx">contents</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">contents</span><span class="p">();</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">contents</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">contents</span><span class="p">.</span><span class="nx">wrapAll</span><span class="p">(</span> <span class="nx">html</span> <span class="p">);</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">self</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">html</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">wrap</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">html</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">isFunction</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">html</span> <span class="p">);</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">wrapAll</span><span class="p">(</span> <span class="nx">isFunction</span> <span class="o">?</span> <span class="nx">html</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">:</span> <span class="nx">html</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">unwrap</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s2">&quot;body&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">childNodes</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}).</span><span class="nx">end</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="nx">append</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">prepend</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">before</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isDisconnected</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">set</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="nx">set</span><span class="p">,</span> <span class="k">this</span> <span class="p">),</span> <span class="s2">&quot;before&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">after</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isDisconnected</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextSibling</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">set</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">set</span> <span class="p">),</span> <span class="s2">&quot;after&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-552">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-552">&#182;</a>               </div>               <p>keepData is for internal use only--do not document</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">remove</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">keepData</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">selector</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">]</span> <span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">keepData</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span> <span class="p">);</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span> <span class="p">[</span> <span class="nx">elem</span> <span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">empty</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-553">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-553">&#182;</a>               </div>               <p>Remove element nodes and prevent memory leaks</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-554">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-554">&#182;</a>               </div>               <p>Remove any remaining nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">while</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">clone</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">dataAndEvents</span><span class="p">,</span> <span class="nx">deepDataAndEvents</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dataAndEvents</span> <span class="o">=</span> <span class="nx">dataAndEvents</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="nx">dataAndEvents</span><span class="p">;</span>
		<span class="nx">deepDataAndEvents</span> <span class="o">=</span> <span class="nx">deepDataAndEvents</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">dataAndEvents</span> <span class="o">:</span> <span class="nx">deepDataAndEvents</span><span class="p">;</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">dataAndEvents</span><span class="p">,</span> <span class="nx">deepDataAndEvents</span> <span class="p">);</span>
		<span class="p">});</span>
	<span class="p">},</span>

	<span class="nx">html</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="p">{},</span>
				<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span>
					<span class="nx">elem</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rinlinejQuery</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">:</span>
					<span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-555">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-555">&#182;</a>               </div>               <p>See if we can take a shortcut and just use innerHTML</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">rnoInnerhtml</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">htmlSerialize</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rnoshimcache</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span>  <span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">leadingWhitespace</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rleadingWhitespace</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="o">!</span><span class="nx">wrapMap</span><span class="p">[</span> <span class="p">(</span> <span class="nx">rtagName</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>

				<span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rxhtmlTag</span><span class="p">,</span> <span class="s2">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span> <span class="p">);</span>

				<span class="k">try</span> <span class="p">{</span>
					<span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-556">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-556">&#182;</a>               </div>               <p>Remove element nodes and prevent memory leaks</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">||</span> <span class="p">{};</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="s2">&quot;*&quot;</span> <span class="p">)</span> <span class="p">);</span>
							<span class="nx">elem</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span>

					<span class="nx">elem</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-557">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-557">&#182;</a>               </div>               <p>If using innerHTML throws an exception, use the fallback method</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">empty</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">},</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">replaceWith</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isDisconnected</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-558">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-558">&#182;</a>               </div>               <p>Make sure that the elements are removed from the DOM before they are inserted
this can help fix replacing a parent with child elements</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">),</span> <span class="nx">old</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">html</span><span class="p">();</span>
					<span class="nx">self</span><span class="p">.</span><span class="nx">replaceWith</span><span class="p">(</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">old</span> <span class="p">)</span> <span class="p">);</span>
				<span class="p">});</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">value</span> <span class="p">).</span><span class="nx">detach</span><span class="p">();</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">,</span>
					<span class="nx">parent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>

				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">next</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">(</span><span class="nx">next</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">(</span><span class="nx">parent</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">?</span> <span class="nx">value</span><span class="p">()</span> <span class="o">:</span> <span class="nx">value</span><span class="p">),</span> <span class="s2">&quot;replaceWith&quot;</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">detach</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">domManip</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">table</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-559">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-559">&#182;</a>               </div>               <p>Flatten any nested arrays</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">args</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">concat</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="p">[],</span> <span class="nx">args</span> <span class="p">);</span>

		<span class="kd">var</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">first</span><span class="p">,</span> <span class="nx">fragment</span><span class="p">,</span> <span class="nx">iNoClone</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">value</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
			<span class="nx">scripts</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-560">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-560">&#182;</a>               </div>               <p>We can't cloneNode fragments that contain checked, in WebKit</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkClone</span> <span class="o">&amp;&amp;</span> <span class="nx">l</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">rchecked</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">domManip</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">table</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
				<span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">table</span> <span class="o">?</span> <span class="nx">self</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span> <span class="o">:</span> <span class="kc">undefined</span> <span class="p">);</span>
				<span class="nx">self</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">table</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">results</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">buildFragment</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">scripts</span> <span class="p">);</span>
			<span class="nx">fragment</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">fragment</span><span class="p">;</span>
			<span class="nx">first</span> <span class="o">=</span> <span class="nx">fragment</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">fragment</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">fragment</span> <span class="o">=</span> <span class="nx">first</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">first</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">table</span> <span class="o">=</span> <span class="nx">table</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">first</span><span class="p">,</span> <span class="s2">&quot;tr&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-561">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-561">&#182;</a>               </div>               <p>Use the original fragment for the last item instead of the first because it can end up
being emptied incorrectly in certain situations (#8070).
Fragments from the fragment cache must always be cloned and never used in place.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">for</span> <span class="p">(</span> <span class="nx">iNoClone</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">cacheable</span> <span class="o">||</span> <span class="nx">l</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span>
						<span class="nx">table</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;table&quot;</span> <span class="p">)</span> <span class="o">?</span>
							<span class="nx">findOrAppend</span><span class="p">(</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="s2">&quot;tbody&quot;</span> <span class="p">)</span> <span class="o">:</span>
							<span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
						<span class="nx">i</span> <span class="o">===</span> <span class="nx">iNoClone</span> <span class="o">?</span>
							<span class="nx">fragment</span> <span class="o">:</span>
							<span class="nx">jQuery</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span> <span class="nx">fragment</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">true</span> <span class="p">)</span>
					<span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-562">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-562">&#182;</a>               </div>               <p>Fix #11809: Avoid leaking memory</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fragment</span> <span class="o">=</span> <span class="nx">first</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">scripts</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">scripts</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">src</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
								<span class="nx">url</span><span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span>
								<span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
								<span class="nx">dataType</span><span class="o">:</span> <span class="s2">&quot;script&quot;</span><span class="p">,</span>
								<span class="nx">async</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
								<span class="nx">global</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
								<span class="s2">&quot;throws&quot;</span><span class="o">:</span> <span class="kc">true</span>
							<span class="p">});</span>
						<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
							<span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;no ajax&quot;</span><span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">globalEval</span><span class="p">(</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">text</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rcleanScript</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">);</span>
					<span class="p">}</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">findOrAppend</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">tag</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="nx">tag</span> <span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="nx">tag</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">cloneCopyEvent</span><span class="p">(</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">dest</span> <span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">hasData</span><span class="p">(</span> <span class="nx">src</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kd">var</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span>
		<span class="nx">oldData</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">src</span> <span class="p">),</span>
		<span class="nx">curData</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">dest</span><span class="p">,</span> <span class="nx">oldData</span> <span class="p">),</span>
		<span class="nx">events</span> <span class="o">=</span> <span class="nx">oldData</span><span class="p">.</span><span class="nx">events</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">delete</span> <span class="nx">curData</span><span class="p">.</span><span class="nx">handle</span><span class="p">;</span>
		<span class="nx">curData</span><span class="p">.</span><span class="nx">events</span> <span class="o">=</span> <span class="p">{};</span>

		<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">].</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">dest</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">events</span><span class="p">[</span> <span class="nx">type</span> <span class="p">][</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-563">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-563">&#182;</a>               </div>               <p>make the cloned public data object a copy from the original</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">curData</span><span class="p">.</span><span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">curData</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">curData</span><span class="p">.</span><span class="nx">data</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">cloneFixAttributes</span><span class="p">(</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">dest</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">nodeName</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-564">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-564">&#182;</a>               </div>               <p>We do not need to do anything for non-Elements</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">!==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-565">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-565">&#182;</a>               </div>               <p>clearAttributes removes the attributes, which we don't want,
but also removes the attachEvent events, which we <em>do</em> want</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">clearAttributes</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dest</span><span class="p">.</span><span class="nx">clearAttributes</span><span class="p">();</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-566">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-566">&#182;</a>               </div>               <p>mergeAttributes, in contrast, only merges back on the
original attributes, not the events</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">mergeAttributes</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dest</span><span class="p">.</span><span class="nx">mergeAttributes</span><span class="p">(</span> <span class="nx">src</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">nodeName</span> <span class="o">=</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-567">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-567">&#182;</a>               </div>               <p>IE6-10 improperly clones children of object elements using classid.
IE10 throws NoModificationAllowedError if parent is null, #12132.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">dest</span><span class="p">.</span><span class="nx">outerHTML</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">outerHTML</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-568">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-568">&#182;</a>               </div>               <p>This path appears unavoidable for IE9. When cloning an object
element in IE9, the outerHTML strategy above is not sufficient.
If the src has innerHTML and the destination does not,
copy the src.innerHTML into the dest.innerHTML. #10324</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">html5Clone</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">src</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">dest</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">dest</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
		<span class="p">}</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">rcheckableType</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">src</span><span class="p">.</span><span class="nx">type</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-569">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-569">&#182;</a>               </div>               <p>IE6-8 fails to persist the checked state of a cloned checkbox
or radio button. Worse, IE6-7 fail to give the cloned element
a checked appearance if the defaultChecked value isn't also set</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">dest</span><span class="p">.</span><span class="nx">defaultChecked</span> <span class="o">=</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-570">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-570">&#182;</a>               </div>               <p>IE6-7 get confused and end up setting the value of a cloned
checkbox/radio button to an empty string instead of "on"</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">value</span> <span class="o">!==</span> <span class="nx">src</span><span class="p">.</span><span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">dest</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-571">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-571">&#182;</a>               </div>               <p>IE6-8 fails to return the selected option to the default selected
state when cloning options</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;option&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dest</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">defaultSelected</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-572">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-572">&#182;</a>               </div>               <p>IE6-8 fails to set the defaultValue to the correct value when
cloning other types of input fields</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;input&quot;</span> <span class="o">||</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;textarea&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dest</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-573">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-573">&#182;</a>               </div>               <p>IE blanks contents when cloning scripts</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">nodeName</span> <span class="o">===</span> <span class="s2">&quot;script&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">text</span> <span class="o">!==</span> <span class="nx">src</span><span class="p">.</span><span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dest</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">src</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-574">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-574">&#182;</a>               </div>               <p>Event data gets referenced instead of copied if the expando
gets copied too</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">dest</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="p">);</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">buildFragment</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">scripts</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">fragment</span><span class="p">,</span> <span class="nx">cacheable</span><span class="p">,</span> <span class="nx">cachehit</span><span class="p">,</span>
		<span class="nx">first</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-575">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-575">&#182;</a>               </div>               <p>Set context from what may come in as undefined or a jQuery collection or a node</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span>
	<span class="nx">context</span> <span class="o">=</span> <span class="p">(</span><span class="nx">context</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">context</span><span class="p">).</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nx">context</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nx">context</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-576">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-576">&#182;</a>               </div>               <p>Ensure that an attr object doesn't incorrectly stand in as a document object
Chrome and Firefox seem to allow this to occur and will throw exception
Fixes #8950</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createDocumentFragment</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-577">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-577">&#182;</a>               </div>               <p>Only cache "small" (1/2 KB) HTML strings that are associated with the main document
Cloning options loses the selected state, so don't cache them
IE 6 doesn't like it when you put <object> or <embed> elements in a fragment
Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache
Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">first</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">first</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">512</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span> <span class="o">===</span> <span class="nb">document</span> <span class="o">&amp;&amp;</span>
		<span class="nx">first</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">rnocache</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">first</span> <span class="p">)</span> <span class="o">&amp;&amp;</span>
		<span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkClone</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rchecked</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">first</span> <span class="p">))</span> <span class="o">&amp;&amp;</span>
		<span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">html5Clone</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rnoshimcache</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">first</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-578">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-578">&#182;</a>               </div>               <p>Mark cacheable and look for a hit</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">cacheable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="nx">fragment</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fragments</span><span class="p">[</span> <span class="nx">first</span> <span class="p">];</span>
		<span class="nx">cachehit</span> <span class="o">=</span> <span class="nx">fragment</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">fragment</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">fragment</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">fragment</span><span class="p">,</span> <span class="nx">scripts</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-579">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-579">&#182;</a>               </div>               <p>Update the cache, but only store false
unless this is a second parsing of the same content</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">cacheable</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fragments</span><span class="p">[</span> <span class="nx">first</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">cachehit</span> <span class="o">&amp;&amp;</span> <span class="nx">fragment</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="p">{</span> <span class="nx">fragment</span><span class="o">:</span> <span class="nx">fragment</span><span class="p">,</span> <span class="nx">cacheable</span><span class="o">:</span> <span class="nx">cacheable</span> <span class="p">};</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fragments</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span>
	<span class="nx">appendTo</span><span class="o">:</span> <span class="s2">&quot;append&quot;</span><span class="p">,</span>
	<span class="nx">prependTo</span><span class="o">:</span> <span class="s2">&quot;prepend&quot;</span><span class="p">,</span>
	<span class="nx">insertBefore</span><span class="o">:</span> <span class="s2">&quot;before&quot;</span><span class="p">,</span>
	<span class="nx">insertAfter</span><span class="o">:</span> <span class="s2">&quot;after&quot;</span><span class="p">,</span>
	<span class="nx">replaceAll</span><span class="o">:</span> <span class="s2">&quot;replaceWith&quot;</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">original</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elems</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
			<span class="nx">insert</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">),</span>
			<span class="nx">l</span> <span class="o">=</span> <span class="nx">insert</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
			<span class="nx">parent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">parent</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">parent</span> <span class="o">&amp;&amp;</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span> <span class="o">&amp;&amp;</span> <span class="nx">parent</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">l</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">insert</span><span class="p">[</span> <span class="nx">original</span> <span class="p">](</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elems</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="o">:</span> <span class="k">this</span> <span class="p">).</span><span class="nx">get</span><span class="p">();</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">insert</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)[</span> <span class="nx">original</span> <span class="p">](</span> <span class="nx">elems</span> <span class="p">);</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">elems</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">insert</span><span class="p">.</span><span class="nx">selector</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">getAll</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="s2">&quot;*&quot;</span> <span class="p">);</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">querySelectorAll</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span> <span class="s2">&quot;*&quot;</span> <span class="p">);</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">[];</span>
	<span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-580">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-580">&#182;</a>               </div>               <p>Used in clean, fixes the defaultChecked property</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">fixDefaultChecked</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">rcheckableType</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">elem</span><span class="p">.</span><span class="nx">defaultChecked</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">clone</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">dataAndEvents</span><span class="p">,</span> <span class="nx">deepDataAndEvents</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">srcElements</span><span class="p">,</span>
			<span class="nx">destElements</span><span class="p">,</span>
			<span class="nx">i</span><span class="p">,</span>
			<span class="nx">clone</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">html5Clone</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nx">rnoshimcache</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">+</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">+</span> <span class="s2">&quot;&gt;&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">clone</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span> <span class="kc">true</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-581">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-581">&#182;</a>               </div>               <p>IE&lt;=8 does not properly clone detached, unknown element nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">fragmentDiv</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">outerHTML</span><span class="p">;</span>
			<span class="nx">fragmentDiv</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nx">fragmentDiv</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">noCloneEvent</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">noCloneChecked</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">11</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-582">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-582">&#182;</a>               </div>               <p>IE copies events bound via attachEvent when using cloneNode.
Calling detachEvent on the clone will also remove the events
from the original. In order to get around this, we use some
proprietary methods to clear the events. Thanks to MooTools
guys for this hotness.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">cloneFixAttributes</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">clone</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-583">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-583">&#182;</a>               </div>               <p>Using Sizzle here is crazy slow, so we use getElementsByTagName instead</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">srcElements</span> <span class="o">=</span> <span class="nx">getAll</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="nx">destElements</span> <span class="o">=</span> <span class="nx">getAll</span><span class="p">(</span> <span class="nx">clone</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-584">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-584">&#182;</a>               </div>               <p>Weird iteration because IE will replace the length property
with an element if you are cloning the body and one of the
elements on the page has a name or id of "length"</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">srcElements</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="o">++</span><span class="nx">i</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-585">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-585">&#182;</a>               </div>               <p>Ensure that the destination node is not null; Fixes #9587</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">destElements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">cloneFixAttributes</span><span class="p">(</span> <span class="nx">srcElements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">destElements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-586">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-586">&#182;</a>               </div>               <p>Copy the events from the original to the clone</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">dataAndEvents</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">cloneCopyEvent</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">clone</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">deepDataAndEvents</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">srcElements</span> <span class="o">=</span> <span class="nx">getAll</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="nx">destElements</span> <span class="o">=</span> <span class="nx">getAll</span><span class="p">(</span> <span class="nx">clone</span> <span class="p">);</span>

				<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">srcElements</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="o">++</span><span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">cloneCopyEvent</span><span class="p">(</span> <span class="nx">srcElements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">destElements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">srcElements</span> <span class="o">=</span> <span class="nx">destElements</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-587">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-587">&#182;</a>               </div>               <p>Return the cloned set</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">clean</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">fragment</span><span class="p">,</span> <span class="nx">scripts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">safe</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">wrap</span><span class="p">,</span> <span class="nx">depth</span><span class="p">,</span> <span class="nx">div</span><span class="p">,</span> <span class="nx">hasBody</span><span class="p">,</span> <span class="nx">tbody</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">handleScript</span><span class="p">,</span> <span class="nx">jsTags</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="p">[];</span></pre></div>             </td>           </tr>                               <tr id="section-588">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-588">&#182;</a>               </div>               <p>Ensure that context is a document</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">context</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createDocumentFragment</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-589">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-589">&#182;</a>               </div>               <p>Use the already-created safe fragment if context permits</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">safe</span> <span class="o">=</span> <span class="nx">context</span> <span class="o">===</span> <span class="nb">document</span> <span class="o">&amp;&amp;</span> <span class="nx">safeFragment</span><span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span> <span class="o">+=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-590">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-590">&#182;</a>               </div>               <p>Convert html string into DOM nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">rhtml</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">elem</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-591">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-591">&#182;</a>               </div>               <p>Ensure a safe container in which to render the html</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">safe</span> <span class="o">=</span> <span class="nx">safe</span> <span class="o">||</span> <span class="nx">createSafeFragment</span><span class="p">(</span> <span class="nx">context</span> <span class="p">);</span>
					<span class="nx">div</span> <span class="o">=</span> <span class="nx">div</span> <span class="o">||</span> <span class="nx">safe</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-592">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-592">&#182;</a>               </div>               <p>Fix "XHTML"-style tags in all browsers</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rxhtmlTag</span><span class="p">,</span> <span class="s2">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-593">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-593">&#182;</a>               </div>               <p>Go to html and back, then peel off extra wrappers</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">tag</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">rtagName</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">();</span>
					<span class="nx">wrap</span> <span class="o">=</span> <span class="nx">wrapMap</span><span class="p">[</span> <span class="nx">tag</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">wrapMap</span><span class="p">.</span><span class="nx">_default</span><span class="p">;</span>
					<span class="nx">depth</span> <span class="o">=</span> <span class="nx">wrap</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
					<span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">wrap</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">elem</span> <span class="o">+</span> <span class="nx">wrap</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-594">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-594">&#182;</a>               </div>               <p>Move to the right depth</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">while</span> <span class="p">(</span> <span class="nx">depth</span><span class="o">--</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">div</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">;</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-595">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-595">&#182;</a>               </div>               <p>Remove IE's autoinserted <tbody> from table fragments</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">tbody</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-596">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-596">&#182;</a>               </div>               <p>String was a <table>, <em>may</em> have spurious <tbody></p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">hasBody</span> <span class="o">=</span> <span class="nx">rtbody</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
							<span class="nx">tbody</span> <span class="o">=</span> <span class="nx">tag</span> <span class="o">===</span> <span class="s2">&quot;table&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">hasBody</span> <span class="o">?</span>
								<span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span> <span class="o">&amp;&amp;</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">childNodes</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-597">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-597">&#182;</a>               </div>               <p>String was a bare <thead> or <tfoot></p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="nx">wrap</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;&lt;table&gt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">hasBody</span> <span class="o">?</span>
									<span class="nx">div</span><span class="p">.</span><span class="nx">childNodes</span> <span class="o">:</span>
									<span class="p">[];</span>

						<span class="k">for</span> <span class="p">(</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">tbody</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">;</span> <span class="o">--</span><span class="nx">j</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">tbody</span><span class="p">[</span> <span class="nx">j</span> <span class="p">],</span> <span class="s2">&quot;tbody&quot;</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">tbody</span><span class="p">[</span> <span class="nx">j</span> <span class="p">].</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">tbody</span><span class="p">[</span> <span class="nx">j</span> <span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">tbody</span><span class="p">[</span> <span class="nx">j</span> <span class="p">]</span> <span class="p">);</span>
							<span class="p">}</span>
						<span class="p">}</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-598">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-598">&#182;</a>               </div>               <p>IE completely kills leading whitespace when innerHTML is used</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">leadingWhitespace</span> <span class="o">&amp;&amp;</span> <span class="nx">rleadingWhitespace</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">div</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">context</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span> <span class="nx">rleadingWhitespace</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">elem</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="p">),</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
					<span class="p">}</span>

					<span class="nx">elem</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-599">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-599">&#182;</a>               </div>               <p>Remember the top-level container for proper cleanup</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">div</span> <span class="o">=</span> <span class="nx">safe</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-600">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-600">&#182;</a>               </div>               <p>Fix #11356: Clear elements from safeFragment</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">div</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">safe</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">div</span> <span class="p">);</span>
			<span class="nx">elem</span> <span class="o">=</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">safe</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-601">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-601">&#182;</a>               </div>               <p>Reset defaultChecked for any radios and checkboxes
about to be appended to the DOM in IE 6/7 (#8060)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">appendChecked</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;input&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">fixDefaultChecked</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">),</span> <span class="nx">fixDefaultChecked</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-602">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-602">&#182;</a>               </div>               <p>Append elements to a provided document fragment</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">fragment</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-603">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-603">&#182;</a>               </div>               <p>Special handling of each script element</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">handleScript</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-604">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-604">&#182;</a>               </div>               <p>Check if we consider it executable</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">rscriptType</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">type</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-605">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-605">&#182;</a>               </div>               <p>Detach the script and store it in the scripts array (if provided) or the fragment
Return truthy to indicate that it has been handled</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">return</span> <span class="nx">scripts</span> <span class="o">?</span>
						<span class="nx">scripts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">:</span>
						<span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">};</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-606">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-606">&#182;</a>               </div>               <p>Check if we're done after handling an executable script</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;script&quot;</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">handleScript</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-607">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-607">&#182;</a>               </div>               <p>Append to fragment and handle embedded scripts</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
					<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-608">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-608">&#182;</a>               </div>               <p>handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">jsTags</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span> <span class="p">[],</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)</span> <span class="p">),</span> <span class="nx">handleScript</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-609">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-609">&#182;</a>               </div>               <p>Splice the scripts into ret after their former ancestor and advance our index beyond them</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">ret</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">ret</span><span class="p">,</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">jsTags</span> <span class="p">)</span> <span class="p">);</span>
						<span class="nx">i</span> <span class="o">+=</span> <span class="nx">jsTags</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">cleanData</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elems</span><span class="p">,</span> <span class="cm">/* internal */</span> <span class="nx">acceptData</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">internalKey</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span><span class="p">,</span>
			<span class="nx">cache</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cache</span><span class="p">,</span>
			<span class="nx">deleteExpando</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span><span class="p">,</span>
			<span class="nx">special</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">;</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">acceptData</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>

				<span class="nx">id</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">];</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">];</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span><span class="p">.</span><span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">data</span><span class="p">.</span><span class="nx">events</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">special</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-610">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-610">&#182;</a>               </div>               <p>This is a shortcut to avoid jQuery.event.remove's overhead</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
								<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeEvent</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">handle</span> <span class="p">);</span>
							<span class="p">}</span>
						<span class="p">}</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-611">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-611">&#182;</a>               </div>               <p>Remove cache only if it was not already removed by jQuery.event.remove</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>

						<span class="k">delete</span> <span class="nx">cache</span><span class="p">[</span> <span class="nx">id</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-612">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-612">&#182;</a>               </div>               <p>IE does not allow us to delete expando properties from nodes,
nor does it have a removeAttribute function on Document nodes;
we must handle all of these cases</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">deleteExpando</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">delete</span> <span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">];</span>

						<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">removeAttribute</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">elem</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span> <span class="nx">internalKey</span> <span class="p">);</span>

						<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
							<span class="nx">elem</span><span class="p">[</span> <span class="nx">internalKey</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
						<span class="p">}</span>

						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">deletedIds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">id</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-613">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-613">&#182;</a>               </div>               <p>Limit scope pollution from any deprecated API</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nx">matched</span><span class="p">,</span> <span class="nx">browser</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-614">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-614">&#182;</a>               </div>               <p>Use of jQuery.browser is frowned upon.
More details: http://api.jquery.com/jQuery.browser
jQuery.uaMatch maintained for back-compat</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">uaMatch</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">ua</span> <span class="o">=</span> <span class="nx">ua</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>

	<span class="kd">var</span> <span class="nx">match</span> <span class="o">=</span> <span class="sr">/(chrome)[ \/]([\w.]+)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="o">||</span>
		<span class="sr">/(webkit)[ \/]([\w.]+)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="o">||</span>
		<span class="sr">/(opera)(?:.*version|)[ \/]([\w.]+)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="o">||</span>
		<span class="sr">/(msie) ([\w.]+)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="o">||</span>
		<span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;compatible&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="sr">/(mozilla)(?:.*? rv:([\w.]+)|)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ua</span> <span class="p">)</span> <span class="o">||</span>
		<span class="p">[];</span>

	<span class="k">return</span> <span class="p">{</span>
		<span class="nx">browser</span><span class="o">:</span> <span class="nx">match</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
		<span class="nx">version</span><span class="o">:</span> <span class="nx">match</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;0&quot;</span>
	<span class="p">};</span>
<span class="p">};</span>

<span class="nx">matched</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">uaMatch</span><span class="p">(</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span> <span class="p">);</span>
<span class="nx">browser</span> <span class="o">=</span> <span class="p">{};</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">browser</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">browser</span><span class="p">[</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">browser</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="nx">browser</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="nx">matched</span><span class="p">.</span><span class="nx">version</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-615">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-615">&#182;</a>               </div>               <p>Deprecated, use jQuery.browser.webkit instead
Maintained for back-compat only</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">webkit</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">browser</span><span class="p">.</span><span class="nx">safari</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">browser</span> <span class="o">=</span> <span class="nx">browser</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">sub</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">function</span> <span class="nx">jQuerySub</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">);</span>
	<span class="p">}</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">jQuerySub</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">superclass</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">this</span><span class="p">();</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">;</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">sub</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sub</span><span class="p">;</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">init</span><span class="p">(</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">context</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuerySub</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">context</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">(</span> <span class="nx">context</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuerySub</span> <span class="p">);</span>
	<span class="p">};</span>
	<span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">rootjQuerySub</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>
	<span class="k">return</span> <span class="nx">jQuerySub</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">})();</span>
<span class="kd">var</span> <span class="nx">curCSS</span><span class="p">,</span> <span class="nx">iframe</span><span class="p">,</span> <span class="nx">iframeDoc</span><span class="p">,</span>
	<span class="nx">ralpha</span> <span class="o">=</span> <span class="sr">/alpha\([^)]*\)/i</span><span class="p">,</span>
	<span class="nx">ropacity</span> <span class="o">=</span> <span class="sr">/opacity=([^)]*)/</span><span class="p">,</span>
	<span class="nx">rposition</span> <span class="o">=</span> <span class="sr">/^(top|right|bottom|left)$/</span><span class="p">,</span>
	<span class="nx">rmargin</span> <span class="o">=</span> <span class="sr">/^margin/</span><span class="p">,</span>
	<span class="nx">rnumsplit</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^(&quot;</span> <span class="o">+</span> <span class="nx">core_pnum</span> <span class="o">+</span> <span class="s2">&quot;)(.*)$&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span>
	<span class="nx">rnumnonpx</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^(&quot;</span> <span class="o">+</span> <span class="nx">core_pnum</span> <span class="o">+</span> <span class="s2">&quot;)(?!px)[a-z%]+$&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span>
	<span class="nx">rrelNum</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^([-+])=(&quot;</span> <span class="o">+</span> <span class="nx">core_pnum</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span>
	<span class="nx">elemdisplay</span> <span class="o">=</span> <span class="p">{},</span>

	<span class="nx">cssShow</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">position</span><span class="o">:</span> <span class="s2">&quot;absolute&quot;</span><span class="p">,</span> <span class="nx">visibility</span><span class="o">:</span> <span class="s2">&quot;hidden&quot;</span><span class="p">,</span> <span class="nx">display</span><span class="o">:</span> <span class="s2">&quot;block&quot;</span> <span class="p">},</span>
	<span class="nx">cssNormalTransform</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">letterSpacing</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">fontWeight</span><span class="o">:</span> <span class="mi">400</span><span class="p">,</span>
		<span class="nx">lineHeight</span><span class="o">:</span> <span class="mi">1</span>
	<span class="p">},</span>

	<span class="nx">cssExpand</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;Top&quot;</span><span class="p">,</span> <span class="s2">&quot;Right&quot;</span><span class="p">,</span> <span class="s2">&quot;Bottom&quot;</span><span class="p">,</span> <span class="s2">&quot;Left&quot;</span> <span class="p">],</span>
	<span class="nx">cssPrefixes</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;Webkit&quot;</span><span class="p">,</span> <span class="s2">&quot;O&quot;</span><span class="p">,</span> <span class="s2">&quot;Moz&quot;</span><span class="p">,</span> <span class="s2">&quot;ms&quot;</span> <span class="p">],</span>

	<span class="nx">eventsToggle</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">toggle</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-616">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-616">&#182;</a>               </div>               <p>return a css property mapped to a potentially vendor prefixed property</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">vendorPropName</span><span class="p">(</span> <span class="nx">style</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-617">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-617">&#182;</a>               </div>               <p>shortcut for names that are not vendor prefixed</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">name</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-618">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-618">&#182;</a>               </div>               <p>check for vendor prefixed names</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">capName</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">name</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
		<span class="nx">origName</span> <span class="o">=</span> <span class="nx">name</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="nx">cssPrefixes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">name</span> <span class="o">=</span> <span class="nx">cssPrefixes</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">+</span> <span class="nx">capName</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">name</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">origName</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">isHidden</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">el</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">elem</span> <span class="o">=</span> <span class="nx">el</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">;</span>
	<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span> <span class="o">||</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">showHide</span><span class="p">(</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">show</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">display</span><span class="p">,</span>
		<span class="nx">values</span> <span class="o">=</span> <span class="p">[],</span>
		<span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">length</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">values</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;olddisplay&quot;</span> <span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">show</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-619">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-619">&#182;</a>               </div>               <p>Reset the inline display of this element to learn if it is
being hidden by cascaded rules or not</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">values</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-620">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-620">&#182;</a>               </div>               <p>Set elements which have been overridden with display: none
in a stylesheet to whatever the default browser style is
for such an element</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">isHidden</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">values</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;olddisplay&quot;</span><span class="p">,</span> <span class="nx">css_defaultDisplay</span><span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">display</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">values</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">display</span> <span class="o">!==</span> <span class="s2">&quot;none&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;olddisplay&quot;</span><span class="p">,</span> <span class="nx">display</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-621">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-621">&#182;</a>               </div>               <p>Set the display of most of the elements in a second loop
to avoid the constant reflow</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">elem</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">show</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="nx">show</span> <span class="o">?</span> <span class="nx">values</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">elements</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">css</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">?</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">:</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">},</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">showHide</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">showHide</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">toggle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">fn2</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">bool</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">state</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">state</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">fn2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">eventsToggle</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">bool</span> <span class="o">?</span> <span class="nx">state</span> <span class="o">:</span> <span class="nx">isHidden</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span></pre></div>             </td>           </tr>                               <tr id="section-622">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-622">&#182;</a>               </div>               <p>Add in style property hooks for overriding the default
behavior of getting and setting a style property</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">cssHooks</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">opacity</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-623">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-623">&#182;</a>               </div>               <p>We should always get a number back from opacity</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;opacity&quot;</span> <span class="p">);</span>
					<span class="k">return</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="o">?</span> <span class="s2">&quot;1&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>

				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-624">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-624">&#182;</a>               </div>               <p>Exclude the following css properties to add px</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">cssNumber</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;fillOpacity&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;fontWeight&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;lineHeight&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;opacity&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;orphans&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;widows&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;zIndex&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="s2">&quot;zoom&quot;</span><span class="o">:</span> <span class="kc">true</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-625">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-625">&#182;</a>               </div>               <p>Add in properties whose names you wish to fix before
setting or getting the value</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">cssProps</span><span class="o">:</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-626">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-626">&#182;</a>               </div>               <p>normalize float css property</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="s2">&quot;float&quot;</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cssFloat</span> <span class="o">?</span> <span class="s2">&quot;cssFloat&quot;</span> <span class="o">:</span> <span class="s2">&quot;styleFloat&quot;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-627">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-627">&#182;</a>               </div>               <p>Get and set the style property on a DOM Node</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">style</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-628">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-628">&#182;</a>               </div>               <p>Don't set styles on text and comment nodes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">elem</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">3</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">8</span> <span class="o">||</span> <span class="o">!</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-629">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-629">&#182;</a>               </div>               <p>Make sure that we're working with the right name</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">,</span>
			<span class="nx">origName</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span> <span class="p">),</span>
			<span class="nx">style</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span>

		<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">vendorPropName</span><span class="p">(</span> <span class="nx">style</span><span class="p">,</span> <span class="nx">origName</span> <span class="p">)</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-630">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-630">&#182;</a>               </div>               <p>gets hook for the prefixed version
followed by the unprefixed version</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-631">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-631">&#182;</a>               </div>               <p>Check if we're setting a value</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">value</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-632">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-632">&#182;</a>               </div>               <p>convert relative number strings (+= or -=) to relative numbers. #7345</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">rrelNum</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">value</span> <span class="p">))</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">*</span> <span class="nx">ret</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-633">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-633">&#182;</a>               </div>               <p>Fixes bug #9237</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;number&quot;</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-634">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-634">&#182;</a>               </div>               <p>Make sure that NaN and null values aren't set. See: #7116</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">isNaN</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-635">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-635">&#182;</a>               </div>               <p>If a number was passed in, add 'px' to the (except for certain CSS properties)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">value</span> <span class="o">+=</span> <span class="s2">&quot;px&quot;</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-636">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-636">&#182;</a>               </div>               <p>If a hook was provided, use that value, otherwise just set the specified value</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">hooks</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">hooks</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-637">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-637">&#182;</a>               </div>               <p>Wrapped to prevent IE from throwing errors when 'invalid' values are provided
Fixes bug #5509</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">try</span> <span class="p">{</span>
					<span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
				<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
			<span class="p">}</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-638">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-638">&#182;</a>               </div>               <p>If a hook was provided get the non-computed value from there</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">ret</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">))</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-639">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-639">&#182;</a>               </div>               <p>Otherwise just get the value from the style object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">css</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">numeric</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">val</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">,</span>
			<span class="nx">origName</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">name</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-640">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-640">&#182;</a>               </div>               <p>Make sure that we're working with the right name</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">vendorPropName</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span> <span class="nx">origName</span> <span class="p">)</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-641">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-641">&#182;</a>               </div>               <p>gets hook for the prefixed version
followed by the unprefixed version</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">origName</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-642">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-642">&#182;</a>               </div>               <p>If a hook was provided get the computed value from there</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">val</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-643">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-643">&#182;</a>               </div>               <p>Otherwise, if a way to get the computed value exists, use that</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">val</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-644">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-644">&#182;</a>               </div>               <p>convert "normal" to computed value</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">===</span> <span class="s2">&quot;normal&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">cssNormalTransform</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">val</span> <span class="o">=</span> <span class="nx">cssNormalTransform</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-645">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-645">&#182;</a>               </div>               <p>Return, converting to number if forced or a qualifier was provided and val looks numeric</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">numeric</span> <span class="o">||</span> <span class="nx">extra</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">num</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">val</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">numeric</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isNumeric</span><span class="p">(</span> <span class="nx">num</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">num</span> <span class="o">||</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">val</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-646">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-646">&#182;</a>               </div>               <p>A method for quickly swapping in/out CSS properties to get correct calculations</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">swap</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span>
			<span class="nx">old</span> <span class="o">=</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-647">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-647">&#182;</a>               </div>               <p>Remember the old values, and insert the new ones</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">old</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">options</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="nx">ret</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-648">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-648">&#182;</a>               </div>               <p>Revert the old values</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">old</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-649">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-649">&#182;</a>               </div>               <p>NOTE: To any future maintainer, we've used both window.getComputedStyle
and getComputedStyle here to produce a better gzip size</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">curCSS</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">minWidth</span><span class="p">,</span> <span class="nx">maxWidth</span><span class="p">,</span>
			<span class="nx">computed</span> <span class="o">=</span> <span class="nx">getComputedStyle</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="kc">null</span> <span class="p">),</span>
			<span class="nx">style</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>

			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-650">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-650">&#182;</a>               </div>               <p>A tribute to the "awesome hack by Dean Edwards"
Chrome &lt; 17 and Safari 5.0 uses "computed value" instead of "used value" for margin-right
Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">rnumnonpx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">rmargin</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">width</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
				<span class="nx">minWidth</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">minWidth</span><span class="p">;</span>
				<span class="nx">maxWidth</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">maxWidth</span><span class="p">;</span>

				<span class="nx">style</span><span class="p">.</span><span class="nx">minWidth</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">maxWidth</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">;</span>
				<span class="nx">ret</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>

				<span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span><span class="p">;</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">minWidth</span> <span class="o">=</span> <span class="nx">minWidth</span><span class="p">;</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">maxWidth</span> <span class="o">=</span> <span class="nx">maxWidth</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">currentStyle</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">curCSS</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">rsLeft</span><span class="p">,</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span>
			<span class="nx">style</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-651">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-651">&#182;</a>               </div>               <p>Avoid setting ret to empty string here
so we don't default to auto</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">style</span> <span class="o">&amp;&amp;</span> <span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-652">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-652">&#182;</a>               </div>               <p>From the awesome hack by Dean Edwards
http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-653">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-653">&#182;</a>               </div>               <p>If we're not dealing with a regular pixel number
but a number that has a weird ending, we need to convert it to pixels
but not position css attributes, as those are proportional to the parent element instead
and we can't measure the parent instead because it might trigger a "stacking dolls" problem</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">rnumnonpx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">rposition</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-654">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-654">&#182;</a>               </div>               <p>Remember the original values</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">left</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span>
			<span class="nx">rsLeft</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">runtimeStyle</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-655">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-655">&#182;</a>               </div>               <p>Put in the new values to get a computed value out</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">rsLeft</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;fontSize&quot;</span> <span class="o">?</span> <span class="s2">&quot;1em&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>
			<span class="nx">ret</span> <span class="o">=</span> <span class="nx">style</span><span class="p">.</span><span class="nx">pixelLeft</span> <span class="o">+</span> <span class="s2">&quot;px&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-656">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-656">&#182;</a>               </div>               <p>Revert the changed values</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">left</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">rsLeft</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">rsLeft</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">ret</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="o">?</span> <span class="s2">&quot;auto&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setPositiveNumber</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">subtract</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="nx">rnumsplit</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
	<span class="k">return</span> <span class="nx">matches</span> <span class="o">?</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">matches</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">subtract</span> <span class="o">||</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">matches</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;px&quot;</span> <span class="p">)</span> <span class="o">:</span>
			<span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">augmentWidthOrHeight</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">extra</span><span class="p">,</span> <span class="nx">isBorderBox</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">extra</span> <span class="o">===</span> <span class="p">(</span> <span class="nx">isBorderBox</span> <span class="o">?</span> <span class="s2">&quot;border&quot;</span> <span class="o">:</span> <span class="s2">&quot;content&quot;</span> <span class="p">)</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-657">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-657">&#182;</a>               </div>               <p>If we already have the right measurement, avoid augmentation</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="mi">4</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-658">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-658">&#182;</a>               </div>               <p>Otherwise initialize for horizontal or vertical properties</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;width&quot;</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>

		<span class="nx">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-659">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-659">&#182;</a>               </div>               <p>both box models exclude margin, so add it if we want it</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">extra</span> <span class="o">===</span> <span class="s2">&quot;margin&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-660">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-660">&#182;</a>               </div>               <p>we use jQuery.css instead of curCSS here
because of the reliableMarginRight CSS hook!</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">val</span> <span class="o">+=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">extra</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="kc">true</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-661">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-661">&#182;</a>               </div>               <p>From this point on we use curCSS for maximum performance (relevant in animations)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">isBorderBox</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-662">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-662">&#182;</a>               </div>               <p>border-box includes padding, so remove it if we want content</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">extra</span> <span class="o">===</span> <span class="s2">&quot;content&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">-=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;padding&quot;</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-663">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-663">&#182;</a>               </div>               <p>at this point, extra isn't border nor margin, so remove border</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">extra</span> <span class="o">!==</span> <span class="s2">&quot;margin&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">-=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;border&quot;</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;Width&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-664">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-664">&#182;</a>               </div>               <p>at this point, extra isn't content, so add padding</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">val</span> <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;padding&quot;</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-665">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-665">&#182;</a>               </div>               <p>at this point, extra isn't content nor padding, so add border</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">extra</span> <span class="o">!==</span> <span class="s2">&quot;padding&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">val</span> <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;border&quot;</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;Width&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getWidthOrHeight</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-666">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-666">&#182;</a>               </div>               <p>Start with offset property, which is equivalent to the border-box value</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;width&quot;</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">,</span>
		<span class="nx">valueIsBorderBox</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">isBorderBox</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxSizing</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;boxSizing&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;border-box&quot;</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-667">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-667">&#182;</a>               </div>               <p>Fall back to computed then uncomputed css if necessary</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">val</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span> <span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">val</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">val</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-668">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-668">&#182;</a>               </div>               <p>Computed unit is not pixels. Stop here and return.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">rnumnonpx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-669">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-669">&#182;</a>               </div>               <p>we need the check for style in case a browser which returns unreliable values
for getComputedStyle silently falls back to the reliable elem.style</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">valueIsBorderBox</span> <span class="o">=</span> <span class="nx">isBorderBox</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxSizingReliable</span> <span class="o">||</span> <span class="nx">val</span> <span class="o">===</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-670">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-670">&#182;</a>               </div>               <p>Normalize "", auto, and prepare for extra</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">val</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-671">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-671">&#182;</a>               </div>               <p>use the active box-sizing model to add/subtract irrelevant styles</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">+</span>
		<span class="nx">augmentWidthOrHeight</span><span class="p">(</span>
			<span class="nx">elem</span><span class="p">,</span>
			<span class="nx">name</span><span class="p">,</span>
			<span class="nx">extra</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">isBorderBox</span> <span class="o">?</span> <span class="s2">&quot;border&quot;</span> <span class="o">:</span> <span class="s2">&quot;content&quot;</span> <span class="p">),</span>
			<span class="nx">valueIsBorderBox</span>
		<span class="p">)</span>
	<span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;px&quot;</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-672">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-672">&#182;</a>               </div>               <p>Try to determine the default display value of an element</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">css_defaultDisplay</span><span class="p">(</span> <span class="nx">nodeName</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">elemdisplay</span><span class="p">[</span> <span class="nx">nodeName</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elemdisplay</span><span class="p">[</span> <span class="nx">nodeName</span> <span class="p">];</span>
	<span class="p">}</span>

	<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">+</span> <span class="nx">nodeName</span> <span class="o">+</span> <span class="s2">&quot;&gt;&quot;</span> <span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="p">),</span>
		<span class="nx">display</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;display&quot;</span><span class="p">);</span>
	<span class="nx">elem</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-673">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-673">&#182;</a>               </div>               <p>If the simple way fails,
get element's real default display by attaching it to a temp iframe</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span> <span class="o">||</span> <span class="nx">display</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-674">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-674">&#182;</a>               </div>               <p>Use the already-created iframe if possible</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">iframe</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span>
			<span class="nx">iframe</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;iframe&quot;</span><span class="p">),</span> <span class="p">{</span>
				<span class="nx">frameBorder</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">width</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">height</span><span class="o">:</span> <span class="mi">0</span>
			<span class="p">})</span>
		<span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-675">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-675">&#182;</a>               </div>               <p>Create a cacheable copy of the iframe document on first call.
IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML
document to it; WebKit &amp; Firefox won't allow reusing the iframe document.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">iframeDoc</span> <span class="o">||</span> <span class="o">!</span><span class="nx">iframe</span><span class="p">.</span><span class="nx">createElement</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">iframeDoc</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">iframe</span><span class="p">.</span><span class="nx">contentWindow</span> <span class="o">||</span> <span class="nx">iframe</span><span class="p">.</span><span class="nx">contentDocument</span> <span class="p">).</span><span class="nb">document</span><span class="p">;</span>
			<span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&quot;</span><span class="p">);</span>
			<span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="nx">elem</span> <span class="o">=</span> <span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">iframeDoc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">nodeName</span><span class="p">)</span> <span class="p">);</span>

		<span class="nx">display</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">);</span>
		<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">iframe</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-676">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-676">&#182;</a>               </div>               <p>Store the correct default display</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">elemdisplay</span><span class="p">[</span> <span class="nx">nodeName</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">display</span><span class="p">;</span>

	<span class="k">return</span> <span class="nx">display</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">)</span> <span class="o">!==</span> <span class="s2">&quot;none&quot;</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">getWidthOrHeight</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">swap</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">cssShow</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">getWidthOrHeight</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">);</span>
					<span class="p">});</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">},</span>

		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">setPositiveNumber</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="o">?</span>
				<span class="nx">augmentWidthOrHeight</span><span class="p">(</span>
					<span class="nx">elem</span><span class="p">,</span>
					<span class="nx">name</span><span class="p">,</span>
					<span class="nx">extra</span><span class="p">,</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxSizing</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;boxSizing&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;border-box&quot;</span>
				<span class="p">)</span> <span class="o">:</span> <span class="mi">0</span>
			<span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">opacity</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-677">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-677">&#182;</a>               </div>               <p>IE uses filters for opacity</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="nx">ropacity</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="p">(</span><span class="nx">computed</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span> <span class="o">?</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">.</span><span class="nx">filter</span> <span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">?</span>
				<span class="p">(</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nb">RegExp</span><span class="p">.</span><span class="nx">$1</span> <span class="p">)</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span>
				<span class="nx">computed</span> <span class="o">?</span> <span class="s2">&quot;1&quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
		<span class="p">},</span>

		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">style</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span>
				<span class="nx">currentStyle</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">,</span>
				<span class="nx">opacity</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isNumeric</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;alpha(opacity=&quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
				<span class="nx">filter</span> <span class="o">=</span> <span class="nx">currentStyle</span> <span class="o">&amp;&amp;</span> <span class="nx">currentStyle</span><span class="p">.</span><span class="nx">filter</span> <span class="o">||</span> <span class="nx">style</span><span class="p">.</span><span class="nx">filter</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-678">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-678">&#182;</a>               </div>               <p>IE has trouble with opacity if it does not have layout
Force it by setting the zoom level</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-679">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-679">&#182;</a>               </div>               <p>if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">filter</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">ralpha</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&quot;</span> <span class="o">&amp;&amp;</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">removeAttribute</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-680">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-680">&#182;</a>               </div>               <p>Setting style.filter to null, "" &amp; " " still leave "filter:" in the cssText
if "filter:" is present at all, clearType is disabled, we want to avoid this
style.removeAttribute is IE Only, but so apparently is this code path...</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">style</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span> <span class="s2">&quot;filter&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-681">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-681">&#182;</a>               </div>               <p>if there there is no filter style applied in a css rule, we are done</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">currentStyle</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">currentStyle</span><span class="p">.</span><span class="nx">filter</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">return</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-682">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-682">&#182;</a>               </div>               <p>otherwise, set new filter values</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">style</span><span class="p">.</span><span class="nx">filter</span> <span class="o">=</span> <span class="nx">ralpha</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">filter</span> <span class="p">)</span> <span class="o">?</span>
				<span class="nx">filter</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">ralpha</span><span class="p">,</span> <span class="nx">opacity</span> <span class="p">)</span> <span class="o">:</span>
				<span class="nx">filter</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">opacity</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-683">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-683">&#182;</a>               </div>               <p>These hooks cannot be added until DOM ready because the support test
for it is not run until after DOM ready</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">reliableMarginRight</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">marginRight</span> <span class="o">=</span> <span class="p">{</span>
			<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-684">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-684">&#182;</a>               </div>               <p>WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
Work around by temporarily setting element display to inline-block</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">swap</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;display&quot;</span><span class="o">:</span> <span class="s2">&quot;inline-block&quot;</span> <span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">return</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;marginRight&quot;</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">};</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-685">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-685">&#182;</a>               </div>               <p>Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
getComputedStyle returns percent when specified for top/left/bottom/right
rather than make the css module depend on the offset module, we just check for it here</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">pixelPosition</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">position</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">[</span> <span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">prop</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
				<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">computed</span> <span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">prop</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-686">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-686">&#182;</a>               </div>               <p>if curCSS returns percentage, fallback to offset</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">return</span> <span class="nx">rnumnonpx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">ret</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">).</span><span class="nx">position</span><span class="p">()[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;px&quot;</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">};</span>
		<span class="p">});</span>
	<span class="p">}</span>

<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">hidden</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">reliableHiddenOffsets</span> <span class="o">&amp;&amp;</span> <span class="p">((</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="p">)</span> <span class="o">||</span> <span class="nx">curCSS</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">))</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span><span class="p">);</span>
	<span class="p">};</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">visible</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">hidden</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-687">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-687">&#182;</a>               </div>               <p>These hooks are used by animate to expand properties</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span>
	<span class="nx">margin</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
	<span class="nx">padding</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
	<span class="nx">border</span><span class="o">:</span> <span class="s2">&quot;Width&quot;</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">suffix</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">suffix</span> <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="nx">expand</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">i</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-688">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-688">&#182;</a>               </div>               <p>assumes a single number if not a string</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">parts</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">?</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">:</span> <span class="p">[</span> <span class="nx">value</span> <span class="p">],</span>
				<span class="nx">expanded</span> <span class="o">=</span> <span class="p">{};</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">expanded</span><span class="p">[</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">+</span> <span class="nx">suffix</span> <span class="p">]</span> <span class="o">=</span>
					<span class="nx">parts</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">parts</span><span class="p">[</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">parts</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">expanded</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">rmargin</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">prefix</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">suffix</span> <span class="p">].</span><span class="nx">set</span> <span class="o">=</span> <span class="nx">setPositiveNumber</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">r20</span> <span class="o">=</span> <span class="sr">/%20/g</span><span class="p">,</span>
	<span class="nx">rbracket</span> <span class="o">=</span> <span class="sr">/\[\]$/</span><span class="p">,</span>
	<span class="nx">rCRLF</span> <span class="o">=</span> <span class="sr">/\r?\n/g</span><span class="p">,</span>
	<span class="nx">rinput</span> <span class="o">=</span> <span class="sr">/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i</span><span class="p">,</span>
	<span class="nx">rselectTextarea</span> <span class="o">=</span> <span class="sr">/^(?:select|textarea)/i</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">serialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">serializeArray</span><span class="p">()</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">serializeArray</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span> <span class="p">)</span> <span class="o">:</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">})</span>
		<span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">checked</span> <span class="o">||</span> <span class="nx">rselectTextarea</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">||</span>
					<span class="nx">rinput</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="p">)</span> <span class="p">);</span>
		<span class="p">})</span>
		<span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">){</span>
			<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">val</span><span class="p">();</span>

			<span class="k">return</span> <span class="nx">val</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
				<span class="kc">null</span> <span class="o">:</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="o">?</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span> <span class="nx">val</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">val</span><span class="p">,</span> <span class="nx">i</span> <span class="p">){</span>
						<span class="k">return</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">val</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rCRLF</span><span class="p">,</span> <span class="s2">&quot;\r\n&quot;</span> <span class="p">)</span> <span class="p">};</span>
					<span class="p">})</span> <span class="o">:</span>
					<span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">val</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rCRLF</span><span class="p">,</span> <span class="s2">&quot;\r\n&quot;</span> <span class="p">)</span> <span class="p">};</span>
		<span class="p">}).</span><span class="nx">get</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-689">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-689">&#182;</a>               </div>               <p>Serialize an array of form elements or a set of
key/values into a query string</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">param</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">traditional</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">prefix</span><span class="p">,</span>
		<span class="nx">s</span> <span class="o">=</span> <span class="p">[],</span>
		<span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-690">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-690">&#182;</a>               </div>               <p>If value is a function, invoke it and return its value</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">value</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">value</span><span class="p">()</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="nx">value</span> <span class="p">);</span>
			<span class="nx">s</span><span class="p">[</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="p">]</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
		<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-691">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-691">&#182;</a>               </div>               <p>Set traditional to true for jQuery &lt;= 1.3.2 behavior.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">traditional</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">traditional</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">traditional</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-692">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-692">&#182;</a>               </div>               <p>If an array was passed in, assume that it is an array of form elements.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">a</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">a</span><span class="p">.</span><span class="nx">jquery</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span> <span class="nx">a</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-693">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-693">&#182;</a>               </div>               <p>Serialize the form elements</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">add</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="p">);</span>
		<span class="p">});</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-694">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-694">&#182;</a>               </div>               <p>If traditional, encode the "old" way (the way 1.3.2 or older
did it), otherwise encode params recursively.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">prefix</span> <span class="k">in</span> <span class="nx">a</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">buildParams</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">a</span><span class="p">[</span> <span class="nx">prefix</span> <span class="p">],</span> <span class="nx">traditional</span><span class="p">,</span> <span class="nx">add</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-695">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-695">&#182;</a>               </div>               <p>Return the resulting serialization</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s2">&quot;&amp;&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">r20</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span> <span class="p">);</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">buildParams</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">traditional</span><span class="p">,</span> <span class="nx">add</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">name</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-696">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-696">&#182;</a>               </div>               <p>Serialize array item.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">obj</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">v</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">traditional</span> <span class="o">||</span> <span class="nx">rbracket</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">prefix</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-697">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-697">&#182;</a>               </div>               <p>Treat each array item as a scalar.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">add</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">v</span> <span class="p">);</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-698">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-698">&#182;</a>               </div>               <p>If array item is non-scalar (array or object), encode its
numeric index to resolve deserialization ambiguity issues.
Note that rack (as of 1.0.0) can't currently deserialize
nested arrays properly, and attempting to do so may cause
a server error. Possible fixes are to modify rack's
deserialization algorithm or to provide an option or flag
to force array serialization to be shallow.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">buildParams</span><span class="p">(</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">v</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">?</span> <span class="nx">i</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">traditional</span><span class="p">,</span> <span class="nx">add</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">traditional</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span> <span class="nx">obj</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-699">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-699">&#182;</a>               </div>               <p>Serialize object item.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">buildParams</span><span class="p">(</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">traditional</span><span class="p">,</span> <span class="nx">add</span> <span class="p">);</span>
		<span class="p">}</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-700">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-700">&#182;</a>               </div>               <p>Serialize scalar item.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">add</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">obj</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="c1">// Document location</span>
	<span class="nx">ajaxLocation</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-701">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-701">&#182;</a>               </div>               <p>Document location segments</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">ajaxLocParts</span><span class="p">,</span>

	<span class="nx">rhash</span> <span class="o">=</span> <span class="sr">/#.*$/</span><span class="p">,</span>
	<span class="nx">rheaders</span> <span class="o">=</span> <span class="sr">/^(.*?):[ \t]*([^\r\n]*)\r?$/mg</span><span class="p">,</span> <span class="c1">// IE leaves an \r character at EOL</span></pre></div>             </td>           </tr>                               <tr id="section-702">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-702">&#182;</a>               </div>               <h1>7653, #8125, #8152: local protocol detection</h1>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">rlocalProtocol</span> <span class="o">=</span> <span class="sr">/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/</span><span class="p">,</span>
	<span class="nx">rnoContent</span> <span class="o">=</span> <span class="sr">/^(?:GET|HEAD)$/</span><span class="p">,</span>
	<span class="nx">rprotocol</span> <span class="o">=</span> <span class="sr">/^\/\//</span><span class="p">,</span>
	<span class="nx">rquery</span> <span class="o">=</span> <span class="sr">/\?/</span><span class="p">,</span>
	<span class="nx">rscript</span> <span class="o">=</span> <span class="sr">/&lt;script\b[^&lt;]*(?:(?!&lt;\/script&gt;)&lt;[^&lt;]*)*&lt;\/script&gt;/gi</span><span class="p">,</span>
	<span class="nx">rts</span> <span class="o">=</span> <span class="sr">/([?&amp;])_=[^&amp;]*/</span><span class="p">,</span>
	<span class="nx">rurl</span> <span class="o">=</span> <span class="sr">/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-703">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-703">&#182;</a>               </div>               <p>Keep a copy of the old load method</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_load</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">load</span><span class="p">,</span>

	<span class="cm">/* Prefilters</span>
<span class="cm">	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)</span>
<span class="cm">	 * 2) These are called:</span>
<span class="cm">	 *    - BEFORE asking for a transport</span>
<span class="cm">	 *    - AFTER param serialization (s.data is a string if s.processData is true)</span>
<span class="cm">	 * 3) key is the dataType</span>
<span class="cm">	 * 4) the catchall symbol &quot;*&quot; can be used</span>
<span class="cm">	 * 5) execution will start with transport dataType and THEN continue down to &quot;*&quot; if needed</span>
<span class="cm">	 */</span>
	<span class="nx">prefilters</span> <span class="o">=</span> <span class="p">{},</span>

	<span class="cm">/* Transports bindings</span>
<span class="cm">	 * 1) key is the dataType</span>
<span class="cm">	 * 2) the catchall symbol &quot;*&quot; can be used</span>
<span class="cm">	 * 3) selection will start with transport dataType and THEN go to &quot;*&quot; if needed</span>
<span class="cm">	 */</span>
	<span class="nx">transports</span> <span class="o">=</span> <span class="p">{},</span></pre></div>             </td>           </tr>                               <tr id="section-704">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-704">&#182;</a>               </div>               <p>Avoid comment-prolog char sequence (#10098); must appease lint and evade compression</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">allTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;*/&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-705">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-705">&#182;</a>               </div>               <h1>8138, IE may throw an exception when accessing</h1>

<p>a field from window.location if document.domain has been set</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">try</span> <span class="p">{</span>
	<span class="nx">ajaxLocation</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-706">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-706">&#182;</a>               </div>               <p>Use the href attribute of an A element
since IE will modify it given document.location</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">ajaxLocation</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="s2">&quot;a&quot;</span> <span class="p">);</span>
	<span class="nx">ajaxLocation</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
	<span class="nx">ajaxLocation</span> <span class="o">=</span> <span class="nx">ajaxLocation</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-707">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-707">&#182;</a>               </div>               <p>Segment location into parts</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">ajaxLocParts</span> <span class="o">=</span> <span class="nx">rurl</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">ajaxLocation</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">)</span> <span class="o">||</span> <span class="p">[];</span></pre></div>             </td>           </tr>                               <tr id="section-708">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-708">&#182;</a>               </div>               <p>Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">addToPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">structure</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-709">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-709">&#182;</a>               </div>               <p>dataTypeExpression is optional and defaults to "*"</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">dataTypeExpression</span><span class="p">,</span> <span class="nx">func</span> <span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">dataTypeExpression</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">func</span> <span class="o">=</span> <span class="nx">dataTypeExpression</span><span class="p">;</span>
			<span class="nx">dataTypeExpression</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">dataType</span><span class="p">,</span> <span class="nx">list</span><span class="p">,</span> <span class="nx">placeBefore</span><span class="p">,</span>
			<span class="nx">dataTypes</span> <span class="o">=</span> <span class="nx">dataTypeExpression</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">),</span>
			<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">dataTypes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">func</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-710">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-710">&#182;</a>               </div>               <p>For each dataType in the dataTypeExpression</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">dataType</span> <span class="o">=</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-711">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-711">&#182;</a>               </div>               <p>We control if we're asked to add before
any existing element</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">placeBefore</span> <span class="o">=</span> <span class="sr">/^\+/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">dataType</span> <span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">placeBefore</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">dataType</span> <span class="o">=</span> <span class="nx">dataType</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">||</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="nx">list</span> <span class="o">=</span> <span class="nx">structure</span><span class="p">[</span> <span class="nx">dataType</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">structure</span><span class="p">[</span> <span class="nx">dataType</span> <span class="p">]</span> <span class="o">||</span> <span class="p">[];</span></pre></div>             </td>           </tr>                               <tr id="section-712">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-712">&#182;</a>               </div>               <p>then we add to the structure accordingly</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">list</span><span class="p">[</span> <span class="nx">placeBefore</span> <span class="o">?</span> <span class="s2">&quot;unshift&quot;</span> <span class="o">:</span> <span class="s2">&quot;push&quot;</span> <span class="p">](</span> <span class="nx">func</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">};</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-713">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-713">&#182;</a>               </div>               <p>Base inspection function for prefilters and transports</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">inspectPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">structure</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">originalOptions</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span>
		<span class="nx">dataType</span> <span class="cm">/* internal */</span><span class="p">,</span> <span class="nx">inspected</span> <span class="cm">/* internal */</span> <span class="p">)</span> <span class="p">{</span>

	<span class="nx">dataType</span> <span class="o">=</span> <span class="nx">dataType</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
	<span class="nx">inspected</span> <span class="o">=</span> <span class="nx">inspected</span> <span class="o">||</span> <span class="p">{};</span>

	<span class="nx">inspected</span><span class="p">[</span> <span class="nx">dataType</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

	<span class="kd">var</span> <span class="nx">selection</span><span class="p">,</span>
		<span class="nx">list</span> <span class="o">=</span> <span class="nx">structure</span><span class="p">[</span> <span class="nx">dataType</span> <span class="p">],</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">length</span> <span class="o">=</span> <span class="nx">list</span> <span class="o">?</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">executeOnly</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">structure</span> <span class="o">===</span> <span class="nx">prefilters</span> <span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">executeOnly</span> <span class="o">||</span> <span class="o">!</span><span class="nx">selection</span> <span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">selection</span> <span class="o">=</span> <span class="nx">list</span><span class="p">[</span> <span class="nx">i</span> <span class="p">](</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">originalOptions</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-714">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-714">&#182;</a>               </div>               <p>If we got redirected to another dataType
we try there if executing only and not done already</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">selection</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">executeOnly</span> <span class="o">||</span> <span class="nx">inspected</span><span class="p">[</span> <span class="nx">selection</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">selection</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">options</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">selection</span> <span class="p">);</span>
				<span class="nx">selection</span> <span class="o">=</span> <span class="nx">inspectPrefiltersOrTransports</span><span class="p">(</span>
						<span class="nx">structure</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">originalOptions</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">selection</span><span class="p">,</span> <span class="nx">inspected</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-715">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-715">&#182;</a>               </div>               <p>If we're only executing or nothing was selected
we try the catchall dataType if not done already</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">executeOnly</span> <span class="o">||</span> <span class="o">!</span><span class="nx">selection</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">inspected</span><span class="p">[</span> <span class="s2">&quot;*&quot;</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">selection</span> <span class="o">=</span> <span class="nx">inspectPrefiltersOrTransports</span><span class="p">(</span>
				<span class="nx">structure</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">originalOptions</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="nx">inspected</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-716">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-716">&#182;</a>               </div>               <p>unnecessary when only executing (prefilters)
but it'll be ignored by the caller in that case</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">selection</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-717">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-717">&#182;</a>               </div>               <p>A special extend for ajax options
that takes "flat" options (not to be deep extended)
Fixes #9887</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">ajaxExtend</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">src</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">deep</span><span class="p">,</span>
		<span class="nx">flatOptions</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">flatOptions</span> <span class="o">||</span> <span class="p">{};</span>
	<span class="k">for</span> <span class="p">(</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">src</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">src</span><span class="p">[</span> <span class="nx">key</span> <span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="p">(</span> <span class="nx">flatOptions</span><span class="p">[</span> <span class="nx">key</span> <span class="p">]</span> <span class="o">?</span> <span class="nx">target</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">deep</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">deep</span> <span class="o">=</span> <span class="p">{}</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)[</span> <span class="nx">key</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">src</span><span class="p">[</span> <span class="nx">key</span> <span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">deep</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">deep</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">url</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">_load</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">_load</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-718">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-718">&#182;</a>               </div>               <p>Don't do a request if no elements are being requested</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kd">var</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span>
		<span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
		<span class="nx">off</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">off</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">selector</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">off</span><span class="p">,</span> <span class="nx">url</span><span class="p">.</span><span class="nx">length</span> <span class="p">);</span>
		<span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">off</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-719">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-719">&#182;</a>               </div>               <p>If it's a function</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">params</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-720">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-720">&#182;</a>               </div>               <p>We assume that it's the callback</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">callback</span> <span class="o">=</span> <span class="nx">params</span><span class="p">;</span>
		<span class="nx">params</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-721">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-721">&#182;</a>               </div>               <p>Otherwise, build a param string</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">params</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;POST&quot;</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-722">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-722">&#182;</a>               </div>               <p>Request the remote document</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
		<span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-723">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-723">&#182;</a>               </div>               <p>if "type" variable is undefined, then "GET" method will be used</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">type</span><span class="o">:</span> <span class="nx">type</span><span class="p">,</span>
		<span class="nx">dataType</span><span class="o">:</span> <span class="s2">&quot;html&quot;</span><span class="p">,</span>
		<span class="nx">data</span><span class="o">:</span> <span class="nx">params</span><span class="p">,</span>
		<span class="nx">complete</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">status</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">self</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">response</span> <span class="o">||</span> <span class="p">[</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">responseText</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">responseText</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-724">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-724">&#182;</a>               </div>               <p>Save response for use in complete callback</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">response</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-725">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-725">&#182;</a>               </div>               <p>See if a selector was specified</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">self</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="nx">selector</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-726">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-726">&#182;</a>               </div>               <p>Create a dummy div to hold the results</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-727">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-727">&#182;</a>               </div>               <p>inject the contents of the document in, removing the scripts
to avoid any 'Permission Denied' errors in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="nx">responseText</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rscript</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-728">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-728">&#182;</a>               </div>               <p>Locate the specified elements</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">)</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-729">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-729">&#182;</a>               </div>               <p>If not, just inject the full result</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">responseText</span> <span class="p">);</span>

	<span class="p">});</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-730">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-730">&#182;</a>               </div>               <p>Attach a bunch of functions for handling common AJAX events</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="s2">&quot;ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="p">),</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">o</span> <span class="p">){</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">o</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">f</span> <span class="p">){</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="nx">o</span><span class="p">,</span> <span class="nx">f</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">[</span> <span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="s2">&quot;post&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">method</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">[</span> <span class="nx">method</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-731">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-731">&#182;</a>               </div>               <p>shift arguments if data argument was omitted</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">||</span> <span class="nx">callback</span><span class="p">;</span>
			<span class="nx">callback</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
			<span class="nx">data</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
			<span class="nx">type</span><span class="o">:</span> <span class="nx">method</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
			<span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
			<span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
			<span class="nx">dataType</span><span class="o">:</span> <span class="nx">type</span>
		<span class="p">});</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

	<span class="nx">getScript</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="s2">&quot;script&quot;</span> <span class="p">);</span>
	<span class="p">},</span>

	<span class="nx">getJSON</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span> <span class="p">);</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-732">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-732">&#182;</a>               </div>               <p>Creates a full fledged settings object into target
with both ajaxSettings and settings fields.
If target is omitted, writes into ajaxSettings.</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">ajaxSetup</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">settings</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">settings</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-733">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-733">&#182;</a>               </div>               <p>Building a settings object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">ajaxExtend</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-734">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-734">&#182;</a>               </div>               <p>Extending ajaxSettings</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">settings</span> <span class="o">=</span> <span class="nx">target</span><span class="p">;</span>
			<span class="nx">target</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">ajaxExtend</span><span class="p">(</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">settings</span> <span class="p">);</span>
		<span class="k">return</span> <span class="nx">target</span><span class="p">;</span>
	<span class="p">},</span>

	<span class="nx">ajaxSettings</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">url</span><span class="o">:</span> <span class="nx">ajaxLocation</span><span class="p">,</span>
		<span class="nx">isLocal</span><span class="o">:</span> <span class="nx">rlocalProtocol</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">),</span>
		<span class="nx">global</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
		<span class="nx">contentType</span><span class="o">:</span> <span class="s2">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span><span class="p">,</span>
		<span class="nx">processData</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="nx">async</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
		<span class="cm">/*</span>
<span class="cm">		timeout: 0,</span>
<span class="cm">		data: null,</span>
<span class="cm">		dataType: null,</span>
<span class="cm">		username: null,</span>
<span class="cm">		password: null,</span>
<span class="cm">		cache: null,</span>
<span class="cm">		throws: false,</span>
<span class="cm">		traditional: false,</span>
<span class="cm">		headers: {},</span>
<span class="cm">		*/</span>

		<span class="nx">accepts</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">xml</span><span class="o">:</span> <span class="s2">&quot;application/xml, text/xml&quot;</span><span class="p">,</span>
			<span class="nx">html</span><span class="o">:</span> <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
			<span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
			<span class="nx">json</span><span class="o">:</span> <span class="s2">&quot;application/json, text/javascript&quot;</span><span class="p">,</span>
			<span class="s2">&quot;*&quot;</span><span class="o">:</span> <span class="nx">allTypes</span>
		<span class="p">},</span>

		<span class="nx">contents</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">xml</span><span class="o">:</span> <span class="sr">/xml/</span><span class="p">,</span>
			<span class="nx">html</span><span class="o">:</span> <span class="sr">/html/</span><span class="p">,</span>
			<span class="nx">json</span><span class="o">:</span> <span class="sr">/json/</span>
		<span class="p">},</span>

		<span class="nx">responseFields</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">xml</span><span class="o">:</span> <span class="s2">&quot;responseXML&quot;</span><span class="p">,</span>
			<span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;responseText&quot;</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-735">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-735">&#182;</a>               </div>               <p>List of data converters
1) key format is "source<em>type destination</em>type" (a single space in-between)
2) the catchall symbol "*" can be used for source_type</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">converters</span><span class="o">:</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-736">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-736">&#182;</a>               </div>               <p>Convert anything to text</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="s2">&quot;* text&quot;</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nb">String</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-737">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-737">&#182;</a>               </div>               <p>Text to html (true = no transformation)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="s2">&quot;text html&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-738">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-738">&#182;</a>               </div>               <p>Evaluate text as a json expression</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="s2">&quot;text json&quot;</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-739">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-739">&#182;</a>               </div>               <p>Parse text as xml</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="s2">&quot;text xml&quot;</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">parseXML</span>
		<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-740">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-740">&#182;</a>               </div>               <p>For options that shouldn't be deep extended:
you can add your own custom options here if
and when you create one that shouldn't be
deep extended (see ajaxExtend)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">flatOptions</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">context</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
			<span class="nx">url</span><span class="o">:</span> <span class="kc">true</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">ajaxPrefilter</span><span class="o">:</span> <span class="nx">addToPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">prefilters</span> <span class="p">),</span>
	<span class="nx">ajaxTransport</span><span class="o">:</span> <span class="nx">addToPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">transports</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-741">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-741">&#182;</a>               </div>               <p>Main method</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">ajax</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-742">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-742">&#182;</a>               </div>               <p>If url is an object, simulate pre-1.5 signature</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">url</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">options</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
			<span class="nx">url</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-743">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-743">&#182;</a>               </div>               <p>Force options to be an object</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span> <span class="o">||</span> <span class="p">{};</span>

		<span class="kd">var</span> <span class="c1">// ifModified key</span>
			<span class="nx">ifModifiedKey</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-744">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-744">&#182;</a>               </div>               <p>Response headers</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">responseHeadersString</span><span class="p">,</span>
			<span class="nx">responseHeaders</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-745">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-745">&#182;</a>               </div>               <p>transport</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">transport</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-746">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-746">&#182;</a>               </div>               <p>timeout handle</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">timeoutTimer</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-747">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-747">&#182;</a>               </div>               <p>Cross-domain detection vars</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">parts</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-748">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-748">&#182;</a>               </div>               <p>To know if global events are to be dispatched</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">fireGlobals</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-749">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-749">&#182;</a>               </div>               <p>Loop variable</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">i</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-750">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-750">&#182;</a>               </div>               <p>Create the final options object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">s</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">options</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-751">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-751">&#182;</a>               </div>               <p>Callbacks context</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">callbackContext</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">context</span> <span class="o">||</span> <span class="nx">s</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-752">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-752">&#182;</a>               </div>               <p>Context for global events
It's the callbackContext if one was provided in the options
and if it's a DOM node or a jQuery collection</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">globalEventContext</span> <span class="o">=</span> <span class="nx">callbackContext</span> <span class="o">!==</span> <span class="nx">s</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="nx">callbackContext</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">||</span> <span class="nx">callbackContext</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="p">)</span> <span class="o">?</span>
						<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">callbackContext</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-753">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-753">&#182;</a>               </div>               <p>Deferreds</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">deferred</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span>
			<span class="nx">completeDeferred</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span> <span class="s2">&quot;once memory&quot;</span> <span class="p">),</span></pre></div>             </td>           </tr>                               <tr id="section-754">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-754">&#182;</a>               </div>               <p>Status-dependent callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">statusCode</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">||</span> <span class="p">{},</span></pre></div>             </td>           </tr>                               <tr id="section-755">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-755">&#182;</a>               </div>               <p>Headers (they are sent all at once)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">requestHeaders</span> <span class="o">=</span> <span class="p">{},</span>
			<span class="nx">requestHeadersNames</span> <span class="o">=</span> <span class="p">{},</span></pre></div>             </td>           </tr>                               <tr id="section-756">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-756">&#182;</a>               </div>               <p>The jqXHR state</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-757">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-757">&#182;</a>               </div>               <p>Default abort message</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">strAbort</span> <span class="o">=</span> <span class="s2">&quot;canceled&quot;</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-758">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-758">&#182;</a>               </div>               <p>Fake xhr</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jqXHR</span> <span class="o">=</span> <span class="p">{</span>

				<span class="nx">readyState</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-759">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-759">&#182;</a>               </div>               <p>Caches the header</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">setRequestHeader</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">state</span> <span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">lname</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
						<span class="nx">name</span> <span class="o">=</span> <span class="nx">requestHeadersNames</span><span class="p">[</span> <span class="nx">lname</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">requestHeadersNames</span><span class="p">[</span> <span class="nx">lname</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">name</span><span class="p">;</span>
						<span class="nx">requestHeaders</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
				<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-760">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-760">&#182;</a>               </div>               <p>Raw string</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">getAllResponseHeaders</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">state</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="nx">responseHeadersString</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
				<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-761">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-761">&#182;</a>               </div>               <p>Builds headers hashtable if needed</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">getResponseHeader</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">match</span><span class="p">;</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">state</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">responseHeaders</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">responseHeaders</span> <span class="o">=</span> <span class="p">{};</span>
							<span class="k">while</span><span class="p">(</span> <span class="p">(</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">rheaders</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">responseHeadersString</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">responseHeaders</span><span class="p">[</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">match</span><span class="p">[</span> <span class="mi">2</span> <span class="p">];</span>
							<span class="p">}</span>
						<span class="p">}</span>
						<span class="nx">match</span> <span class="o">=</span> <span class="nx">responseHeaders</span><span class="p">[</span> <span class="nx">key</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">];</span>
					<span class="p">}</span>
					<span class="k">return</span> <span class="nx">match</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nx">match</span><span class="p">;</span>
				<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-762">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-762">&#182;</a>               </div>               <p>Overrides response content-type header</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">overrideMimeType</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">state</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">s</span><span class="p">.</span><span class="nx">mimeType</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
				<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-763">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-763">&#182;</a>               </div>               <p>Cancel the request</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">abort</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">statusText</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">statusText</span> <span class="o">=</span> <span class="nx">statusText</span> <span class="o">||</span> <span class="nx">strAbort</span><span class="p">;</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">transport</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">transport</span><span class="p">.</span><span class="nx">abort</span><span class="p">(</span> <span class="nx">statusText</span> <span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">done</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">statusText</span> <span class="p">);</span>
					<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-764">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-764">&#182;</a>               </div>               <p>Callback for when everything is done
It is defined here because jslint complains if it is declared
at the end of the function (which would be more logical and readable)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">function</span> <span class="nx">done</span><span class="p">(</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">nativeStatusText</span><span class="p">,</span> <span class="nx">responses</span><span class="p">,</span> <span class="nx">headers</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">isSuccess</span><span class="p">,</span> <span class="nx">success</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">modified</span><span class="p">,</span>
				<span class="nx">statusText</span> <span class="o">=</span> <span class="nx">nativeStatusText</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-765">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-765">&#182;</a>               </div>               <p>Called once</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">state</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-766">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-766">&#182;</a>               </div>               <p>State is "done" now</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">state</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-767">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-767">&#182;</a>               </div>               <p>Clear timeout if it exists</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">timeoutTimer</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">clearTimeout</span><span class="p">(</span> <span class="nx">timeoutTimer</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-768">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-768">&#182;</a>               </div>               <p>Dereference transport for early garbage collection
(no matter how long the jqXHR object will be used)</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">transport</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-769">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-769">&#182;</a>               </div>               <p>Cache response headers</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">responseHeadersString</span> <span class="o">=</span> <span class="nx">headers</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-770">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-770">&#182;</a>               </div>               <p>Set readyState</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">=</span> <span class="nx">status</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-771">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-771">&#182;</a>               </div>               <p>Get response data</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">response</span> <span class="o">=</span> <span class="nx">ajaxHandleResponses</span><span class="p">(</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">responses</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-772">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-772">&#182;</a>               </div>               <p>If successful, handle type chaining</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">300</span> <span class="o">||</span> <span class="nx">status</span> <span class="o">===</span> <span class="mi">304</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-773">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-773">&#182;</a>               </div>               <p>Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">ifModified</span> <span class="p">)</span> <span class="p">{</span>

					<span class="nx">modified</span> <span class="o">=</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;Last-Modified&quot;</span><span class="p">);</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">modified</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">modified</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="nx">modified</span> <span class="o">=</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;Etag&quot;</span><span class="p">);</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">modified</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">modified</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-774">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-774">&#182;</a>               </div>               <p>If not modified</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">status</span> <span class="o">===</span> <span class="mi">304</span> <span class="p">)</span> <span class="p">{</span>

					<span class="nx">statusText</span> <span class="o">=</span> <span class="s2">&quot;notmodified&quot;</span><span class="p">;</span>
					<span class="nx">isSuccess</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-775">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-775">&#182;</a>               </div>               <p>If we have data</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

					<span class="nx">isSuccess</span> <span class="o">=</span> <span class="nx">ajaxConvert</span><span class="p">(</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">response</span> <span class="p">);</span>
					<span class="nx">statusText</span> <span class="o">=</span> <span class="nx">isSuccess</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span>
					<span class="nx">success</span> <span class="o">=</span> <span class="nx">isSuccess</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
					<span class="nx">error</span> <span class="o">=</span> <span class="nx">isSuccess</span><span class="p">.</span><span class="nx">error</span><span class="p">;</span>
					<span class="nx">isSuccess</span> <span class="o">=</span> <span class="o">!</span><span class="nx">error</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-776">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-776">&#182;</a>               </div>               <p>We extract error from statusText
then normalize statusText and status for non-aborts</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">error</span> <span class="o">=</span> <span class="nx">statusText</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">statusText</span> <span class="o">||</span> <span class="nx">status</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">statusText</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span><span class="p">;</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">status</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-777">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-777">&#182;</a>               </div>               <p>Set data for the fake xhr object</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span> <span class="o">=</span> <span class="nx">status</span><span class="p">;</span>
			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">statusText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">nativeStatusText</span> <span class="o">||</span> <span class="nx">statusText</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-778">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-778">&#182;</a>               </div>               <p>Success/Error</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">isSuccess</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">deferred</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">callbackContext</span><span class="p">,</span> <span class="p">[</span> <span class="nx">success</span><span class="p">,</span> <span class="nx">statusText</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">deferred</span><span class="p">.</span><span class="nx">rejectWith</span><span class="p">(</span> <span class="nx">callbackContext</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">statusText</span><span class="p">,</span> <span class="nx">error</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-779">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-779">&#182;</a>               </div>               <p>Status-dependent callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">(</span> <span class="nx">statusCode</span> <span class="p">);</span>
			<span class="nx">statusCode</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">fireGlobals</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">globalEventContext</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s2">&quot;ajax&quot;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">isSuccess</span> <span class="o">?</span> <span class="s2">&quot;Success&quot;</span> <span class="o">:</span> <span class="s2">&quot;Error&quot;</span> <span class="p">),</span>
						<span class="p">[</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">isSuccess</span> <span class="o">?</span> <span class="nx">success</span> <span class="o">:</span> <span class="nx">error</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-780">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-780">&#182;</a>               </div>               <p>Complete</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">completeDeferred</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span> <span class="nx">callbackContext</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">statusText</span> <span class="p">]</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">fireGlobals</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">globalEventContext</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s2">&quot;ajaxComplete&quot;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">s</span> <span class="p">]</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-781">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-781">&#182;</a>               </div>               <p>Handle the global AJAX counter</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="o">--</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">active</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s2">&quot;ajaxStop&quot;</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-782">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-782">&#182;</a>               </div>               <p>Attach deferreds</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">(</span> <span class="nx">jqXHR</span> <span class="p">);</span>
		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">success</span> <span class="o">=</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">done</span><span class="p">;</span>
		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">fail</span><span class="p">;</span>
		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">complete</span> <span class="o">=</span> <span class="nx">completeDeferred</span><span class="p">.</span><span class="nx">add</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-783">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-783">&#182;</a>               </div>               <p>Status-dependent callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">map</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">map</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">tmp</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">state</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">for</span> <span class="p">(</span> <span class="nx">tmp</span> <span class="k">in</span> <span class="nx">map</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">statusCode</span><span class="p">[</span> <span class="nx">tmp</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">statusCode</span><span class="p">[</span><span class="nx">tmp</span><span class="p">],</span> <span class="nx">map</span><span class="p">[</span><span class="nx">tmp</span><span class="p">]</span> <span class="p">];</span>
					<span class="p">}</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">tmp</span> <span class="o">=</span> <span class="nx">map</span><span class="p">[</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span> <span class="p">];</span>
					<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span> <span class="nx">tmp</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
		<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-784">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-784">&#182;</a>               </div>               <p>Remove hash character (#7531: and string promotion)
Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
We also use the url parameter if available</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">url</span> <span class="o">||</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rhash</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rprotocol</span><span class="p">,</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;//&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-785">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-785">&#182;</a>               </div>               <p>Extract dataTypes list</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataType</span> <span class="o">||</span> <span class="s2">&quot;*&quot;</span> <span class="p">).</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span> <span class="nx">core_rspace</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-786">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-786">&#182;</a>               </div>               <p>Determine if a cross-domain request is in order</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">parts</span> <span class="o">=</span> <span class="nx">rurl</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">);</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span> <span class="nx">parts</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span> <span class="nx">parts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">!=</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">parts</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">!=</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">2</span> <span class="p">]</span> <span class="o">||</span>
					<span class="p">(</span> <span class="nx">parts</span><span class="p">[</span> <span class="mi">3</span> <span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">parts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;http:&quot;</span> <span class="o">?</span> <span class="mi">80</span> <span class="o">:</span> <span class="mi">443</span> <span class="p">)</span> <span class="p">)</span> <span class="o">!=</span>
						<span class="p">(</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">3</span> <span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">ajaxLocParts</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;http:&quot;</span> <span class="o">?</span> <span class="mi">80</span> <span class="o">:</span> <span class="mi">443</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
			<span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-787">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-787">&#182;</a>               </div>               <p>Convert data if not already a string</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">processData</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">traditional</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-788">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-788">&#182;</a>               </div>               <p>Apply prefilters</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">inspectPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">prefilters</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-789">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-789">&#182;</a>               </div>               <p>If request was aborted inside a prefilter, stop there</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">state</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">jqXHR</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-790">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-790">&#182;</a>               </div>               <p>We can fire global events as of now if asked to</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">fireGlobals</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">global</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-791">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-791">&#182;</a>               </div>               <p>Uppercase the type</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">type</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-792">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-792">&#182;</a>               </div>               <p>Determine if request has content</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">hasContent</span> <span class="o">=</span> <span class="o">!</span><span class="nx">rnoContent</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-793">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-793">&#182;</a>               </div>               <p>Watch for a new set of requests</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">fireGlobals</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">active</span><span class="o">++</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s2">&quot;ajaxStart&quot;</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-794">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-794">&#182;</a>               </div>               <p>More options handling for requests with no content</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">hasContent</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-795">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-795">&#182;</a>               </div>               <p>If data is available, append data to url</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="o">+=</span> <span class="p">(</span> <span class="nx">rquery</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;&amp;&quot;</span> <span class="o">:</span> <span class="s2">&quot;?&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-796">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-796">&#182;</a>               </div>               <h1>9682: remove data so that it's not used in an eventual retry</h1>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">delete</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-797">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-797">&#182;</a>               </div>               <p>Get ifModifiedKey before adding the anti-cache parameter</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">ifModifiedKey</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-798">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-798">&#182;</a>               </div>               <p>Add anti-cache in url if needed</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">cache</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>

				<span class="kd">var</span> <span class="nx">ts</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span></pre></div>             </td>           </tr>                               <tr id="section-799">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-799">&#182;</a>               </div>               <p>try replacing _= if it is there</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">ret</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rts</span><span class="p">,</span> <span class="s2">&quot;$1_=&quot;</span> <span class="o">+</span> <span class="nx">ts</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-800">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-800">&#182;</a>               </div>               <p>if nothing was replaced, add timestamp to the end</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">ret</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">ret</span> <span class="o">===</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="p">)</span> <span class="o">?</span> <span class="p">(</span> <span class="nx">rquery</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;&amp;&quot;</span> <span class="o">:</span> <span class="s2">&quot;?&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_=&quot;</span> <span class="o">+</span> <span class="nx">ts</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-801">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-801">&#182;</a>               </div>               <p>Set the correct header, if data is being sent</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">hasContent</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">contentType</span> <span class="o">!==</span> <span class="kc">false</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">contentType</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span> <span class="s2">&quot;Content-Type&quot;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">contentType</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-802">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-802">&#182;</a>               </div>               <p>Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">ifModified</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ifModifiedKey</span> <span class="o">=</span> <span class="nx">ifModifiedKey</span> <span class="o">||</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span> <span class="s2">&quot;If-Modified-Since&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span> <span class="s2">&quot;If-None-Match&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span> <span class="nx">ifModifiedKey</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-803">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-803">&#182;</a>               </div>               <p>Set the Accepts header for the server, depending on the dataType</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span>
			<span class="s2">&quot;Accept&quot;</span><span class="p">,</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="o">?</span>
				<span class="nx">s</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">!==</span> <span class="s2">&quot;*&quot;</span> <span class="o">?</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nx">allTypes</span> <span class="o">+</span> <span class="s2">&quot;; q=0.01&quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">:</span>
				<span class="nx">s</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span> <span class="s2">&quot;*&quot;</span> <span class="p">]</span>
		<span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-804">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-804">&#182;</a>               </div>               <p>Check for headers option</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">s</span><span class="p">.</span><span class="nx">headers</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-805">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-805">&#182;</a>               </div>               <p>Allow custom headers/mimetypes and early abort</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">beforeSend</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">beforeSend</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">callbackContext</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">s</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">||</span> <span class="nx">state</span> <span class="o">===</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-806">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-806">&#182;</a>               </div>               <p>Abort if not done already and return</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span>

		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-807">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-807">&#182;</a>               </div>               <p>aborting is no longer a cancellation</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">strAbort</span> <span class="o">=</span> <span class="s2">&quot;abort&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-808">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-808">&#182;</a>               </div>               <p>Install callbacks on deferreds</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">{</span> <span class="nx">success</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">error</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">complete</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jqXHR</span><span class="p">[</span> <span class="nx">i</span> <span class="p">](</span> <span class="nx">s</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-809">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-809">&#182;</a>               </div>               <p>Get transport</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">transport</span> <span class="o">=</span> <span class="nx">inspectPrefiltersOrTransports</span><span class="p">(</span> <span class="nx">transports</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-810">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-810">&#182;</a>               </div>               <p>If no transport, we auto-abort</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">transport</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">done</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;No Transport&quot;</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-811">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-811">&#182;</a>               </div>               <p>Send global event</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">fireGlobals</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">globalEventContext</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s2">&quot;ajaxSend&quot;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">s</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-812">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-812">&#182;</a>               </div>               <p>Timeout</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">timeoutTimer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">abort</span><span class="p">(</span> <span class="s2">&quot;timeout&quot;</span> <span class="p">);</span>
				<span class="p">},</span> <span class="nx">s</span><span class="p">.</span><span class="nx">timeout</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="k">try</span> <span class="p">{</span>
				<span class="nx">state</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="nx">transport</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span> <span class="nx">requestHeaders</span><span class="p">,</span> <span class="nx">done</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-813">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-813">&#182;</a>               </div>               <p>Propagate exception as error if not done</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">state</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">done</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">e</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-814">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-814">&#182;</a>               </div>               <p>Simply rethrow otherwise</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="k">throw</span> <span class="nx">e</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">jqXHR</span><span class="p">;</span>
	<span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-815">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-815">&#182;</a>               </div>               <p>Counter for holding the number of active queries</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">active</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-816">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-816">&#182;</a>               </div>               <p>Last-Modified header cache for next request</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">lastModified</span><span class="o">:</span> <span class="p">{},</span>
	<span class="nx">etag</span><span class="o">:</span> <span class="p">{}</span>

<span class="p">});</span>

<span class="cm">/* Handles responses to an ajax request:</span>
<span class="cm"> * - sets all responseXXX fields accordingly</span>
<span class="cm"> * - finds the right dataType (mediates between content-type and expected dataType)</span>
<span class="cm"> * - returns the corresponding response</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">ajaxHandleResponses</span><span class="p">(</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">ct</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">finalDataType</span><span class="p">,</span> <span class="nx">firstDataType</span><span class="p">,</span>
		<span class="nx">contents</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">contents</span><span class="p">,</span>
		<span class="nx">dataTypes</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">,</span>
		<span class="nx">responseFields</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">responseFields</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-817">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-817">&#182;</a>               </div>               <p>Fill responseXXX fields</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">responseFields</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jqXHR</span><span class="p">[</span> <span class="nx">responseFields</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">responses</span><span class="p">[</span> <span class="nx">type</span> <span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-818">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-818">&#182;</a>               </div>               <p>Remove auto dataType and get content-type in the process</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">while</span><span class="p">(</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;*&quot;</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dataTypes</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">ct</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">ct</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">mimeType</span> <span class="o">||</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span> <span class="s2">&quot;content-type&quot;</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-819">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-819">&#182;</a>               </div>               <p>Check if we're dealing with a known content-type</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">ct</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">contents</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">contents</span><span class="p">[</span> <span class="nx">type</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">contents</span><span class="p">[</span> <span class="nx">type</span> <span class="p">].</span><span class="nx">test</span><span class="p">(</span> <span class="nx">ct</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">dataTypes</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">type</span> <span class="p">);</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-820">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-820">&#182;</a>               </div>               <p>Check to see if we have a response for the expected dataType</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="k">in</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">finalDataType</span> <span class="o">=</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-821">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-821">&#182;</a>               </div>               <p>Try convertible dataTypes</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="nx">type</span> <span class="k">in</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">s</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span> <span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">finalDataType</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">firstDataType</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">firstDataType</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-822">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-822">&#182;</a>               </div>               <p>Or just use first one</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">finalDataType</span> <span class="o">=</span> <span class="nx">finalDataType</span> <span class="o">||</span> <span class="nx">firstDataType</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-823">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-823">&#182;</a>               </div>               <p>If we found a dataType
We add the dataType to the list if needed
and return the corresponding response</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">finalDataType</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">finalDataType</span> <span class="o">!==</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">dataTypes</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">finalDataType</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="nx">responses</span><span class="p">[</span> <span class="nx">finalDataType</span> <span class="p">];</span>
	<span class="p">}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-824">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-824">&#182;</a>               </div>               <p>Chain conversions given the request and the original response</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">ajaxConvert</span><span class="p">(</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">response</span> <span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">conv</span><span class="p">,</span> <span class="nx">conv2</span><span class="p">,</span> <span class="nx">current</span><span class="p">,</span> <span class="nx">tmp</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-825">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-825">&#182;</a>               </div>               <p>Work with a copy of dataTypes in case we need to modify it for conversion</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">dataTypes</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">.</span><span class="nx">slice</span><span class="p">(),</span>
		<span class="nx">prev</span> <span class="o">=</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
		<span class="nx">converters</span> <span class="o">=</span> <span class="p">{},</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-826">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-826">&#182;</a>               </div>               <p>Apply the dataFilter if provided</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataFilter</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">response</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataFilter</span><span class="p">(</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataType</span> <span class="p">);</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-827">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-827">&#182;</a>               </div>               <p>Create converters map with lowercased keys</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">conv</span> <span class="k">in</span> <span class="nx">s</span><span class="p">.</span><span class="nx">converters</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">converters</span><span class="p">[</span> <span class="nx">conv</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span> <span class="nx">conv</span> <span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-828">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-828">&#182;</a>               </div>               <p>Convert to each sequential dataType, tolerating list modification</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="p">(</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">dataTypes</span><span class="p">[</span><span class="o">++</span><span class="nx">i</span><span class="p">]);</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-829">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-829">&#182;</a>               </div>               <p>There's only work to do if current dataType is non-auto</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">current</span> <span class="o">!==</span> <span class="s2">&quot;*&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-830">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-830">&#182;</a>               </div>               <p>Convert response if prev dataType is non-auto and differs from current</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">prev</span> <span class="o">!==</span> <span class="s2">&quot;*&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">prev</span> <span class="o">!==</span> <span class="nx">current</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-831">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-831">&#182;</a>               </div>               <p>Seek a direct converter</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">conv</span> <span class="o">=</span> <span class="nx">converters</span><span class="p">[</span> <span class="nx">prev</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">current</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">converters</span><span class="p">[</span> <span class="s2">&quot;* &quot;</span> <span class="o">+</span> <span class="nx">current</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-832">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-832">&#182;</a>               </div>               <p>If none found, seek a pair</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">conv</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">for</span> <span class="p">(</span> <span class="nx">conv2</span> <span class="k">in</span> <span class="nx">converters</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-833">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-833">&#182;</a>               </div>               <p>If conv2 outputs current</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">tmp</span> <span class="o">=</span> <span class="nx">conv2</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">tmp</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">===</span> <span class="nx">current</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-834">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-834">&#182;</a>               </div>               <p>If prev can be converted to accepted input</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="nx">conv</span> <span class="o">=</span> <span class="nx">converters</span><span class="p">[</span> <span class="nx">prev</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">tmp</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">]</span> <span class="o">||</span>
								<span class="nx">converters</span><span class="p">[</span> <span class="s2">&quot;* &quot;</span> <span class="o">+</span> <span class="nx">tmp</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">];</span>
							<span class="k">if</span> <span class="p">(</span> <span class="nx">conv</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-835">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-835">&#182;</a>               </div>               <p>Condense equivalence converters</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="k">if</span> <span class="p">(</span> <span class="nx">conv</span> <span class="o">===</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
									<span class="nx">conv</span> <span class="o">=</span> <span class="nx">converters</span><span class="p">[</span> <span class="nx">conv2</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-836">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-836">&#182;</a>               </div>               <p>Otherwise, insert the intermediate dataType</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">converters</span><span class="p">[</span> <span class="nx">conv2</span> <span class="p">]</span> <span class="o">!==</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
									<span class="nx">current</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
									<span class="nx">dataTypes</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">i</span><span class="o">--</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">current</span> <span class="p">);</span>
								<span class="p">}</span>

								<span class="k">break</span><span class="p">;</span>
							<span class="p">}</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-837">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-837">&#182;</a>               </div>               <p>Apply converter (if not an equivalence)</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">conv</span> <span class="o">!==</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-838">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-838">&#182;</a>               </div>               <p>Unless errors are allowed to bubble, catch and return them</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">conv</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">[</span><span class="s2">&quot;throws&quot;</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">response</span> <span class="o">=</span> <span class="nx">conv</span><span class="p">(</span> <span class="nx">response</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="k">try</span> <span class="p">{</span>
							<span class="nx">response</span> <span class="o">=</span> <span class="nx">conv</span><span class="p">(</span> <span class="nx">response</span> <span class="p">);</span>
						<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">return</span> <span class="p">{</span> <span class="nx">state</span><span class="o">:</span> <span class="s2">&quot;parsererror&quot;</span><span class="p">,</span> <span class="nx">error</span><span class="o">:</span> <span class="nx">conv</span> <span class="o">?</span> <span class="nx">e</span> <span class="o">:</span> <span class="s2">&quot;No conversion from &quot;</span> <span class="o">+</span> <span class="nx">prev</span> <span class="o">+</span> <span class="s2">&quot; to &quot;</span> <span class="o">+</span> <span class="nx">current</span> <span class="p">};</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-839">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-839">&#182;</a>               </div>               <p>Update prev for next iteration</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">prev</span> <span class="o">=</span> <span class="nx">current</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="p">{</span> <span class="nx">state</span><span class="o">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">response</span> <span class="p">};</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">oldCallbacks</span> <span class="o">=</span> <span class="p">[],</span>
	<span class="nx">rquestion</span> <span class="o">=</span> <span class="sr">/\?/</span><span class="p">,</span>
	<span class="nx">rjsonp</span> <span class="o">=</span> <span class="sr">/(=)\?(?=&amp;|$)|\?\?/</span><span class="p">,</span>
	<span class="nx">nonce</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-840">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-840">&#182;</a>               </div>               <p>Default jsonp settings</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span>
	<span class="nx">jsonp</span><span class="o">:</span> <span class="s2">&quot;callback&quot;</span><span class="p">,</span>
	<span class="nx">jsonpCallback</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">oldCallbacks</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expando</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">nonce</span><span class="o">++</span> <span class="p">)</span> <span class="p">);</span>
		<span class="k">this</span><span class="p">[</span> <span class="nx">callback</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="k">return</span> <span class="nx">callback</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-841">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-841">&#182;</a>               </div>               <p>Detect, normalize options and install callbacks for jsonp requests</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxPrefilter</span><span class="p">(</span> <span class="s2">&quot;json jsonp&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">originalSettings</span><span class="p">,</span> <span class="nx">jqXHR</span> <span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">callbackName</span><span class="p">,</span> <span class="nx">overwritten</span><span class="p">,</span> <span class="nx">responseContainer</span><span class="p">,</span>
		<span class="nx">data</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span>
		<span class="nx">url</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
		<span class="nx">hasCallback</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">jsonp</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">,</span>
		<span class="nx">replaceInUrl</span> <span class="o">=</span> <span class="nx">hasCallback</span> <span class="o">&amp;&amp;</span> <span class="nx">rjsonp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">url</span> <span class="p">),</span>
		<span class="nx">replaceInData</span> <span class="o">=</span> <span class="nx">hasCallback</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">replaceInUrl</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">data</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">&amp;&amp;</span>
			<span class="o">!</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">contentType</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
			<span class="nx">rjsonp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-842">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-842">&#182;</a>               </div>               <p>Handle iff the expected data type is "jsonp" or we have a parameter to set</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">===</span> <span class="s2">&quot;jsonp&quot;</span> <span class="o">||</span> <span class="nx">replaceInUrl</span> <span class="o">||</span> <span class="nx">replaceInData</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-843">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-843">&#182;</a>               </div>               <p>Get callback name, remembering preexisting value associated with it</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">callbackName</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">jsonpCallback</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">jsonpCallback</span> <span class="p">)</span> <span class="o">?</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">()</span> <span class="o">:</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">;</span>
		<span class="nx">overwritten</span> <span class="o">=</span> <span class="nb">window</span><span class="p">[</span> <span class="nx">callbackName</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-844">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-844">&#182;</a>               </div>               <p>Insert callback into url or form data</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">replaceInUrl</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rjsonp</span><span class="p">,</span> <span class="s2">&quot;$1&quot;</span> <span class="o">+</span> <span class="nx">callbackName</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">replaceInData</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">rjsonp</span><span class="p">,</span> <span class="s2">&quot;$1&quot;</span> <span class="o">+</span> <span class="nx">callbackName</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">hasCallback</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">s</span><span class="p">.</span><span class="nx">url</span> <span class="o">+=</span> <span class="p">(</span> <span class="nx">rquestion</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">url</span> <span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;&amp;&quot;</span> <span class="o">:</span> <span class="s2">&quot;?&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">jsonp</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="nx">callbackName</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-845">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-845">&#182;</a>               </div>               <p>Use data converter to retrieve json after script execution</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span><span class="s2">&quot;script json&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">responseContainer</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="nx">callbackName</span> <span class="o">+</span> <span class="s2">&quot; was not called&quot;</span> <span class="p">);</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">responseContainer</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
		<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-846">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-846">&#182;</a>               </div>               <p>force json dataType</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">s</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;json&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-847">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-847">&#182;</a>               </div>               <p>Install callback</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nb">window</span><span class="p">[</span> <span class="nx">callbackName</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">responseContainer</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span>
		<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-848">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-848">&#182;</a>               </div>               <p>Clean-up function (fires after converters)</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jqXHR</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-849">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-849">&#182;</a>               </div>               <p>Restore preexisting value</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nb">window</span><span class="p">[</span> <span class="nx">callbackName</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">overwritten</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-850">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-850">&#182;</a>               </div>               <p>Save back as free</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">[</span> <span class="nx">callbackName</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-851">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-851">&#182;</a>               </div>               <p>make sure that re-using the options doesn't screw things around</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">s</span><span class="p">.</span><span class="nx">jsonpCallback</span> <span class="o">=</span> <span class="nx">originalSettings</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-852">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-852">&#182;</a>               </div>               <p>save the callback name for future use</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">oldCallbacks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">callbackName</span> <span class="p">);</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-853">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-853">&#182;</a>               </div>               <p>Call if it was a function and we have a response</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">responseContainer</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">overwritten</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">overwritten</span><span class="p">(</span> <span class="nx">responseContainer</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="nx">responseContainer</span> <span class="o">=</span> <span class="nx">overwritten</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-854">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-854">&#182;</a>               </div>               <p>Delegate to script</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="s2">&quot;script&quot;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-855">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-855">&#182;</a>               </div>               <p>Install script dataType</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span>
	<span class="nx">accepts</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">script</span><span class="o">:</span> <span class="s2">&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;</span>
	<span class="p">},</span>
	<span class="nx">contents</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">script</span><span class="o">:</span> <span class="sr">/javascript|ecmascript/</span>
	<span class="p">},</span>
	<span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;text script&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">globalEval</span><span class="p">(</span> <span class="nx">text</span> <span class="p">);</span>
			<span class="k">return</span> <span class="nx">text</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-856">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-856">&#182;</a>               </div>               <p>Handle cache's special case and global</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxPrefilter</span><span class="p">(</span> <span class="s2">&quot;script&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">s</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">cache</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">s</span><span class="p">.</span><span class="nx">cache</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;GET&quot;</span><span class="p">;</span>
		<span class="nx">s</span><span class="p">.</span><span class="nx">global</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-857">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-857">&#182;</a>               </div>               <p>Bind script tag hack transport</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxTransport</span><span class="p">(</span> <span class="s2">&quot;script&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-858">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-858">&#182;</a>               </div>               <p>This transport only deals with cross domain requests</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="p">)</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">script</span><span class="p">,</span>
			<span class="nx">head</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">head</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span> <span class="s2">&quot;head&quot;</span> <span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span>

		<span class="k">return</span> <span class="p">{</span>

			<span class="nx">send</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>

				<span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="s2">&quot;script&quot;</span> <span class="p">);</span>

				<span class="nx">script</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="s2">&quot;async&quot;</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">scriptCharset</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">script</span><span class="p">.</span><span class="nx">charset</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">scriptCharset</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="nx">script</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-859">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-859">&#182;</a>               </div>               <p>Attach handlers for all browsers</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">isAbort</span> <span class="p">)</span> <span class="p">{</span>

					<span class="k">if</span> <span class="p">(</span> <span class="nx">isAbort</span> <span class="o">||</span> <span class="o">!</span><span class="nx">script</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">||</span> <span class="sr">/loaded|complete/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">script</span><span class="p">.</span><span class="nx">readyState</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-860">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-860">&#182;</a>               </div>               <p>Handle memory leak in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-861">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-861">&#182;</a>               </div>               <p>Remove the script</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">head</span> <span class="o">&amp;&amp;</span> <span class="nx">script</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">head</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span> <span class="nx">script</span> <span class="p">);</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-862">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-862">&#182;</a>               </div>               <p>Dereference the script</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">script</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-863">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-863">&#182;</a>               </div>               <p>Callback if not abort</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isAbort</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">callback</span><span class="p">(</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;success&quot;</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-864">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-864">&#182;</a>               </div>               <p>Use insertBefore instead of appendChild  to circumvent an IE6 bug.
This arises when a base node is used (#2709 and #4378).</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">head</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">script</span><span class="p">,</span> <span class="nx">head</span><span class="p">.</span><span class="nx">firstChild</span> <span class="p">);</span>
			<span class="p">},</span>

			<span class="nx">abort</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">script</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">script</span><span class="p">.</span><span class="nx">onload</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">};</span>
	<span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">xhrCallbacks</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-865">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-865">&#182;</a>               </div>               <h1>5280: Internet Explorer will keep connections alive if we don't abort on unload</h1>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">xhrOnUnloadAbort</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ActiveXObject</span> <span class="o">?</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-866">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-866">&#182;</a>               </div>               <p>Abort all pending requests</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">xhrCallbacks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">xhrCallbacks</span><span class="p">[</span> <span class="nx">key</span> <span class="p">](</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
	<span class="nx">xhrId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-867">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-867">&#182;</a>               </div>               <p>Functions to create xhrs</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">createStandardXHR</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">try</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nb">window</span><span class="p">.</span><span class="nx">XMLHttpRequest</span><span class="p">();</span>
	<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createActiveXHR</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">try</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ActiveXObject</span><span class="p">(</span> <span class="s2">&quot;Microsoft.XMLHTTP&quot;</span> <span class="p">);</span>
	<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-868">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-868">&#182;</a>               </div>               <p>Create the request object
(This is still attached to ajaxSettings for backward compatibility)</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">xhr</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ActiveXObject</span> <span class="o">?</span>
	<span class="cm">/* Microsoft failed to properly</span>
<span class="cm">	 * implement the XMLHttpRequest in IE7 (can&#39;t request local files),</span>
<span class="cm">	 * so we use the ActiveXObject when it is available</span>
<span class="cm">	 * Additionally XMLHttpRequest can be disabled in IE7/IE8 so</span>
<span class="cm">	 * we need a fallback.</span>
<span class="cm">	 */</span>
	<span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isLocal</span> <span class="o">&amp;&amp;</span> <span class="nx">createStandardXHR</span><span class="p">()</span> <span class="o">||</span> <span class="nx">createActiveXHR</span><span class="p">();</span>
	<span class="p">}</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-869">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-869">&#182;</a>               </div>               <p>For all other browsers, use the standard XMLHttpRequest object</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">createStandardXHR</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-870">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-870">&#182;</a>               </div>               <p>Determine support properties</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">xhr</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">ajax</span><span class="o">:</span> <span class="o">!!</span><span class="nx">xhr</span><span class="p">,</span>
		<span class="nx">cors</span><span class="o">:</span> <span class="o">!!</span><span class="nx">xhr</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="s2">&quot;withCredentials&quot;</span> <span class="k">in</span> <span class="nx">xhr</span> <span class="p">)</span>
	<span class="p">});</span>
<span class="p">})(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">xhr</span><span class="p">()</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-871">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-871">&#182;</a>               </div>               <p>Create transport if the browser can provide an xhr</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">ajax</span> <span class="p">)</span> <span class="p">{</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajaxTransport</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">s</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-872">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-872">&#182;</a>               </div>               <p>Cross domain only allowed if supported through XMLHttpRequest</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cors</span> <span class="p">)</span> <span class="p">{</span>

			<span class="kd">var</span> <span class="nx">callback</span><span class="p">;</span>

			<span class="k">return</span> <span class="p">{</span>
				<span class="nx">send</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">headers</span><span class="p">,</span> <span class="nx">complete</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-873">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-873">&#182;</a>               </div>               <p>Get a new xhr</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="kd">var</span> <span class="nx">handle</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span>
						<span class="nx">xhr</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">xhr</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-874">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-874">&#182;</a>               </div>               <p>Open the socket
Passing null username, generates a login popup on Opera (#2865)</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">username</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">async</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">password</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="p">);</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-875">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-875">&#182;</a>               </div>               <p>Apply custom fields if provided</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">xhrFields</span> <span class="p">)</span> <span class="p">{</span>
						<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">s</span><span class="p">.</span><span class="nx">xhrFields</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">xhr</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">xhrFields</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>
						<span class="p">}</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-876">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-876">&#182;</a>               </div>               <p>Override mime type if needed</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">mimeType</span> <span class="o">&amp;&amp;</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">overrideMimeType</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">xhr</span><span class="p">.</span><span class="nx">overrideMimeType</span><span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">mimeType</span> <span class="p">);</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-877">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-877">&#182;</a>               </div>               <p>X-Requested-With header
For cross-domain requests, seeing as conditions for a preflight are
akin to a jigsaw puzzle, we simply never set it to be sure.
(it can always be set on a per-request basis or even using ajaxSetup)
For same-domain requests, won't change header if already provided.</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;X-Requested-With&quot;</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">headers</span><span class="p">[</span> <span class="s2">&quot;X-Requested-With&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;XMLHttpRequest&quot;</span><span class="p">;</span>
					<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-878">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-878">&#182;</a>               </div>               <p>Need an extra try/catch for cross domain requests in Firefox 3</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">try</span> <span class="p">{</span>
						<span class="k">for</span> <span class="p">(</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">headers</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">headers</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">_</span> <span class="p">)</span> <span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-879">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-879">&#182;</a>               </div>               <p>Do send the request
This may raise an exception which is actually
handled in jQuery.ajax (so no try/catch here)</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span> <span class="p">(</span> <span class="nx">s</span><span class="p">.</span><span class="nx">hasContent</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">data</span> <span class="p">)</span> <span class="o">||</span> <span class="kc">null</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-880">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-880">&#182;</a>               </div>               <p>Listener</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">callback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">isAbort</span> <span class="p">)</span> <span class="p">{</span>

						<span class="kd">var</span> <span class="nx">status</span><span class="p">,</span>
							<span class="nx">statusText</span><span class="p">,</span>
							<span class="nx">responseHeaders</span><span class="p">,</span>
							<span class="nx">responses</span><span class="p">,</span>
							<span class="nx">xml</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-881">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-881">&#182;</a>               </div>               <p>Firefox throws exceptions when accessing properties
of an xhr when a network error occurred
http://helpful.knobs-dials.com/index.php/Component<em>returned</em>failure<em>code:</em>0x80040111<em>(NS</em>ERROR<em>NOT</em>AVAILABLE)</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">try</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-882">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-882">&#182;</a>               </div>               <p>Was never called and is aborted or complete</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">isAbort</span> <span class="o">||</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-883">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-883">&#182;</a>               </div>               <p>Only called once</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="nx">callback</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-884">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-884">&#182;</a>               </div>               <p>Do not keep as active anymore</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="k">if</span> <span class="p">(</span> <span class="nx">handle</span> <span class="p">)</span> <span class="p">{</span>
									<span class="nx">xhr</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">noop</span><span class="p">;</span>
									<span class="k">if</span> <span class="p">(</span> <span class="nx">xhrOnUnloadAbort</span> <span class="p">)</span> <span class="p">{</span>
										<span class="k">delete</span> <span class="nx">xhrCallbacks</span><span class="p">[</span> <span class="nx">handle</span> <span class="p">];</span>
									<span class="p">}</span>
								<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-885">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-885">&#182;</a>               </div>               <p>If it's an abort</p>             </td>             <td class="code">               <div class="highlight"><pre>								<span class="k">if</span> <span class="p">(</span> <span class="nx">isAbort</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-886">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-886">&#182;</a>               </div>               <p>Abort it manually if needed</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="k">if</span> <span class="p">(</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!==</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span>
										<span class="nx">xhr</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span>
									<span class="p">}</span>
								<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
									<span class="nx">status</span> <span class="o">=</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">status</span><span class="p">;</span>
									<span class="nx">responseHeaders</span> <span class="o">=</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">();</span>
									<span class="nx">responses</span> <span class="o">=</span> <span class="p">{};</span>
									<span class="nx">xml</span> <span class="o">=</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">responseXML</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-887">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-887">&#182;</a>               </div>               <p>Construct response list</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="k">if</span> <span class="p">(</span> <span class="nx">xml</span> <span class="o">&amp;&amp;</span> <span class="nx">xml</span><span class="p">.</span><span class="nx">documentElement</span> <span class="cm">/* #4958 */</span> <span class="p">)</span> <span class="p">{</span>
										<span class="nx">responses</span><span class="p">.</span><span class="nx">xml</span> <span class="o">=</span> <span class="nx">xml</span><span class="p">;</span>
									<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-888">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-888">&#182;</a>               </div>               <p>When requesting binary data, IE6-9 will throw an exception
on any attempt to access responseText (#11426)</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="k">try</span> <span class="p">{</span>
										<span class="nx">responses</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
									<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">_</span> <span class="p">)</span> <span class="p">{</span>
									<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-889">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-889">&#182;</a>               </div>               <p>Firefox throws an exception when accessing
statusText for faulty cross-domain requests</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="k">try</span> <span class="p">{</span>
										<span class="nx">statusText</span> <span class="o">=</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">statusText</span><span class="p">;</span>
									<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-890">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-890">&#182;</a>               </div>               <p>We normalize with Webkit giving an empty statusText</p>             </td>             <td class="code">               <div class="highlight"><pre>										<span class="nx">statusText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
									<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-891">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-891">&#182;</a>               </div>               <p>Filter status for non standard behaviors</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-892">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-892">&#182;</a>               </div>               <p>If the request is local and we have data: assume a success
(success with no data won't get notified, that's the best we
can do given current implementations)</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">status</span> <span class="o">&amp;&amp;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">isLocal</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">crossDomain</span> <span class="p">)</span> <span class="p">{</span>
										<span class="nx">status</span> <span class="o">=</span> <span class="nx">responses</span><span class="p">.</span><span class="nx">text</span> <span class="o">?</span> <span class="mi">200</span> <span class="o">:</span> <span class="mi">404</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-893">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-893">&#182;</a>               </div>               <p>IE - #1450: sometimes returns 1223 when it should be 204</p>             </td>             <td class="code">               <div class="highlight"><pre>									<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">status</span> <span class="o">===</span> <span class="mi">1223</span> <span class="p">)</span> <span class="p">{</span>
										<span class="nx">status</span> <span class="o">=</span> <span class="mi">204</span><span class="p">;</span>
									<span class="p">}</span>
								<span class="p">}</span>
							<span class="p">}</span>
						<span class="p">}</span> <span class="k">catch</span><span class="p">(</span> <span class="nx">firefoxAccessException</span> <span class="p">)</span> <span class="p">{</span>
							<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isAbort</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">complete</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">firefoxAccessException</span> <span class="p">);</span>
							<span class="p">}</span>
						<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-894">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-894">&#182;</a>               </div>               <p>Call complete if needed</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="k">if</span> <span class="p">(</span> <span class="nx">responses</span> <span class="p">)</span> <span class="p">{</span>
							<span class="nx">complete</span><span class="p">(</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">statusText</span><span class="p">,</span> <span class="nx">responses</span><span class="p">,</span> <span class="nx">responseHeaders</span> <span class="p">);</span>
						<span class="p">}</span>
					<span class="p">};</span>

					<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-895">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-895">&#182;</a>               </div>               <p>if we're in sync mode we fire the callback</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">callback</span><span class="p">();</span>
					<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-896">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-896">&#182;</a>               </div>               <p>(IE6 &amp; IE7) if it's in cache and has been
retrieved directly we need to fire the callback</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">setTimeout</span><span class="p">(</span> <span class="nx">callback</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span>
					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
						<span class="nx">handle</span> <span class="o">=</span> <span class="o">++</span><span class="nx">xhrId</span><span class="p">;</span>
						<span class="k">if</span> <span class="p">(</span> <span class="nx">xhrOnUnloadAbort</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-897">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-897">&#182;</a>               </div>               <p>Create the active xhrs callbacks list if needed
and attach the unload handler</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">xhrCallbacks</span> <span class="p">)</span> <span class="p">{</span>
								<span class="nx">xhrCallbacks</span> <span class="o">=</span> <span class="p">{};</span>
								<span class="nx">jQuery</span><span class="p">(</span> <span class="nb">window</span> <span class="p">).</span><span class="nx">unload</span><span class="p">(</span> <span class="nx">xhrOnUnloadAbort</span> <span class="p">);</span>
							<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-898">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-898">&#182;</a>               </div>               <p>Add to list of active xhrs callbacks</p>             </td>             <td class="code">               <div class="highlight"><pre>							<span class="nx">xhrCallbacks</span><span class="p">[</span> <span class="nx">handle</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>
						<span class="p">}</span>
						<span class="nx">xhr</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">},</span>

				<span class="nx">abort</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">callback</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">};</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">fxNow</span><span class="p">,</span> <span class="nx">timerId</span><span class="p">,</span>
	<span class="nx">rfxtypes</span> <span class="o">=</span> <span class="sr">/^(?:toggle|show|hide)$/</span><span class="p">,</span>
	<span class="nx">rfxnum</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s2">&quot;^(?:([-+])=|)(&quot;</span> <span class="o">+</span> <span class="nx">core_pnum</span> <span class="o">+</span> <span class="s2">&quot;)([a-z%]*)$&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span> <span class="p">),</span>
	<span class="nx">rrun</span> <span class="o">=</span> <span class="sr">/queueHooks$/</span><span class="p">,</span>
	<span class="nx">animationPrefilters</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">defaultPrefilter</span> <span class="p">],</span>
	<span class="nx">tweeners</span> <span class="o">=</span> <span class="p">{</span>
		<span class="s2">&quot;*&quot;</span><span class="o">:</span> <span class="p">[</span><span class="kd">function</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">unit</span><span class="p">,</span> <span class="nx">prevScale</span><span class="p">,</span>
				<span class="nx">tween</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">createTween</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span> <span class="p">),</span>
				<span class="nx">parts</span> <span class="o">=</span> <span class="nx">rfxnum</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">value</span> <span class="p">),</span>
				<span class="nx">target</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">cur</span><span class="p">(),</span>
				<span class="nx">start</span> <span class="o">=</span> <span class="o">+</span><span class="nx">target</span> <span class="o">||</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">parts</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">end</span> <span class="o">=</span> <span class="o">+</span><span class="nx">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
				<span class="nx">unit</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="s2">&quot;px&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-899">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-899">&#182;</a>               </div>               <p>We need to compute starting value</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">unit</span> <span class="o">!==</span> <span class="s2">&quot;px&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">start</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-900">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-900">&#182;</a>               </div>               <p>Iteratively approximate from a nonzero starting point
Prefer the current property, because this process will be trivial if it uses the same units
Fallback to end or a simple constant</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">start</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="kc">true</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">end</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>

					<span class="k">do</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-901">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-901">&#182;</a>               </div>               <p>If previous iteration zeroed out, double until we get <em>something</em>
Use a string for doubling factor so we don't accidentally see scale as unchanged below</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">prevScale</span> <span class="o">=</span> <span class="nx">scale</span> <span class="o">=</span> <span class="nx">scale</span> <span class="o">||</span> <span class="s2">&quot;.5&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-902">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-902">&#182;</a>               </div>               <p>Adjust and apply</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">start</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">/</span> <span class="nx">scale</span><span class="p">;</span>
						<span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">unit</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-903">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-903">&#182;</a>               </div>               <p>Update scale, tolerating zeroes from tween.cur()</p>             </td>             <td class="code">               <div class="highlight"><pre>						<span class="nx">scale</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">cur</span><span class="p">()</span> <span class="o">/</span> <span class="nx">target</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-904">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-904">&#182;</a>               </div>               <p>Stop looping if we've hit the mark or scale is unchanged</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="nx">scale</span> <span class="o">!==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">scale</span> <span class="o">!==</span> <span class="nx">prevScale</span> <span class="p">);</span>
				<span class="p">}</span>

				<span class="nx">tween</span><span class="p">.</span><span class="nx">unit</span> <span class="o">=</span> <span class="nx">unit</span><span class="p">;</span>
				<span class="nx">tween</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-905">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-905">&#182;</a>               </div>               <p>If a +=/-= token was provided, we're doing a relative animation</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="nx">tween</span><span class="p">.</span><span class="nx">end</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">?</span> <span class="nx">start</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">*</span> <span class="nx">end</span> <span class="o">:</span> <span class="nx">end</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">tween</span><span class="p">;</span>
		<span class="p">}]</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-906">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-906">&#182;</a>               </div>               <p>Animations created synchronously will run synchronously</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">createFxNow</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">fxNow</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
	<span class="p">},</span> <span class="mi">0</span> <span class="p">);</span>
	<span class="k">return</span> <span class="p">(</span> <span class="nx">fxNow</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createTweens</span><span class="p">(</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">props</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">collection</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">tweeners</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">||</span> <span class="p">[]</span> <span class="p">).</span><span class="nx">concat</span><span class="p">(</span> <span class="nx">tweeners</span><span class="p">[</span> <span class="s2">&quot;*&quot;</span> <span class="p">]</span> <span class="p">),</span>
			<span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">collection</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">call</span><span class="p">(</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-907">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-907">&#182;</a>               </div>               <p>we're done with this property</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">return</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Animation</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">properties</span><span class="p">,</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">result</span><span class="p">,</span>
		<span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">tweenerIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">length</span> <span class="o">=</span> <span class="nx">animationPrefilters</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
		<span class="nx">deferred</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">().</span><span class="nx">always</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-908">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-908">&#182;</a>               </div>               <p>don't match elem in the :animated selector</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">delete</span> <span class="nx">tick</span><span class="p">.</span><span class="nx">elem</span><span class="p">;</span>
		<span class="p">}),</span>
		<span class="nx">tick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">currentTime</span> <span class="o">=</span> <span class="nx">fxNow</span> <span class="o">||</span> <span class="nx">createFxNow</span><span class="p">(),</span>
				<span class="nx">remaining</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">startTime</span> <span class="o">+</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">duration</span> <span class="o">-</span> <span class="nx">currentTime</span> <span class="p">),</span>
				<span class="nx">percent</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">remaining</span> <span class="o">/</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">duration</span> <span class="o">||</span> <span class="mi">0</span> <span class="p">),</span>
				<span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">length</span> <span class="o">=</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">tweens</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

			<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">animation</span><span class="p">.</span><span class="nx">tweens</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">run</span><span class="p">(</span> <span class="nx">percent</span> <span class="p">);</span>
			<span class="p">}</span>

			<span class="nx">deferred</span><span class="p">.</span><span class="nx">notifyWith</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="p">[</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">percent</span><span class="p">,</span> <span class="nx">remaining</span> <span class="p">]);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">percent</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">remaining</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">deferred</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="p">[</span> <span class="nx">animation</span> <span class="p">]</span> <span class="p">);</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">},</span>
		<span class="nx">animation</span> <span class="o">=</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">({</span>
			<span class="nx">elem</span><span class="o">:</span> <span class="nx">elem</span><span class="p">,</span>
			<span class="nx">props</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">properties</span> <span class="p">),</span>
			<span class="nx">opts</span><span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="p">{</span> <span class="nx">specialEasing</span><span class="o">:</span> <span class="p">{}</span> <span class="p">},</span> <span class="nx">options</span> <span class="p">),</span>
			<span class="nx">originalProperties</span><span class="o">:</span> <span class="nx">properties</span><span class="p">,</span>
			<span class="nx">originalOptions</span><span class="o">:</span> <span class="nx">options</span><span class="p">,</span>
			<span class="nx">startTime</span><span class="o">:</span> <span class="nx">fxNow</span> <span class="o">||</span> <span class="nx">createFxNow</span><span class="p">(),</span>
			<span class="nx">duration</span><span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span>
			<span class="nx">tweens</span><span class="o">:</span> <span class="p">[],</span>
			<span class="nx">createTween</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">easing</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">tween</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Tween</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span>
						<span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">specialEasing</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">easing</span> <span class="p">);</span>
				<span class="nx">animation</span><span class="p">.</span><span class="nx">tweens</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">tween</span> <span class="p">);</span>
				<span class="k">return</span> <span class="nx">tween</span><span class="p">;</span>
			<span class="p">},</span>
			<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">gotoEnd</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-909">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-909">&#182;</a>               </div>               <p>if we are going to the end, we want to run all the tweens
otherwise we skip this part</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">length</span> <span class="o">=</span> <span class="nx">gotoEnd</span> <span class="o">?</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">tweens</span><span class="p">.</span><span class="nx">length</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

				<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">animation</span><span class="p">.</span><span class="nx">tweens</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">run</span><span class="p">(</span> <span class="mi">1</span> <span class="p">);</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-910">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-910">&#182;</a>               </div>               <p>resolve when we played the last frame
otherwise, reject</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">gotoEnd</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">deferred</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="p">[</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">gotoEnd</span> <span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">deferred</span><span class="p">.</span><span class="nx">rejectWith</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="p">[</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">gotoEnd</span> <span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}),</span>
		<span class="nx">props</span> <span class="o">=</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span>

	<span class="nx">propFilter</span><span class="p">(</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">specialEasing</span> <span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">result</span> <span class="o">=</span> <span class="nx">animationPrefilters</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">call</span><span class="p">(</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span> <span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">result</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="nx">createTweens</span><span class="p">(</span> <span class="nx">animation</span><span class="p">,</span> <span class="nx">props</span> <span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">start</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">start</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">animation</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">timer</span><span class="p">(</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">tick</span><span class="p">,</span> <span class="p">{</span>
			<span class="nx">anim</span><span class="o">:</span> <span class="nx">animation</span><span class="p">,</span>
			<span class="nx">queue</span><span class="o">:</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">queue</span><span class="p">,</span>
			<span class="nx">elem</span><span class="o">:</span> <span class="nx">elem</span>
		<span class="p">})</span>
	<span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-911">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-911">&#182;</a>               </div>               <p>attach callbacks from options</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">return</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">progress</span><span class="p">(</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">progress</span> <span class="p">)</span>
		<span class="p">.</span><span class="nx">done</span><span class="p">(</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">done</span><span class="p">,</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span> <span class="p">)</span>
		<span class="p">.</span><span class="nx">fail</span><span class="p">(</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">fail</span> <span class="p">)</span>
		<span class="p">.</span><span class="nx">always</span><span class="p">(</span> <span class="nx">animation</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">always</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">propFilter</span><span class="p">(</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">specialEasing</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-912">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-912">&#182;</a>               </div>               <p>camelCase, specialEasing and expand cssHook pass</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="k">in</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">name</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span> <span class="nx">index</span> <span class="p">);</span>
		<span class="nx">easing</span> <span class="o">=</span> <span class="nx">specialEasing</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="nx">value</span> <span class="o">=</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">easing</span> <span class="o">=</span> <span class="nx">value</span><span class="p">[</span> <span class="mi">1</span> <span class="p">];</span>
			<span class="nx">value</span> <span class="o">=</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">!==</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">props</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
			<span class="k">delete</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
		<span class="p">}</span>

		<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="s2">&quot;expand&quot;</span> <span class="k">in</span> <span class="nx">hooks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">value</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
			<span class="k">delete</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-913">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-913">&#182;</a>               </div>               <p>not quite $.extend, this wont overwrite keys already present.
also - reusing 'index' from above because we have the correct "name"</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="k">in</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="nx">index</span> <span class="k">in</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
					<span class="nx">specialEasing</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">easing</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">specialEasing</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">easing</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">Animation</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">Animation</span><span class="p">,</span> <span class="p">{</span>

	<span class="nx">tweener</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">callback</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
			<span class="nx">props</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;*&quot;</span> <span class="p">];</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">props</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">prop</span><span class="p">,</span>
			<span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
			<span class="nx">length</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">prop</span> <span class="o">=</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
			<span class="nx">tweeners</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">tweeners</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">||</span> <span class="p">[];</span>
			<span class="nx">tweeners</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">].</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">callback</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="nx">prefilter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">prepend</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">prepend</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">animationPrefilters</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">callback</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">animationPrefilters</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">callback</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">defaultPrefilter</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">opts</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">dataShow</span><span class="p">,</span> <span class="nx">tween</span><span class="p">,</span> <span class="nx">hooks</span><span class="p">,</span> <span class="nx">oldfire</span><span class="p">,</span>
		<span class="nx">anim</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
		<span class="nx">style</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span>
		<span class="nx">orig</span> <span class="o">=</span> <span class="p">{},</span>
		<span class="nx">handled</span> <span class="o">=</span> <span class="p">[],</span>
		<span class="nx">hidden</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">&amp;&amp;</span> <span class="nx">isHidden</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-914">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-914">&#182;</a>               </div>               <p>handle queue: false promises</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">queue</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_queueHooks</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;fx&quot;</span> <span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">unqueued</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">unqueued</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">oldfire</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">empty</span><span class="p">.</span><span class="nx">fire</span><span class="p">;</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">empty</span><span class="p">.</span><span class="nx">fire</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">unqueued</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">oldfire</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">};</span>
		<span class="p">}</span>
		<span class="nx">hooks</span><span class="p">.</span><span class="nx">unqueued</span><span class="o">++</span><span class="p">;</span>

		<span class="nx">anim</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-915">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-915">&#182;</a>               </div>               <p>doing this makes sure that the complete handler will be called
before this completes</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">anim</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">hooks</span><span class="p">.</span><span class="nx">unqueued</span><span class="o">--</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;fx&quot;</span> <span class="p">).</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">hooks</span><span class="p">.</span><span class="nx">empty</span><span class="p">.</span><span class="nx">fire</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">});</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-916">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-916">&#182;</a>               </div>               <p>height/width overflow pass</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="s2">&quot;height&quot;</span> <span class="k">in</span> <span class="nx">props</span> <span class="o">||</span> <span class="s2">&quot;width&quot;</span> <span class="k">in</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-917">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-917">&#182;</a>               </div>               <p>Make sure that nothing sneaks out
Record all 3 overflow attributes because IE does not
change the overflow attribute when overflowX and
overflowY are set to the same value</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">opts</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span><span class="p">,</span> <span class="nx">style</span><span class="p">.</span><span class="nx">overflowX</span><span class="p">,</span> <span class="nx">style</span><span class="p">.</span><span class="nx">overflowY</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-918">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-918">&#182;</a>               </div>               <p>Set display property to inline-block for height/width
animations on inline elements that are having width/height animated</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;inline&quot;</span> <span class="o">&amp;&amp;</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;float&quot;</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-919">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-919">&#182;</a>               </div>               <p>inline-level elements accept inline-block;
block-level elements need to be inline with layout</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">inlineBlockNeedsLayout</span> <span class="o">||</span> <span class="nx">css_defaultDisplay</span><span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;inline&quot;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s2">&quot;inline-block&quot;</span><span class="p">;</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">overflow</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="s2">&quot;hidden&quot;</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">shrinkWrapBlocks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">anim</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">overflow</span><span class="p">[</span> <span class="mi">0</span> <span class="p">];</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">overflowX</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">overflow</span><span class="p">[</span> <span class="mi">1</span> <span class="p">];</span>
				<span class="nx">style</span><span class="p">.</span><span class="nx">overflowY</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">overflow</span><span class="p">[</span> <span class="mi">2</span> <span class="p">];</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-920">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-920">&#182;</a>               </div>               <p>show/hide pass</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="k">in</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">value</span> <span class="o">=</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">rfxtypes</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">delete</span> <span class="nx">props</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
			<span class="k">if</span> <span class="p">(</span> <span class="nx">value</span> <span class="o">===</span> <span class="p">(</span> <span class="nx">hidden</span> <span class="o">?</span> <span class="s2">&quot;hide&quot;</span> <span class="o">:</span> <span class="s2">&quot;show&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">handled</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">index</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="nx">length</span> <span class="o">=</span> <span class="nx">handled</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">dataShow</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;fxshow&quot;</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;fxshow&quot;</span><span class="p">,</span> <span class="p">{}</span> <span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">hidden</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">anim</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="nx">anim</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">prop</span><span class="p">;</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;fxshow&quot;</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
			<span class="k">for</span> <span class="p">(</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">orig</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">orig</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
		<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">;</span> <span class="nx">index</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">prop</span> <span class="o">=</span> <span class="nx">handled</span><span class="p">[</span> <span class="nx">index</span> <span class="p">];</span>
			<span class="nx">tween</span> <span class="o">=</span> <span class="nx">anim</span><span class="p">.</span><span class="nx">createTween</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">hidden</span> <span class="o">?</span> <span class="nx">dataShow</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">:</span> <span class="mi">0</span> <span class="p">);</span>
			<span class="nx">orig</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">dataShow</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">prop</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">dataShow</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">dataShow</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">hidden</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">tween</span><span class="p">.</span><span class="nx">end</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>
					<span class="nx">tween</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="nx">prop</span> <span class="o">===</span> <span class="s2">&quot;width&quot;</span> <span class="o">||</span> <span class="nx">prop</span> <span class="o">===</span> <span class="s2">&quot;height&quot;</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Tween</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">easing</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="k">new</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">easing</span> <span class="p">);</span>
<span class="p">}</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">Tween</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">;</span>

<span class="nx">Tween</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">constructor</span><span class="o">:</span> <span class="nx">Tween</span><span class="p">,</span>
	<span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">end</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">unit</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="nx">prop</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">easing</span> <span class="o">=</span> <span class="nx">easing</span> <span class="o">||</span> <span class="s2">&quot;swing&quot;</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">now</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">cur</span><span class="p">();</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">end</span> <span class="o">=</span> <span class="nx">end</span><span class="p">;</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">unit</span> <span class="o">=</span> <span class="nx">unit</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">?</span> <span class="s2">&quot;&quot;</span> <span class="o">:</span> <span class="s2">&quot;px&quot;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">cur</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">hooks</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">prop</span> <span class="p">];</span>

		<span class="k">return</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span> <span class="o">?</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="k">this</span> <span class="p">)</span> <span class="o">:</span>
			<span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">_default</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">run</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">percent</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">eased</span><span class="p">,</span>
			<span class="nx">hooks</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">prop</span> <span class="p">];</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">pos</span> <span class="o">=</span> <span class="nx">eased</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">easing</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">easing</span> <span class="p">](</span> <span class="nx">percent</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span> <span class="o">*</span> <span class="nx">percent</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span> <span class="p">);</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">now</span> <span class="o">=</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="p">)</span> <span class="o">*</span> <span class="nx">eased</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">step</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="p">,</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">hooks</span> <span class="o">&amp;&amp;</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">hooks</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">_default</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">Tween</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">_default</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">tween</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="o">!</span><span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="o">||</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">];</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-921">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-921">&#182;</a>               </div>               <p>passing any value as a 4th parameter to .css will automatically
attempt a parseFloat and fallback to a string if the parse fails
so, simple values such as "10px" are parsed to Float.
complex values such as "rotate(1rad)" are returned as is.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="nx">result</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-922">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-922">&#182;</a>               </div>               <p>Empty strings, null, undefined and "auto" are converted to 0.</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">return</span> <span class="o">!</span><span class="nx">result</span> <span class="o">||</span> <span class="nx">result</span> <span class="o">===</span> <span class="s2">&quot;auto&quot;</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">result</span><span class="p">;</span>
		<span class="p">},</span>
		<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">tween</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-923">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-923">&#182;</a>               </div>               <p>use step hook for back compat - use cssHook if its there - use .style if its
available and use plain properties where available</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">](</span> <span class="nx">tween</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">now</span> <span class="o">+</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">unit</span> <span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">now</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-924">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-924">&#182;</a>               </div>               <p>Remove in 2.0 - this supports IE8's panic based approach
to setting things on disconnected nodes</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">scrollLeft</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">tween</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">&amp;&amp;</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">tween</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">prop</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">tween</span><span class="p">.</span><span class="nx">now</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span> <span class="s2">&quot;toggle&quot;</span><span class="p">,</span> <span class="s2">&quot;show&quot;</span><span class="p">,</span> <span class="s2">&quot;hide&quot;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">name</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">cssFn</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">speed</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">speed</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span> <span class="o">||</span></pre></div>             </td>           </tr>                               <tr id="section-925">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-925">&#182;</a>               </div>               <p>special check for .toggle( handler, handler, ... )</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">(</span> <span class="o">!</span><span class="nx">i</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">speed</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">easing</span> <span class="p">)</span> <span class="p">)</span> <span class="o">?</span>
			<span class="nx">cssFn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">)</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span> <span class="nx">genFx</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="kc">true</span> <span class="p">),</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="nx">fadeTo</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-926">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-926">&#182;</a>               </div>               <p>show any hidden elements after setting opacity to 0</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">isHidden</span> <span class="p">).</span><span class="nx">css</span><span class="p">(</span> <span class="s2">&quot;opacity&quot;</span><span class="p">,</span> <span class="mi">0</span> <span class="p">).</span><span class="nx">show</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-927">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-927">&#182;</a>               </div>               <p>animate to the value specified</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="p">.</span><span class="nx">end</span><span class="p">().</span><span class="nx">animate</span><span class="p">({</span> <span class="nx">opacity</span><span class="o">:</span> <span class="nx">to</span> <span class="p">},</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">animate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">empty</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span> <span class="nx">prop</span> <span class="p">),</span>
			<span class="nx">optall</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">speed</span><span class="p">(</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">),</span>
			<span class="nx">doAnimation</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-928">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-928">&#182;</a>               </div>               <p>Operate on a copy of prop so per-property easing won't be lost</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="kd">var</span> <span class="nx">anim</span> <span class="o">=</span> <span class="nx">Animation</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">prop</span> <span class="p">),</span> <span class="nx">optall</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-929">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-929">&#182;</a>               </div>               <p>Empty animations resolve immediately</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">empty</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">anim</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span> <span class="kc">true</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">};</span>

		<span class="k">return</span> <span class="nx">empty</span> <span class="o">||</span> <span class="nx">optall</span><span class="p">.</span><span class="nx">queue</span> <span class="o">===</span> <span class="kc">false</span> <span class="o">?</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="nx">doAnimation</span> <span class="p">)</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">optall</span><span class="p">.</span><span class="nx">queue</span><span class="p">,</span> <span class="nx">doAnimation</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">clearQueue</span><span class="p">,</span> <span class="nx">gotoEnd</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">stopQueue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">hooks</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">stop</span> <span class="o">=</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">stop</span><span class="p">;</span>
			<span class="k">delete</span> <span class="nx">hooks</span><span class="p">.</span><span class="nx">stop</span><span class="p">;</span>
			<span class="nx">stop</span><span class="p">(</span> <span class="nx">gotoEnd</span> <span class="p">);</span>
		<span class="p">};</span>

		<span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">gotoEnd</span> <span class="o">=</span> <span class="nx">clearQueue</span><span class="p">;</span>
			<span class="nx">clearQueue</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
			<span class="nx">type</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">clearQueue</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">!==</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span> <span class="nx">type</span> <span class="o">||</span> <span class="s2">&quot;fx&quot;</span><span class="p">,</span> <span class="p">[]</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">dequeue</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
				<span class="nx">index</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">+</span> <span class="s2">&quot;queueHooks&quot;</span><span class="p">,</span>
				<span class="nx">timers</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span>
				<span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">stop</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">stopQueue</span><span class="p">(</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="k">in</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="p">(</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">stop</span> <span class="o">&amp;&amp;</span> <span class="nx">rrun</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
						<span class="nx">stopQueue</span><span class="p">(</span> <span class="nx">data</span><span class="p">[</span> <span class="nx">index</span> <span class="p">]</span> <span class="p">);</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="k">for</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">timers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">--</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">timers</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">elem</span> <span class="o">===</span> <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">type</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">timers</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">queue</span> <span class="o">===</span> <span class="nx">type</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">timers</span><span class="p">[</span> <span class="nx">index</span> <span class="p">].</span><span class="nx">anim</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span> <span class="nx">gotoEnd</span> <span class="p">);</span>
					<span class="nx">dequeue</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
					<span class="nx">timers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">index</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
				<span class="p">}</span>
			<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-930">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-930">&#182;</a>               </div>               <p>start the next in the queue if the last step wasn't forced
timers currently will call their complete callbacks, which will dequeue
but only if they were gotoEnd</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">if</span> <span class="p">(</span> <span class="nx">dequeue</span> <span class="o">||</span> <span class="o">!</span><span class="nx">gotoEnd</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">type</span> <span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-931">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-931">&#182;</a>               </div>               <p>Generate parameters to create a standard animation</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">function</span> <span class="nx">genFx</span><span class="p">(</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">includeWidth</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">which</span><span class="p">,</span>
		<span class="nx">attrs</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">height</span><span class="o">:</span> <span class="nx">type</span> <span class="p">},</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-932">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-932">&#182;</a>               </div>               <p>if we include width, step value is 1 to do all cssExpand values,
if we don't include width, step value is 2 to skip over Left and Right</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">for</span><span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">-</span> <span class="nx">includeWidth</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">which</span> <span class="o">=</span> <span class="nx">cssExpand</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span>
		<span class="nx">attrs</span><span class="p">[</span> <span class="s2">&quot;margin&quot;</span> <span class="o">+</span> <span class="nx">which</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">attrs</span><span class="p">[</span> <span class="s2">&quot;padding&quot;</span> <span class="o">+</span> <span class="nx">which</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">includeWidth</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">attrs</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span> <span class="nx">attrs</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">attrs</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-933">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-933">&#182;</a>               </div>               <p>Generate shortcuts for custom animations</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span>
	<span class="nx">slideDown</span><span class="o">:</span> <span class="nx">genFx</span><span class="p">(</span><span class="s2">&quot;show&quot;</span><span class="p">),</span>
	<span class="nx">slideUp</span><span class="o">:</span> <span class="nx">genFx</span><span class="p">(</span><span class="s2">&quot;hide&quot;</span><span class="p">),</span>
	<span class="nx">slideToggle</span><span class="o">:</span> <span class="nx">genFx</span><span class="p">(</span><span class="s2">&quot;toggle&quot;</span><span class="p">),</span>
	<span class="nx">fadeIn</span><span class="o">:</span> <span class="p">{</span> <span class="nx">opacity</span><span class="o">:</span> <span class="s2">&quot;show&quot;</span> <span class="p">},</span>
	<span class="nx">fadeOut</span><span class="o">:</span> <span class="p">{</span> <span class="nx">opacity</span><span class="o">:</span> <span class="s2">&quot;hide&quot;</span> <span class="p">},</span>
	<span class="nx">fadeToggle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">opacity</span><span class="o">:</span> <span class="s2">&quot;toggle&quot;</span> <span class="p">}</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span> <span class="nx">props</span><span class="p">,</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">callback</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">speed</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">speed</span><span class="p">,</span> <span class="nx">easing</span><span class="p">,</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">opt</span> <span class="o">=</span> <span class="nx">speed</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">speed</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">speed</span> <span class="p">)</span> <span class="o">:</span> <span class="p">{</span>
		<span class="nx">complete</span><span class="o">:</span> <span class="nx">fn</span> <span class="o">||</span> <span class="o">!</span><span class="nx">fn</span> <span class="o">&amp;&amp;</span> <span class="nx">easing</span> <span class="o">||</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">speed</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">speed</span><span class="p">,</span>
		<span class="nx">duration</span><span class="o">:</span> <span class="nx">speed</span><span class="p">,</span>
		<span class="nx">easing</span><span class="o">:</span> <span class="nx">fn</span> <span class="o">&amp;&amp;</span> <span class="nx">easing</span> <span class="o">||</span> <span class="nx">easing</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">easing</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">easing</span>
	<span class="p">};</span>

	<span class="nx">opt</span><span class="p">.</span><span class="nx">duration</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">off</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="k">typeof</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">duration</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="o">?</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">duration</span> <span class="o">:</span>
		<span class="nx">opt</span><span class="p">.</span><span class="nx">duration</span> <span class="k">in</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">[</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">duration</span> <span class="p">]</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">.</span><span class="nx">_default</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-934">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-934">&#182;</a>               </div>               <p>normalize opt.queue - true/undefined/null -> "fx"</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">queue</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">queue</span> <span class="o">===</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">opt</span><span class="p">.</span><span class="nx">queue</span> <span class="o">=</span> <span class="s2">&quot;fx&quot;</span><span class="p">;</span>
	<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-935">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-935">&#182;</a>               </div>               <p>Queueing</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">opt</span><span class="p">.</span><span class="nx">old</span> <span class="o">=</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">complete</span><span class="p">;</span>

	<span class="nx">opt</span><span class="p">.</span><span class="nx">complete</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">old</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">opt</span><span class="p">.</span><span class="nx">old</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">queue</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">opt</span><span class="p">.</span><span class="nx">queue</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span>

	<span class="k">return</span> <span class="nx">opt</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">easing</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">linear</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">p</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">p</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">swing</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">p</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="mf">0.5</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span> <span class="nx">p</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">timers</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span> <span class="o">=</span> <span class="nx">Tween</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">tick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">timer</span><span class="p">,</span>
		<span class="nx">timers</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span>
		<span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">timers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">timer</span> <span class="o">=</span> <span class="nx">timers</span><span class="p">[</span> <span class="nx">i</span> <span class="p">];</span></pre></div>             </td>           </tr>                               <tr id="section-936">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-936">&#182;</a>               </div>               <p>Checks the timer has not already been removed</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">timer</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">timers</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">===</span> <span class="nx">timer</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">timers</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">i</span><span class="o">--</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">timers</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">timer</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">timer</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">timers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">timer</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">timerId</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">timerId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">tick</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">interval</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">interval</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">clearInterval</span><span class="p">(</span> <span class="nx">timerId</span> <span class="p">);</span>
	<span class="nx">timerId</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span> <span class="o">=</span> <span class="p">{</span>
	<span class="nx">slow</span><span class="o">:</span> <span class="mi">600</span><span class="p">,</span>
	<span class="nx">fast</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span></pre></div>             </td>           </tr>                               <tr id="section-937">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-937">&#182;</a>               </div>               <p>Default speed</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">_default</span><span class="o">:</span> <span class="mi">400</span>
<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-938">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-938">&#182;</a>               </div>               <p>Back Compat &lt;1.8 extension point</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span> <span class="o">=</span> <span class="p">{};</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">animated</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">elem</span> <span class="o">===</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">elem</span><span class="p">;</span>
		<span class="p">}).</span><span class="nx">length</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">rroot</span> <span class="o">=</span> <span class="sr">/^(?:body|html)$/i</span><span class="p">;</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">offset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">options</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">?</span>
			<span class="k">this</span> <span class="o">:</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">jQuery</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">setOffset</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">i</span> <span class="p">);</span>
			<span class="p">});</span>
	<span class="p">}</span>

	<span class="kd">var</span> <span class="nx">box</span><span class="p">,</span> <span class="nx">docElem</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span> <span class="nx">win</span><span class="p">,</span> <span class="nx">clientTop</span><span class="p">,</span> <span class="nx">clientLeft</span><span class="p">,</span> <span class="nx">scrollTop</span><span class="p">,</span> <span class="nx">scrollLeft</span><span class="p">,</span> <span class="nx">top</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span>
		<span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
		<span class="nx">doc</span> <span class="o">=</span> <span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">doc</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="o">===</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">bodyOffset</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">docElem</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-939">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-939">&#182;</a>               </div>               <p>Make sure we're not dealing with a disconnected DOM node</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span> <span class="nx">docElem</span><span class="p">,</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span> <span class="nx">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
	<span class="p">}</span>

	<span class="nx">box</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
	<span class="nx">win</span> <span class="o">=</span> <span class="nx">getWindow</span><span class="p">(</span> <span class="nx">doc</span> <span class="p">);</span>
	<span class="nx">clientTop</span>  <span class="o">=</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">clientTop</span>  <span class="o">||</span> <span class="nx">body</span><span class="p">.</span><span class="nx">clientTop</span>  <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
	<span class="nx">clientLeft</span> <span class="o">=</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">clientLeft</span> <span class="o">||</span> <span class="nx">body</span><span class="p">.</span><span class="nx">clientLeft</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
	<span class="nx">scrollTop</span>  <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">pageYOffset</span> <span class="o">||</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">;</span>
	<span class="nx">scrollLeft</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">pageXOffset</span> <span class="o">||</span> <span class="nx">docElem</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">;</span>
	<span class="nx">top</span>  <span class="o">=</span> <span class="nx">box</span><span class="p">.</span><span class="nx">top</span>  <span class="o">+</span> <span class="nx">scrollTop</span>  <span class="o">-</span> <span class="nx">clientTop</span><span class="p">;</span>
	<span class="nx">left</span> <span class="o">=</span> <span class="nx">box</span><span class="p">.</span><span class="nx">left</span> <span class="o">+</span> <span class="nx">scrollLeft</span> <span class="o">-</span> <span class="nx">clientLeft</span><span class="p">;</span>

	<span class="k">return</span> <span class="p">{</span> <span class="nx">top</span><span class="o">:</span> <span class="nx">top</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span> <span class="nx">left</span> <span class="p">};</span>
<span class="p">};</span>

<span class="nx">jQuery</span><span class="p">.</span><span class="nx">offset</span> <span class="o">=</span> <span class="p">{</span>

	<span class="nx">bodyOffset</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">body</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="nx">body</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">,</span>
			<span class="nx">left</span> <span class="o">=</span> <span class="nx">body</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">doesNotIncludeMarginInBodyOffset</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">top</span>  <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="s2">&quot;marginTop&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">left</span> <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="s2">&quot;marginLeft&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="p">{</span> <span class="nx">top</span><span class="o">:</span> <span class="nx">top</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span> <span class="nx">left</span> <span class="p">};</span>
	<span class="p">},</span>

	<span class="nx">setOffset</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">i</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">position</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-940">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-940">&#182;</a>               </div>               <p>set position first, in-case top/left are set even on static elem</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">position</span> <span class="o">===</span> <span class="s2">&quot;static&quot;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="s2">&quot;relative&quot;</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">curElem</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">),</span>
			<span class="nx">curOffset</span> <span class="o">=</span> <span class="nx">curElem</span><span class="p">.</span><span class="nx">offset</span><span class="p">(),</span>
			<span class="nx">curCSSTop</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span> <span class="p">),</span>
			<span class="nx">curCSSLeft</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span> <span class="p">),</span>
			<span class="nx">calculatePosition</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">position</span> <span class="o">===</span> <span class="s2">&quot;absolute&quot;</span> <span class="o">||</span> <span class="nx">position</span> <span class="o">===</span> <span class="s2">&quot;fixed&quot;</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">curCSSTop</span><span class="p">,</span> <span class="nx">curCSSLeft</span><span class="p">])</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
			<span class="nx">props</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">curPosition</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">curTop</span><span class="p">,</span> <span class="nx">curLeft</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-941">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-941">&#182;</a>               </div>               <p>need to be able to calculate position if either top or left is auto and position is either absolute or fixed</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">calculatePosition</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">curPosition</span> <span class="o">=</span> <span class="nx">curElem</span><span class="p">.</span><span class="nx">position</span><span class="p">();</span>
			<span class="nx">curTop</span> <span class="o">=</span> <span class="nx">curPosition</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span>
			<span class="nx">curLeft</span> <span class="o">=</span> <span class="nx">curPosition</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">curTop</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSSTop</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">curLeft</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">curCSSLeft</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">curOffset</span> <span class="p">);</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">top</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">props</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">curOffset</span><span class="p">.</span><span class="nx">top</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">curTop</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">left</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">props</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">options</span><span class="p">.</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">curOffset</span><span class="p">.</span><span class="nx">left</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">curLeft</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;using&quot;</span> <span class="k">in</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">using</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">props</span> <span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">curElem</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">props</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span>


<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

	<span class="nx">position</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span></pre></div>             </td>           </tr>                               <tr id="section-942">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-942">&#182;</a>               </div>               <p>Get <em>real</em> offsetParent</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">offsetParent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">(),</span></pre></div>             </td>           </tr>                               <tr id="section-943">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-943">&#182;</a>               </div>               <p>Get correct offsets</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">offset</span>       <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">(),</span>
		<span class="nx">parentOffset</span> <span class="o">=</span> <span class="nx">rroot</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">offsetParent</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">)</span> <span class="o">?</span> <span class="p">{</span> <span class="nx">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="o">:</span> <span class="nx">offsetParent</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-944">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-944">&#182;</a>               </div>               <p>Subtract element margins
note: when an element has margin: auto the offsetLeft and marginLeft
are the same in Safari causing offset.left to incorrectly be 0</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">offset</span><span class="p">.</span><span class="nx">top</span>  <span class="o">-=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;marginTop&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
		<span class="nx">offset</span><span class="p">.</span><span class="nx">left</span> <span class="o">-=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="s2">&quot;marginLeft&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-945">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-945">&#182;</a>               </div>               <p>Add offsetParent borders</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">parentOffset</span><span class="p">.</span><span class="nx">top</span>  <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">offsetParent</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;borderTopWidth&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
		<span class="nx">parentOffset</span><span class="p">.</span><span class="nx">left</span> <span class="o">+=</span> <span class="nb">parseFloat</span><span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">offsetParent</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;borderLeftWidth&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-946">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-946">&#182;</a>               </div>               <p>Subtract the two offsets</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">top</span><span class="o">:</span>  <span class="nx">offset</span><span class="p">.</span><span class="nx">top</span>  <span class="o">-</span> <span class="nx">parentOffset</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span>
			<span class="nx">left</span><span class="o">:</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">parentOffset</span><span class="p">.</span><span class="nx">left</span>
		<span class="p">};</span>
	<span class="p">},</span>

	<span class="nx">offsetParent</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">offsetParent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">offsetParent</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
			<span class="k">while</span> <span class="p">(</span> <span class="nx">offsetParent</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="nx">rroot</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">offsetParent</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">offsetParent</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;static&quot;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">offsetParent</span> <span class="o">=</span> <span class="nx">offsetParent</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">return</span> <span class="nx">offsetParent</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-947">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-947">&#182;</a>               </div>               <p>Create scrollLeft and scrollTop methods</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">{</span><span class="nx">scrollLeft</span><span class="o">:</span> <span class="s2">&quot;pageXOffset&quot;</span><span class="p">,</span> <span class="nx">scrollTop</span><span class="o">:</span> <span class="s2">&quot;pageYOffset&quot;</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">prop</span> <span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="sr">/Y/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">prop</span> <span class="p">);</span>

	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">method</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">val</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">val</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">getWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">val</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
				<span class="k">return</span> <span class="nx">win</span> <span class="o">?</span> <span class="p">(</span><span class="nx">prop</span> <span class="k">in</span> <span class="nx">win</span><span class="p">)</span> <span class="o">?</span> <span class="nx">win</span><span class="p">[</span> <span class="nx">prop</span> <span class="p">]</span> <span class="o">:</span>
					<span class="nx">win</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span> <span class="nx">method</span> <span class="p">]</span> <span class="o">:</span>
					<span class="nx">elem</span><span class="p">[</span> <span class="nx">method</span> <span class="p">];</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">win</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">win</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span>
					<span class="o">!</span><span class="nx">top</span> <span class="o">?</span> <span class="nx">val</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">win</span> <span class="p">).</span><span class="nx">scrollLeft</span><span class="p">(),</span>
					 <span class="nx">top</span> <span class="o">?</span> <span class="nx">val</span> <span class="o">:</span> <span class="nx">jQuery</span><span class="p">(</span> <span class="nx">win</span> <span class="p">).</span><span class="nx">scrollTop</span><span class="p">()</span>
				<span class="p">);</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">elem</span><span class="p">[</span> <span class="nx">method</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">},</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">val</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="kc">null</span> <span class="p">);</span>
	<span class="p">};</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">getWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="o">?</span>
		<span class="nx">elem</span> <span class="o">:</span>
		<span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">?</span>
			<span class="nx">elem</span><span class="p">.</span><span class="nx">defaultView</span> <span class="o">||</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentWindow</span> <span class="o">:</span>
			<span class="kc">false</span><span class="p">;</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-948">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-948">&#182;</a>               </div>               <p>Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">{</span> <span class="nx">Height</span><span class="o">:</span> <span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="nx">Width</span><span class="o">:</span> <span class="s2">&quot;width&quot;</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">type</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span> <span class="p">{</span> <span class="nx">padding</span><span class="o">:</span> <span class="s2">&quot;inner&quot;</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="nx">type</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="o">:</span> <span class="s2">&quot;outer&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">defaultExtra</span><span class="p">,</span> <span class="nx">funcName</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-949">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-949">&#182;</a>               </div>               <p>margin is only for outerHeight, outerWidth</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span> <span class="nx">funcName</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">margin</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">chainable</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">defaultExtra</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">margin</span> <span class="o">!==</span> <span class="s2">&quot;boolean&quot;</span> <span class="p">),</span>
				<span class="nx">extra</span> <span class="o">=</span> <span class="nx">defaultExtra</span> <span class="o">||</span> <span class="p">(</span> <span class="nx">margin</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">||</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">?</span> <span class="s2">&quot;margin&quot;</span> <span class="o">:</span> <span class="s2">&quot;border&quot;</span> <span class="p">);</span>

			<span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">doc</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span> <span class="nx">elem</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-950">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-950">&#182;</a>               </div>               <p>As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
isn't a whole lot we can do. See pull request at this URL for discussion:
https://github.com/jquery/jquery/pull/764</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span> <span class="s2">&quot;client&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">];</span>
				<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-951">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-951">&#182;</a>               </div>               <p>Get document width or height</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="k">if</span> <span class="p">(</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">doc</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-952">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-952">&#182;</a>               </div>               <p>Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest
unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span> <span class="s2">&quot;scroll&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">doc</span><span class="p">[</span> <span class="s2">&quot;scroll&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">],</span>
						<span class="nx">elem</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span> <span class="s2">&quot;offset&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">doc</span><span class="p">[</span> <span class="s2">&quot;offset&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">],</span>
						<span class="nx">doc</span><span class="p">[</span> <span class="s2">&quot;client&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="p">]</span>
					<span class="p">);</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">?</span></pre></div>             </td>           </tr>                               <tr id="section-953">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-953">&#182;</a>               </div>               <p>Get width or height on the element, requesting but not forcing parseFloat</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">)</span> <span class="o">:</span></pre></div>             </td>           </tr>                               <tr id="section-954">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-954">&#182;</a>               </div>               <p>Set width or height on the element</p>             </td>             <td class="code">               <div class="highlight"><pre>					<span class="nx">jQuery</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">extra</span> <span class="p">);</span>
			<span class="p">},</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">chainable</span> <span class="o">?</span> <span class="nx">margin</span> <span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">chainable</span> <span class="p">);</span>
		<span class="p">};</span>
	<span class="p">});</span>
<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-955">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-955">&#182;</a>               </div>               <p>Expose jQuery to the global object</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-956">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-956">&#182;</a>               </div>               <p>Expose jQuery as an AMD module, but only for AMD loaders that
understand the issues with loading multiple versions of jQuery
in a page that all might call define(). The loader will indicate
they have special allowances for multiple jQuery versions by
specifying define.amd.jQuery = true. Register as a named module,
since jQuery can be concatenated with other files that may use define,
but not use a proper concatenation script that understands anonymous
AMD modules. A named AMD is safest and most robust way to register.
Lowercase jquery is used because AMD module names are derived from
file names, and jQuery is normally delivered in a lowercase file name.
Do this after creating the global so that if an AMD module wants to call
noConflict to hide this version of jQuery, it will work.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">define</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">define</span><span class="p">.</span><span class="nx">amd</span> <span class="o">&amp;&amp;</span> <span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">.</span><span class="nx">jQuery</span> <span class="p">)</span> <span class="p">{</span>
	<span class="nx">define</span><span class="p">(</span> <span class="s2">&quot;jquery&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">jQuery</span><span class="p">;</span> <span class="p">}</span> <span class="p">);</span>
<span class="p">}</span>

<span class="p">})(</span> <span class="nb">window</span> <span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 